function Iterator(a){this.cursor=0,this.length=a.length,this.array=a}function BigInteger(a,b,c){null!=a&&("number"==typeof a?this.fromNumber(a,b,c):null==b&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,b))}function nbi(){return new BigInteger(null)}function am1(a,b,c,d,e,f){for(;--f>=0;){var g=b*this[a++]+c[d]+e;e=Math.floor(g/67108864),c[d++]=67108863&g}return e}function am2(a,b,c,d,e,f){for(var g=32767&b,h=b>>15;--f>=0;){var i=32767&this[a],j=this[a++]>>15,k=h*i+j*g;i=g*i+((32767&k)<<15)+c[d]+(1073741823&e),e=(i>>>30)+(k>>>15)+h*j+(e>>>30),c[d++]=1073741823&i}return e}function am3(a,b,c,d,e,f){for(var g=16383&b,h=b>>14;--f>=0;){var i=16383&this[a],j=this[a++]>>14,k=h*i+j*g;i=g*i+((16383&k)<<14)+c[d]+e,e=(i>>28)+(k>>14)+h*j,c[d++]=268435455&i}return e}function int2char(a){return BI_RM.charAt(a)}function intAt(a,b){var c=BI_RC[a.charCodeAt(b)];return null==c?-1:c}function bnpCopyTo(a){for(var b=this.t-1;b>=0;--b)a[b]=this[b];a.t=this.t,a.s=this.s}function bnpFromInt(a){this.t=1,this.s=0>a?-1:0,a>0?this[0]=a:-1>a?this[0]=a+this.DV:this.t=0}function nbv(a){var b=nbi();return b.fromInt(a),b}function bnpFromString(a,b){var c;if(16==b)c=4;else if(8==b)c=3;else if(256==b)c=8;else if(2==b)c=1;else if(32==b)c=5;else{if(4!=b)return void this.fromRadix(a,b);c=2}this.t=0,this.s=0;for(var d=a.length,e=!1,f=0;--d>=0;){var g=8==c?255&a[d]:intAt(a,d);0>g?"-"==a.charAt(d)&&(e=!0):(e=!1,0==f?this[this.t++]=g:f+c>this.DB?(this[this.t-1]|=(g&(1<<this.DB-f)-1)<<f,this[this.t++]=g>>this.DB-f):this[this.t-1]|=g<<f,f+=c,f>=this.DB&&(f-=this.DB))}8==c&&0!=(128&a[0])&&(this.s=-1,f>0&&(this[this.t-1]|=(1<<this.DB-f)-1<<f)),this.clamp(),e&&BigInteger.ZERO.subTo(this,this)}function bnpClamp(){for(var a=this.s&this.DM;this.t>0&&this[this.t-1]==a;)--this.t}function bnToString(a){if(this.s<0)return"-"+this.negate().toString(a);var b;if(16==a)b=4;else if(8==a)b=3;else if(2==a)b=1;else if(32==a)b=5;else{if(4!=a)return this.toRadix(a);b=2}var c,d=(1<<b)-1,e=!1,f="",g=this.t,h=this.DB-g*this.DB%b;if(g-->0)for(h<this.DB&&(c=this[g]>>h)>0&&(e=!0,f=int2char(c));g>=0;)b>h?(c=(this[g]&(1<<h)-1)<<b-h,c|=this[--g]>>(h+=this.DB-b)):(c=this[g]>>(h-=b)&d,0>=h&&(h+=this.DB,--g)),c>0&&(e=!0),e&&(f+=int2char(c));return e?f:"0"}function bnNegate(){var a=nbi();return BigInteger.ZERO.subTo(this,a),a}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(a){var b=this.s-a.s;if(0!=b)return b;var c=this.t;if(b=c-a.t,0!=b)return this.s<0?-b:b;for(;--c>=0;)if(0!=(b=this[c]-a[c]))return b;return 0}function nbits(a){var b,c=1;return 0!=(b=a>>>16)&&(a=b,c+=16),0!=(b=a>>8)&&(a=b,c+=8),0!=(b=a>>4)&&(a=b,c+=4),0!=(b=a>>2)&&(a=b,c+=2),0!=(b=a>>1)&&(a=b,c+=1),c}function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(a,b){var c;for(c=this.t-1;c>=0;--c)b[c+a]=this[c];for(c=a-1;c>=0;--c)b[c]=0;b.t=this.t+a,b.s=this.s}function bnpDRShiftTo(a,b){for(var c=a;c<this.t;++c)b[c-a]=this[c];b.t=Math.max(this.t-a,0),b.s=this.s}function bnpLShiftTo(a,b){var c,d=a%this.DB,e=this.DB-d,f=(1<<e)-1,g=Math.floor(a/this.DB),h=this.s<<d&this.DM;for(c=this.t-1;c>=0;--c)b[c+g+1]=this[c]>>e|h,h=(this[c]&f)<<d;for(c=g-1;c>=0;--c)b[c]=0;b[g]=h,b.t=this.t+g+1,b.s=this.s,b.clamp()}function bnpRShiftTo(a,b){b.s=this.s;var c=Math.floor(a/this.DB);if(c>=this.t)return void(b.t=0);var d=a%this.DB,e=this.DB-d,f=(1<<d)-1;b[0]=this[c]>>d;for(var g=c+1;g<this.t;++g)b[g-c-1]|=(this[g]&f)<<e,b[g-c]=this[g]>>d;d>0&&(b[this.t-c-1]|=(this.s&f)<<e),b.t=this.t-c,b.clamp()}function bnpSubTo(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);e>c;)d+=this[c]-a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d-=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d-=a[c],b[c++]=d&this.DM,d>>=this.DB;d-=a.s}b.s=0>d?-1:0,-1>d?b[c++]=this.DV+d:d>0&&(b[c++]=d),b.t=c,b.clamp()}function bnpMultiplyTo(a,b){var c=this.abs(),d=a.abs(),e=c.t;for(b.t=e+d.t;--e>=0;)b[e]=0;for(e=0;e<d.t;++e)b[e+c.t]=c.am(0,d[e],b,e,0,c.t);b.s=0,b.clamp(),this.s!=a.s&&BigInteger.ZERO.subTo(b,b)}function bnpSquareTo(a){for(var b=this.abs(),c=a.t=2*b.t;--c>=0;)a[c]=0;for(c=0;c<b.t-1;++c){var d=b.am(c,b[c],a,2*c,0,1);(a[c+b.t]+=b.am(c+1,2*b[c],a,2*c+1,d,b.t-c-1))>=b.DV&&(a[c+b.t]-=b.DV,a[c+b.t+1]=1)}a.t>0&&(a[a.t-1]+=b.am(c,b[c],a,2*c,0,1)),a.s=0,a.clamp()}function bnpDivRemTo(a,b,c){var d=a.abs();if(!(d.t<=0)){var e=this.abs();if(e.t<d.t)return null!=b&&b.fromInt(0),void(null!=c&&this.copyTo(c));null==c&&(c=nbi());var f=nbi(),g=this.s,h=a.s,i=this.DB-nbits(d[d.t-1]);i>0?(d.lShiftTo(i,f),e.lShiftTo(i,c)):(d.copyTo(f),e.copyTo(c));var j=f.t,k=f[j-1];if(0!=k){var l=k*(1<<this.F1)+(j>1?f[j-2]>>this.F2:0),m=this.FV/l,n=(1<<this.F1)/l,o=1<<this.F2,p=c.t,q=p-j,r=null==b?nbi():b;for(f.dlShiftTo(q,r),c.compareTo(r)>=0&&(c[c.t++]=1,c.subTo(r,c)),BigInteger.ONE.dlShiftTo(j,r),r.subTo(f,f);f.t<j;)f[f.t++]=0;for(;--q>=0;){var s=c[--p]==k?this.DM:Math.floor(c[p]*m+(c[p-1]+o)*n);if((c[p]+=f.am(0,s,c,q,0,j))<s)for(f.dlShiftTo(q,r),c.subTo(r,c);c[p]<--s;)c.subTo(r,c)}null!=b&&(c.drShiftTo(j,b),g!=h&&BigInteger.ZERO.subTo(b,b)),c.t=j,c.clamp(),i>0&&c.rShiftTo(i,c),0>g&&BigInteger.ZERO.subTo(c,c)}}}function bnMod(a){var b=nbi();return this.abs().divRemTo(a,null,b),this.s<0&&b.compareTo(BigInteger.ZERO)>0&&a.subTo(b,b),b}function Classic(a){this.m=a}function cConvert(a){return a.s<0||a.compareTo(this.m)>=0?a.mod(this.m):a}function cRevert(a){return a}function cReduce(a){a.divRemTo(this.m,null,a)}function cMulTo(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function cSqrTo(a,b){a.squareTo(b),this.reduce(b)}function bnpInvDigit(){if(this.t<1)return 0;var a=this[0];if(0==(1&a))return 0;var b=3&a;return b=b*(2-(15&a)*b)&15,b=b*(2-(255&a)*b)&255,b=b*(2-((65535&a)*b&65535))&65535,b=b*(2-a*b%this.DV)%this.DV,b>0?this.DV-b:-b}function Montgomery(a){this.m=a,this.mp=a.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<a.DB-15)-1,this.mt2=2*a.t}function montConvert(a){var b=nbi();return a.abs().dlShiftTo(this.m.t,b),b.divRemTo(this.m,null,b),a.s<0&&b.compareTo(BigInteger.ZERO)>0&&this.m.subTo(b,b),b}function montRevert(a){var b=nbi();return a.copyTo(b),this.reduce(b),b}function montReduce(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var b=0;b<this.m.t;++b){var c=32767&a[b],d=c*this.mpl+((c*this.mph+(a[b]>>15)*this.mpl&this.um)<<15)&a.DM;for(c=b+this.m.t,a[c]+=this.m.am(0,d,a,b,0,this.m.t);a[c]>=a.DV;)a[c]-=a.DV,a[++c]++}a.clamp(),a.drShiftTo(this.m.t,a),a.compareTo(this.m)>=0&&a.subTo(this.m,a)}function montSqrTo(a,b){a.squareTo(b),this.reduce(b)}function montMulTo(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function bnpIsEven(){return 0==(this.t>0?1&this[0]:this.s)}function bnpExp(a,b){if(a>4294967295||1>a)return BigInteger.ONE;var c=nbi(),d=nbi(),e=b.convert(this),f=nbits(a)-1;for(e.copyTo(c);--f>=0;)if(b.sqrTo(c,d),(a&1<<f)>0)b.mulTo(d,e,c);else{var g=c;c=d,d=g}return b.revert(c)}function bnModPowInt(a,b){var c;return c=256>a||b.isEven()?new Classic(b):new Montgomery(b),this.exp(a,c)}function bnClone(){var a=nbi();return this.copyTo(a),a}function bnIntValue(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function bnByteValue(){return 0==this.t?this.s:this[0]<<24>>24}function bnShortValue(){return 0==this.t?this.s:this[0]<<16>>16}function bnpChunkSize(a){return Math.floor(Math.LN2*this.DB/Math.log(a))}function bnSigNum(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function bnpToRadix(a){if(null==a&&(a=10),0==this.signum()||2>a||a>36)return"0";var b=this.chunkSize(a),c=Math.pow(a,b),d=nbv(c),e=nbi(),f=nbi(),g="";for(this.divRemTo(d,e,f);e.signum()>0;)g=(c+f.intValue()).toString(a).substr(1)+g,e.divRemTo(d,e,f);return f.intValue().toString(a)+g}function bnpFromRadix(a,b){this.fromInt(0),null==b&&(b=10);for(var c=this.chunkSize(b),d=Math.pow(b,c),e=!1,f=0,g=0,h=0;h<a.length;++h){var i=intAt(a,h);0>i?"-"==a.charAt(h)&&0==this.signum()&&(e=!0):(g=b*g+i,++f>=c&&(this.dMultiply(d),this.dAddOffset(g,0),f=0,g=0))}f>0&&(this.dMultiply(Math.pow(b,f)),this.dAddOffset(g,0)),e&&BigInteger.ZERO.subTo(this,this)}function bnpFromNumber(a,b,c){if("number"==typeof b)if(2>a)this.fromInt(1);else for(this.fromNumber(a,c),this.testBit(a-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(b);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(BigInteger.ONE.shiftLeft(a-1),this);else{var d=new Array,e=7&a;d.length=(a>>3)+1,b.nextBytes(d),e>0?d[0]&=(1<<e)-1:d[0]=0,this.fromString(d,256)}}function bnToByteArray(){var a=this.t,b=new Array;b[0]=this.s;var c,d=this.DB-a*this.DB%8,e=0;if(a-->0)for(d<this.DB&&(c=this[a]>>d)!=(this.s&this.DM)>>d&&(b[e++]=c|this.s<<this.DB-d);a>=0;)8>d?(c=(this[a]&(1<<d)-1)<<8-d,c|=this[--a]>>(d+=this.DB-8)):(c=this[a]>>(d-=8)&255,0>=d&&(d+=this.DB,--a)),0!=(128&c)&&(c|=-256),0==e&&(128&this.s)!=(128&c)&&++e,(e>0||c!=this.s)&&(b[e++]=c);return b}function bnEquals(a){return 0==this.compareTo(a)}function bnMin(a){return this.compareTo(a)<0?this:a}function bnMax(a){return this.compareTo(a)>0?this:a}function bnpBitwiseTo(a,b,c){var d,e,f=Math.min(a.t,this.t);for(d=0;f>d;++d)c[d]=b(this[d],a[d]);if(a.t<this.t){for(e=a.s&this.DM,d=f;d<this.t;++d)c[d]=b(this[d],e);c.t=this.t}else{for(e=this.s&this.DM,d=f;d<a.t;++d)c[d]=b(e,a[d]);c.t=a.t}c.s=b(this.s,a.s),c.clamp()}function op_and(a,b){return a&b}function bnAnd(a){var b=nbi();return this.bitwiseTo(a,op_and,b),b}function op_or(a,b){return a|b}function bnOr(a){var b=nbi();return this.bitwiseTo(a,op_or,b),b}function op_xor(a,b){return a^b}function bnXor(a){var b=nbi();return this.bitwiseTo(a,op_xor,b),b}function op_andnot(a,b){return a&~b}function bnAndNot(a){var b=nbi();return this.bitwiseTo(a,op_andnot,b),b}function bnNot(){for(var a=nbi(),b=0;b<this.t;++b)a[b]=this.DM&~this[b];return a.t=this.t,a.s=~this.s,a}function bnShiftLeft(a){var b=nbi();return 0>a?this.rShiftTo(-a,b):this.lShiftTo(a,b),b}function bnShiftRight(a){var b=nbi();return 0>a?this.lShiftTo(-a,b):this.rShiftTo(a,b),b}function lbit(a){if(0==a)return-1;var b=0;return 0==(65535&a)&&(a>>=16,b+=16),0==(255&a)&&(a>>=8,b+=8),0==(15&a)&&(a>>=4,b+=4),0==(3&a)&&(a>>=2,b+=2),0==(1&a)&&++b,b}function bnGetLowestSetBit(){for(var a=0;a<this.t;++a)if(0!=this[a])return a*this.DB+lbit(this[a]);return this.s<0?this.t*this.DB:-1}function cbit(a){for(var b=0;0!=a;)a&=a-1,++b;return b}function bnBitCount(){for(var a=0,b=this.s&this.DM,c=0;c<this.t;++c)a+=cbit(this[c]^b);return a}function bnTestBit(a){var b=Math.floor(a/this.DB);return b>=this.t?0!=this.s:0!=(this[b]&1<<a%this.DB)}function bnpChangeBit(a,b){var c=BigInteger.ONE.shiftLeft(a);return this.bitwiseTo(c,b,c),c}function bnSetBit(a){return this.changeBit(a,op_or)}function bnClearBit(a){return this.changeBit(a,op_andnot)}function bnFlipBit(a){return this.changeBit(a,op_xor)}function bnpAddTo(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);e>c;)d+=this[c]+a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d+=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d+=a[c],b[c++]=d&this.DM,d>>=this.DB;d+=a.s}b.s=0>d?-1:0,d>0?b[c++]=d:-1>d&&(b[c++]=this.DV+d),b.t=c,b.clamp()}function bnAdd(a){var b=nbi();return this.addTo(a,b),b}function bnSubtract(a){var b=nbi();return this.subTo(a,b),b}function bnMultiply(a){var b=nbi();return this.multiplyTo(a,b),b}function bnSquare(){var a=nbi();return this.squareTo(a),a}function bnDivide(a){var b=nbi();return this.divRemTo(a,b,null),b}function bnRemainder(a){var b=nbi();return this.divRemTo(a,null,b),b}function bnDivideAndRemainder(a){var b=nbi(),c=nbi();return this.divRemTo(a,b,c),new Array(b,c)}function bnpDMultiply(a){this[this.t]=this.am(0,a-1,this,0,0,this.t),++this.t,this.clamp()}function bnpDAddOffset(a,b){if(0!=a){for(;this.t<=b;)this[this.t++]=0;for(this[b]+=a;this[b]>=this.DV;)this[b]-=this.DV,++b>=this.t&&(this[this.t++]=0),++this[b]}}function NullExp(){}function nNop(a){return a}function nMulTo(a,b,c){a.multiplyTo(b,c)}function nSqrTo(a,b){a.squareTo(b)}function bnPow(a){return this.exp(a,new NullExp)}function bnpMultiplyLowerTo(a,b,c){var d=Math.min(this.t+a.t,b);for(c.s=0,c.t=d;d>0;)c[--d]=0;var e;for(e=c.t-this.t;e>d;++d)c[d+this.t]=this.am(0,a[d],c,d,0,this.t);for(e=Math.min(a.t,b);e>d;++d)this.am(0,a[d],c,d,0,b-d);c.clamp()}function bnpMultiplyUpperTo(a,b,c){--b;var d=c.t=this.t+a.t-b;for(c.s=0;--d>=0;)c[d]=0;for(d=Math.max(b-this.t,0);d<a.t;++d)c[this.t+d-b]=this.am(b-d,a[d],c,0,0,this.t+d-b);c.clamp(),c.drShiftTo(1,c)}function Barrett(a){this.r2=nbi(),this.q3=nbi(),BigInteger.ONE.dlShiftTo(2*a.t,this.r2),this.mu=this.r2.divide(a),this.m=a}function barrettConvert(a){if(a.s<0||a.t>2*this.m.t)return a.mod(this.m);if(a.compareTo(this.m)<0)return a;var b=nbi();return a.copyTo(b),this.reduce(b),b}function barrettRevert(a){return a}function barrettReduce(a){for(a.drShiftTo(this.m.t-1,this.r2),a.t>this.m.t+1&&(a.t=this.m.t+1,a.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);a.compareTo(this.r2)<0;)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);a.compareTo(this.m)>=0;)a.subTo(this.m,a)}function barrettSqrTo(a,b){a.squareTo(b),this.reduce(b)}function barrettMulTo(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function bnModPow(a,b){var c,d,e=a.bitLength(),f=nbv(1);if(0>=e)return f;c=18>e?1:48>e?3:144>e?4:768>e?5:6,d=8>e?new Classic(b):b.isEven()?new Barrett(b):new Montgomery(b);var g=new Array,h=3,i=c-1,j=(1<<c)-1;if(g[1]=d.convert(this),c>1){var k=nbi();for(d.sqrTo(g[1],k);j>=h;)g[h]=nbi(),d.mulTo(k,g[h-2],g[h]),h+=2}var l,m,n=a.t-1,o=!0,p=nbi();for(e=nbits(a[n])-1;n>=0;){for(e>=i?l=a[n]>>e-i&j:(l=(a[n]&(1<<e+1)-1)<<i-e,n>0&&(l|=a[n-1]>>this.DB+e-i)),h=c;0==(1&l);)l>>=1,--h;if((e-=h)<0&&(e+=this.DB,--n),o)g[l].copyTo(f),o=!1;else{for(;h>1;)d.sqrTo(f,p),d.sqrTo(p,f),h-=2;h>0?d.sqrTo(f,p):(m=f,f=p,p=m),d.mulTo(p,g[l],f)}for(;n>=0&&0==(a[n]&1<<e);)d.sqrTo(f,p),m=f,f=p,p=m,--e<0&&(e=this.DB-1,--n)}return d.revert(f)}function bnGCD(a){var b=this.s<0?this.negate():this.clone(),c=a.s<0?a.negate():a.clone();if(b.compareTo(c)<0){var d=b;b=c,c=d}var e=b.getLowestSetBit(),f=c.getLowestSetBit();if(0>f)return b;for(f>e&&(f=e),f>0&&(b.rShiftTo(f,b),c.rShiftTo(f,c));b.signum()>0;)(e=b.getLowestSetBit())>0&&b.rShiftTo(e,b),(e=c.getLowestSetBit())>0&&c.rShiftTo(e,c),b.compareTo(c)>=0?(b.subTo(c,b),b.rShiftTo(1,b)):(c.subTo(b,c),c.rShiftTo(1,c));return f>0&&c.lShiftTo(f,c),c}function bnpModInt(a){if(0>=a)return 0;var b=this.DV%a,c=this.s<0?a-1:0;if(this.t>0)if(0==b)c=this[0]%a;else for(var d=this.t-1;d>=0;--d)c=(b*c+this[d])%a;return c}function bnModInverse(a){var b=a.isEven();if(this.isEven()&&b||0==a.signum())return BigInteger.ZERO;for(var c=a.clone(),d=this.clone(),e=nbv(1),f=nbv(0),g=nbv(0),h=nbv(1);0!=c.signum();){for(;c.isEven();)c.rShiftTo(1,c),b?(e.isEven()&&f.isEven()||(e.addTo(this,e),f.subTo(a,f)),e.rShiftTo(1,e)):f.isEven()||f.subTo(a,f),f.rShiftTo(1,f);for(;d.isEven();)d.rShiftTo(1,d),b?(g.isEven()&&h.isEven()||(g.addTo(this,g),h.subTo(a,h)),g.rShiftTo(1,g)):h.isEven()||h.subTo(a,h),h.rShiftTo(1,h);c.compareTo(d)>=0?(c.subTo(d,c),b&&e.subTo(g,e),f.subTo(h,f)):(d.subTo(c,d),b&&g.subTo(e,g),h.subTo(f,h))}return 0!=d.compareTo(BigInteger.ONE)?BigInteger.ZERO:h.compareTo(a)>=0?h.subtract(a):h.signum()<0?(h.addTo(a,h),h.signum()<0?h.add(a):h):h}function bnIsProbablePrime(a){var b,c=this.abs();if(1==c.t&&c[0]<=lowprimes[lowprimes.length-1]){for(b=0;b<lowprimes.length;++b)if(c[0]==lowprimes[b])return!0;return!1}if(c.isEven())return!1;for(b=1;b<lowprimes.length;){for(var d=lowprimes[b],e=b+1;e<lowprimes.length&&lplim>d;)d*=lowprimes[e++];for(d=c.modInt(d);e>b;)if(d%lowprimes[b++]==0)return!1}return c.millerRabin(a)}function bnpMillerRabin(a){var b=this.subtract(BigInteger.ONE),c=b.getLowestSetBit();if(0>=c)return!1;var d=b.shiftRight(c);a=a+1>>1,a>lowprimes.length&&(a=lowprimes.length);for(var e=nbi(),f=0;a>f;++f){e.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);var g=e.modPow(d,this);if(0!=g.compareTo(BigInteger.ONE)&&0!=g.compareTo(b)){for(var h=1;h++<c&&0!=g.compareTo(b);)if(g=g.modPowInt(2,this),0==g.compareTo(BigInteger.ONE))return!1;if(0!=g.compareTo(b))return!1}}return!0}function NxtAddress(a){function b(a){return m[31-n[a]]}function c(a,b){if(0==a||0==b)return 0;var c=(n[a]+n[b])%31;return m[c]}function d(a,b){for(var d=0,e=0;b>e;e++)d^=c(a[e],l[b-e]);return d}function e(a){for(var b=[],d=1;31>=d;d++){for(var e=0,f=0;5>f;f++)e^=c(m[f*d%31],a[f]);if(0==e){var g=31-d;if(g>12&&27>g)return[];b[b.length]=g}}return b}function f(){for(var a=0,f=[0,0,0,0,0],g=[],h=0,i=[1,0,0,0,0],j=0;4>j;j++){var n=d(i,j+1);if(0!=n){h=0;for(var o=0;5>o;o++)g[o]=i[o]^c(n,f[o]),g[o]&&(h=o);if(j>=2*a)for(a=j+1-a,o=0;5>o;o++)f[o]=c(i[o],b(n));i=g.slice()}f.unshift(0)}var p=e(i),q=p.length;if(1>q||q>2)return!1;if(h!=q)return!1;for(var r=[0,0,0,0,0],o=0;4>o;o++){for(var g=0,s=0;o>s;s++)g^=c(l[o+1-s],i[s]);r[o]=g}for(j=0;q>j;j++){var g=0,t=p[j],u=31-t;for(o=0;4>o;o++)g^=c(r[o],m[u*o%31]);if(g){var v=c(i[1],1)^c(i[3],m[2*u%31]);if(0==v)return!1;t>12&&(t-=14),k[t]^=c(g,b(v))}}return!0}function g(){for(var a=[0,0,0,0],b=12;b>=0;b--){var d=k[b]^a[3];a[3]=a[2]^c(30,d),a[2]=a[1]^c(6,d),a[1]=a[0]^c(9,d),a[0]=c(17,d)}k[13]=a[0],k[14]=a[1],k[15]=a[2],k[16]=a[3]}function h(){for(var a=0;17>a;a++)k[a]=1}function i(a,b,c){"undefined"==typeof b&&(b=17),"undefined"==typeof c&&(c=-1);for(var d=0,e=0;b>d;d++)d!=c&&(k[o[e++]]=a[d])}function j(a){var b=[],c=[],d=0,e=a.length;if(20==e&&"1"!=a.charAt(0))return!1;for(var f=0;e>f;f++)b[f]=a.charCodeAt(f)-"0".charCodeAt(0);do{var h=0,i=0;for(f=0;e>f;f++)h=10*h+b[f],h>=32?(b[i++]=h>>5,h&=31):i>0&&(b[i++]=0);e=i,c[d++]=h}while(i);for(f=0;13>f;f++)k[f]=--d>=0?c[f]:0;return g(),!0}var k=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0],m=[1,2,4,8,16,5,10,20,13,26,17,7,14,28,29,31,27,19,3,6,12,24,21,15,30,25,23,11,22,9,18,1],n=[0,0,1,18,2,5,19,11,3,29,6,27,20,8,12,23,4,10,30,17,7,22,28,26,21,25,9,16,13,14,24,15],o=[3,2,1,0,7,6,5,4,13,14,15,16,12,8,9,10,11],p="23456789ABCDEFGHJKLMNPQRSTUVWXYZ";this.guess=[],this.add_guess=function(){var a=this.toString(),b=this.guess.length;if(!(b>2)){for(var c=0;b>c;c++)if(this.guess[c]==a)return;this.guess[b]=a}},this.ok=function(){for(var a=0,b=1;5>b;b++){for(var d=0,e=0;31>d;d++)if(!(d>12&&27>d)){var f=d;d>26&&(f-=14),e^=c(k[f],m[b*d%31])}a|=e,l[b]=e}return 0==a},this.toString=function(){for(var b=a+"-",c=0;17>c;c++)b+=p[k[o[c]]],3==(3&c)&&13>c&&(b+="-");return b},this.account_id=function(){for(var a="",b=[],c=13,d=0;13>d;d++)b[d]=k[12-d];do{var e=0,f=0;for(d=0;c>d;d++)e=32*e+b[d],e>=10?(b[f++]=Math.floor(e/10),e%=10):f>0&&(b[f++]=0);c=f,a+=String.fromCharCode(e+"0".charCodeAt(0))}while(f);return a.split("").reverse().join("")},this.set=function(b,c){"undefined"==typeof c&&(c=!0);var d=0;if(this.guess=[],h(),b=String(b),b=b.replace(/(^\s+)|(\s+$)/g,"").toUpperCase(),0==b.indexOf(a+"-")&&(b=b.substr(4)),b.match(/^\d{1,20}$/g)){if(c)return j(b)}else for(var e=[],g=0;g<b.length;g++){var k=p.indexOf(b[g]);if(k>=0&&(e[d++]=k,d>18))return!1}if(16==d)for(var g=16;g>=0;g--){for(var l=0;32>l;l++)e[g]=l,i(e),this.ok()&&this.add_guess();if(g>0){var m=e[g-1];e[g-1]=e[g],e[g]=m}}if(18==d)for(var g=0;18>g;g++)i(e,18,g),this.ok()&&this.add_guess();if(17==d){if(i(e),this.ok())return!0;f()&&this.ok()&&this.add_guess()}return h(),!1},this.format_guess=function(a,b){var c="",d=[];a=a.toUpperCase(),b=b.toUpperCase();for(var e=0;e<a.length;){for(var f=0,g=1;g<a.length;g++){var h=b.indexOf(a.substr(e,g));if(-1==h)break;Math.abs(h-e)<3&&(f=g)}f?(d[d.length]={s:e,e:e+f},e+=f):e++}if(0==d.length)return a;for(var e=0,g=0;e<a.length;e++){if(e>=d[g].e)for(var i;g<d.length-1&&(i=d[g++].s,!(e<d[g].e||d[g].s>=i)););c+=e>=d[g].s&&e<d[g].e?a.charAt(e):'<b style="color:red">'+a.charAt(e)+"</b>"}return c}}function string_to_array(a){for(var b=a.length,c=new Array(b),d=0;b>d;d++)c[d]=a.charCodeAt(d);return c}function array_to_hex_string(a){for(var b="",c=0;c<a.length;c++)b+=SHA256_hexchars[a[c]>>4]+SHA256_hexchars[15&a[c]];return b}function SHA256_init(){SHA256_H=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),SHA256_buf=new Array,SHA256_len=0}function SHA256_write(a){SHA256_buf=SHA256_buf.concat("string"==typeof a?string_to_array(a):a);for(var b=0;b+64<=SHA256_buf.length;b+=64)SHA256_Hash_Byte_Block(SHA256_H,SHA256_buf.slice(b,b+64));SHA256_buf=SHA256_buf.slice(b),SHA256_len+=a.length}function SHA256_finalize(){if(SHA256_buf[SHA256_buf.length]=128,SHA256_buf.length>56){for(var a=SHA256_buf.length;64>a;a++)SHA256_buf[a]=0;SHA256_Hash_Byte_Block(SHA256_H,SHA256_buf),SHA256_buf.length=0}for(var a=SHA256_buf.length;59>a;a++)SHA256_buf[a]=0;SHA256_buf[59]=SHA256_len>>>29&255,SHA256_buf[60]=SHA256_len>>>21&255,SHA256_buf[61]=SHA256_len>>>13&255,SHA256_buf[62]=SHA256_len>>>5&255,SHA256_buf[63]=SHA256_len<<3&255,SHA256_Hash_Byte_Block(SHA256_H,SHA256_buf);for(var b=new Array(32),a=0;8>a;a++)b[4*a+0]=SHA256_H[a]>>>24,b[4*a+1]=SHA256_H[a]>>16&255,b[4*a+2]=SHA256_H[a]>>8&255,b[4*a+3]=255&SHA256_H[a];return delete SHA256_H,delete SHA256_buf,delete SHA256_len,b}function SHA256_hash(a,b){var c;return SHA256_init(),SHA256_write(a),c=SHA256_finalize(),b?c:array_to_hex_string(c)}function HMAC_SHA256_init(a){HMAC_SHA256_key="string"==typeof a?string_to_array(a):(new Array).concat(a),HMAC_SHA256_key.length>64&&(SHA256_init(),SHA256_write(HMAC_SHA256_key),HMAC_SHA256_key=SHA256_finalize());for(var b=HMAC_SHA256_key.length;64>b;b++)HMAC_SHA256_key[b]=0;for(var b=0;64>b;b++)HMAC_SHA256_key[b]^=54;SHA256_init(),SHA256_write(HMAC_SHA256_key)}function HMAC_SHA256_write(a){SHA256_write(a)}function HMAC_SHA256_finalize(){for(var a=SHA256_finalize(),b=0;64>b;b++)HMAC_SHA256_key[b]^=106;SHA256_init(),SHA256_write(HMAC_SHA256_key),SHA256_write(a);for(var b=0;64>b;b++)HMAC_SHA256_key[b]=0;return delete HMAC_SHA256_key,SHA256_finalize()}function HMAC_SHA256_MAC(a,b){var c;return HMAC_SHA256_init(a),HMAC_SHA256_write(b),c=HMAC_SHA256_finalize(),array_to_hex_string(c)}function SHA256_sigma0(a){return(a>>>7|a<<25)^(a>>>18|a<<14)^a>>>3}function SHA256_sigma1(a){return(a>>>17|a<<15)^(a>>>19|a<<13)^a>>>10}function SHA256_Sigma0(a){return(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10)}function SHA256_Sigma1(a){return(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7)}function SHA256_Ch(a,b,c){return c^a&(b^c)}function SHA256_Maj(a,b,c){return a&b^c&(a^b)}function SHA256_Hash_Word_Block(a,b){for(var c=16;64>c;c++)b[c]=SHA256_sigma1(b[c-2])+b[c-7]+SHA256_sigma0(b[c-15])+b[c-16]&4294967295;for(var d=(new Array).concat(a),c=0;64>c;c++){var e=d[7]+SHA256_Sigma1(d[4])+SHA256_Ch(d[4],d[5],d[6])+SHA256_K[c]+b[c],f=SHA256_Sigma0(d[0])+SHA256_Maj(d[0],d[1],d[2]);d.pop(),d.unshift(e+f&4294967295),d[4]=d[4]+e&4294967295}for(var c=0;8>c;c++)a[c]=a[c]+d[c]&4294967295}function SHA256_Hash_Byte_Block(a,b){for(var c=new Array(16),d=0;16>d;d++)c[d]=b[4*d+0]<<24|b[4*d+1]<<16|b[4*d+2]<<8|b[4*d+3];SHA256_Hash_Word_Block(a,c)}function curve25519_sum(a,b,c,d,e,f,g){var h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];curve25519_mulmodp(h,d,e),curve25519_mulmodp(i,c,f),curve25519_addmodp(j,h,i),curve25519_submodp(k,h,i),curve25519_sqrmodp(a,j),curve25519_sqrmodp(h,k),curve25519_mulmodp(b,h,g)}function curve25519_(a,b,c){var d,e,f,g,h,i=new Array(16),j=new Array(16),k=new Array(16),l=new Array(16),m=new Array(16),n=new Int8Array(32),o=new Int8Array(32),p=new Int8Array(64),q=new Int8Array(64);f=b,g=[curve25519_one(),curve25519_zero()],e=[f,curve25519_one()];for(var r,s=255,t=new Array(new Array(16),new Array(16)),u=new Array(new Array(16),new Array(16)),j=new Array(16),k=new Array(16),l=new Array(16),m=new Array(16);s>=0;)r=curve25519_getbit(a,s),0==r?(curve25519_prep(j,k,e[0],e[1]),curve25519_prep(l,m,g[0],g[1]),curve25519_sum(u[0],u[1],j,k,l,m,f),curve25519_dbl(t[0],t[1],l,m)):(curve25519_prep(j,k,g[0],g[1]),curve25519_prep(l,m,e[0],e[1]),curve25519_sum(t[0],t[1],j,k,l,m,f),curve25519_dbl(u[0],u[1],l,m)),g=t,e=u,s--;if(curve25519_invmodp(i,g[1],0),curve25519_mulmodp(j,g[0],i),g[0]=curve25519_cpy16(j),null!=c){i=curve25519_cpy16(g[0]),curve25519_x_to_y2(j,i),curve25519_invmodp(l,e[1],0),curve25519_mulmodp(k,e[0],l),curve25519_addmodp(m,k,i),curve25519_addmodp(k,m,curve25519_486671()),curve25519_submodp(m,i,curve25519_nine()),curve25519_sqrmodp(l,m),curve25519_mulmodp(m,k,l),curve25519_submodp(i,m,j),curve25519_submodp(m,i,curve25519_39420360()),curve25519_mulmodp(j,m,curve25519_r2y()),h=curve25519_convertToByteArray(a),d=curve25519_isNegative(j),0!=d?n=curve25519_cpy32(h):curve25519_mula_small(n,curve25519_order_times_8,0,h,32,-1),o=curve25519_cpy32(curve25519_order),o=curve25519_egcd32(p,q,n,o),n=curve25519_cpy32(o),0!=(128&n[31])&&curve25519_mula_small(n,n,0,curve25519_order,32,1);var v=curve25519_convertToShortArray(n);curve25519_fillShortArray(v,c)}return g[0]}if(function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=eb.type(a);return"function"===c||eb.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(eb.isFunction(b))return eb.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return eb.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(mb.test(b))return eb.filter(b,a,c);b=eb.filter(b,a)}return eb.grep(a,function(a){return eb.inArray(a,b)>=0!==c})}function e(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function f(a){var b=ub[a]={};return eb.each(a.match(tb)||[],function(a,c){b[c]=!0}),b}function g(){ob.addEventListener?(ob.removeEventListener("DOMContentLoaded",h,!1),a.removeEventListener("load",h,!1)):(ob.detachEvent("onreadystatechange",h),a.detachEvent("onload",h))}function h(){(ob.addEventListener||"load"===event.type||"complete"===ob.readyState)&&(g(),eb.ready())}function i(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(zb,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:yb.test(c)?eb.parseJSON(c):c}catch(e){}eb.data(a,b,c)}else c=void 0}return c}function j(a){var b;for(b in a)if(("data"!==b||!eb.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function k(a,b,c,d){if(eb.acceptData(a)){var e,f,g=eb.expando,h=a.nodeType,i=h?eb.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=W.pop()||eb.guid++:g),i[j]||(i[j]=h?{}:{toJSON:eb.noop}),("object"==typeof b||"function"==typeof b)&&(d?i[j]=eb.extend(i[j],b):i[j].data=eb.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[eb.camelCase(b)]=c),"string"==typeof b?(e=f[b],null==e&&(e=f[eb.camelCase(b)])):e=f,e}}function l(a,b,c){if(eb.acceptData(a)){var d,e,f=a.nodeType,g=f?eb.cache:a,h=f?a[eb.expando]:eb.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){eb.isArray(b)?b=b.concat(eb.map(b,eb.camelCase)):b in d?b=[b]:(b=eb.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!j(d):!eb.isEmptyObject(d))return}(c||(delete g[h].data,j(g[h])))&&(f?eb.cleanData([a],!0):cb.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function m(){return!0}function n(){return!1}function o(){try{return ob.activeElement}catch(a){}}function p(a){var b=Kb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function q(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==xb?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==xb?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||eb.nodeName(d,b)?f.push(d):eb.merge(f,q(d,b));return void 0===b||b&&eb.nodeName(a,b)?eb.merge([a],f):f}function r(a){Eb.test(a.type)&&(a.defaultChecked=a.checked)}function s(a,b){return eb.nodeName(a,"table")&&eb.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function t(a){return a.type=(null!==eb.find.attr(a,"type"))+"/"+a.type,a}function u(a){var b=Vb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function v(a,b){for(var c,d=0;null!=(c=a[d]);d++)eb._data(c,"globalEval",!b||eb._data(b[d],"globalEval"))}function w(a,b){if(1===b.nodeType&&eb.hasData(a)){var c,d,e,f=eb._data(a),g=eb._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)eb.event.add(b,c,h[c][d])}g.data&&(g.data=eb.extend({},g.data))}}function x(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!cb.noCloneEvent&&b[eb.expando]){e=eb._data(b);for(d in e.events)eb.removeEvent(b,d,e.handle);b.removeAttribute(eb.expando)}"script"===c&&b.text!==a.text?(t(b).text=a.text,u(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),cb.html5Clone&&a.innerHTML&&!eb.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Eb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function y(b,c){var d,e=eb(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:eb.css(e[0],"display");return e.detach(),f}function z(a){var b=ob,c=_b[a];return c||(c=y(a,b),"none"!==c&&c||($b=($b||eb("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=($b[0].contentWindow||$b[0].contentDocument).document,b.write(),b.close(),c=y(a,b),$b.detach()),_b[a]=c),c}function A(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}function B(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=mc.length;e--;)if(b=mc[e]+c,b in a)return b;return d}function C(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=eb._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Cb(d)&&(f[g]=eb._data(d,"olddisplay",z(d.nodeName)))):(e=Cb(d),(c&&"none"!==c||!e)&&eb._data(d,"olddisplay",e?c:eb.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function D(a,b,c){var d=ic.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=eb.css(a,c+Bb[f],!0,e)),d?("content"===c&&(g-=eb.css(a,"padding"+Bb[f],!0,e)),"margin"!==c&&(g-=eb.css(a,"border"+Bb[f]+"Width",!0,e))):(g+=eb.css(a,"padding"+Bb[f],!0,e),"padding"!==c&&(g+=eb.css(a,"border"+Bb[f]+"Width",!0,e)));return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=ac(a),g=cb.boxSizing&&"border-box"===eb.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=bc(a,b,f),(0>e||null==e)&&(e=a.style[b]),dc.test(e))return e;d=g&&(cb.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b,c,d,e){return new G.prototype.init(a,b,c,d,e)}function H(){return setTimeout(function(){nc=void 0}),nc=eb.now()}function I(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=Bb[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function J(a,b,c){for(var d,e=(tc[b]||[]).concat(tc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function K(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Cb(a),p=eb._data(a,"fxshow");c.queue||(h=eb._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,eb.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=eb.css(a,"display"),k="none"===j?eb._data(a,"olddisplay")||z(a.nodeName):j,"inline"===k&&"none"===eb.css(a,"float")&&(cb.inlineBlockNeedsLayout&&"inline"!==z(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",cb.shrinkWrapBlocks()||l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]
}));for(d in b)if(e=b[d],pc.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||eb.style(a,d)}else j=void 0;if(eb.isEmptyObject(m))"inline"===("none"===j?z(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=eb._data(a,"fxshow",{}),f&&(p.hidden=!o),o?eb(a).show():l.done(function(){eb(a).hide()}),l.done(function(){var b;eb._removeData(a,"fxshow");for(b in m)eb.style(a,b,m[b])});for(d in m)g=J(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function L(a,b){var c,d,e,f,g;for(c in a)if(d=eb.camelCase(c),e=b[d],f=a[c],eb.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=eb.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function M(a,b,c){var d,e,f=0,g=sc.length,h=eb.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=nc||H(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:eb.extend({},b),opts:eb.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:nc||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=eb.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(L(k,j.opts.specialEasing);g>f;f++)if(d=sc[f].call(j,a,k,j.opts))return d;return eb.map(k,J,j),eb.isFunction(j.opts.start)&&j.opts.start.call(a,j),eb.fx.timer(eb.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function N(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(tb)||[];if(eb.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function O(a,b,c,d){function e(h){var i;return f[h]=!0,eb.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Rc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function P(a,b){var c,d,e=eb.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&eb.extend(!0,a,c),a}function Q(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function R(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function S(a,b,c,d){var e;if(eb.isArray(b))eb.each(b,function(b,e){c||Vc.test(a)?d(a,e):S(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==eb.type(b))d(a,b);else for(e in b)S(a+"["+e+"]",b[e],c,d)}function T(){try{return new a.XMLHttpRequest}catch(b){}}function U(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function V(a){return eb.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var W=[],X=W.slice,Y=W.concat,Z=W.push,$=W.indexOf,_={},ab=_.toString,bb=_.hasOwnProperty,cb={},db="1.11.1",eb=function(a,b){return new eb.fn.init(a,b)},fb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gb=/^-ms-/,hb=/-([\da-z])/gi,ib=function(a,b){return b.toUpperCase()};eb.fn=eb.prototype={jquery:db,constructor:eb,selector:"",length:0,toArray:function(){return X.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:X.call(this)},pushStack:function(a){var b=eb.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return eb.each(this,a,b)},map:function(a){return this.pushStack(eb.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:W.sort,splice:W.splice},eb.extend=eb.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||eb.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(eb.isPlainObject(c)||(b=eb.isArray(c)))?(b?(b=!1,f=a&&eb.isArray(a)?a:[]):f=a&&eb.isPlainObject(a)?a:{},g[d]=eb.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},eb.extend({expando:"jQuery"+(db+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===eb.type(a)},isArray:Array.isArray||function(a){return"array"===eb.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!eb.isArray(a)&&a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==eb.type(a)||a.nodeType||eb.isWindow(a))return!1;try{if(a.constructor&&!bb.call(a,"constructor")&&!bb.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(cb.ownLast)for(b in a)return bb.call(a,b);for(b in a);return void 0===b||bb.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?_[ab.call(a)]||"object":typeof a},globalEval:function(b){b&&eb.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(gb,"ms-").replace(hb,ib)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(fb,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?eb.merge(d,"string"==typeof a?[a]:a):Z.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if($)return $.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return Y.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(e=a[b],b=a,a=e),eb.isFunction(a)?(c=X.call(arguments,2),d=function(){return a.apply(b||this,c.concat(X.call(arguments)))},d.guid=a.guid=a.guid||eb.guid++,d):void 0},now:function(){return+new Date},support:cb}),eb.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){_["[object "+b+"]"]=b.toLowerCase()});var jb=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=sb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return _.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName&&b.getElementsByClassName)return _.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ub,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=tb.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return _.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ib,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&typeof a.getElementsByTagName!==V&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?bb.call(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):_.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return bb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ib,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Z.call(i));r=q(r)}_.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V="undefined",W=1<<31,X={}.hasOwnProperty,Y=[],Z=Y.pop,$=Y.push,_=Y.push,ab=Y.slice,bb=Y.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},cb="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",db="[\\x20\\t\\r\\n\\f]",eb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fb=eb.replace("w","w#"),gb="\\["+db+"*("+eb+")(?:"+db+"*([*^$|!~]?=)"+db+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+fb+"))|)"+db+"*\\]",hb=":("+eb+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+gb+")*)|.*)\\)|)",ib=new RegExp("^"+db+"+|((?:^|[^\\\\])(?:\\\\.)*)"+db+"+$","g"),jb=new RegExp("^"+db+"*,"+db+"*"),kb=new RegExp("^"+db+"*([>+~]|"+db+")"+db+"*"),lb=new RegExp("="+db+"*([^\\]'\"]*?)"+db+"*\\]","g"),mb=new RegExp(hb),nb=new RegExp("^"+fb+"$"),ob={ID:new RegExp("^#("+eb+")"),CLASS:new RegExp("^\\.("+eb+")"),TAG:new RegExp("^("+eb.replace("w","w*")+")"),ATTR:new RegExp("^"+gb),PSEUDO:new RegExp("^"+hb),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+db+"*(even|odd|(([+-]|)(\\d*)n|)"+db+"*(?:([+-]|)"+db+"*(\\d+)|))"+db+"*\\)|)","i"),bool:new RegExp("^(?:"+cb+")$","i"),needsContext:new RegExp("^"+db+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+db+"*((?:-\\d)?\\d*)"+db+"*\\)|)(?=[^-]|$)","i")},pb=/^(?:input|select|textarea|button)$/i,qb=/^h\d$/i,rb=/^[^{]+\{\s*\[native \w/,sb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tb=/[+~]/,ub=/'|\\/g,vb=new RegExp("\\\\([\\da-f]{1,6}"+db+"?|("+db+")|.)","ig"),wb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{_.apply(Y=ab.call(O.childNodes),O.childNodes),Y[O.childNodes.length].nodeType}catch(xb){_={apply:Y.length?function(a,b){$.apply(a,ab.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!y(c),d&&d!==d.top&&(d.addEventListener?d.addEventListener("unload",function(){F()},!1):d.attachEvent&&d.attachEvent("onunload",function(){F()})),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=rb.test(c.getElementsByClassName)&&e(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),v.getById=e(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if(typeof b.getElementById!==V&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==V?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==V&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=rb.test(c.querySelectorAll))&&(e(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&J.push("[*^$]="+db+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+db+"*(?:value|"+cb+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),e(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+db+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=rb.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",hb)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=rb.test(H.compareDocumentPosition),M=b||rb.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!v.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===O&&M(O,a)?-1:b===c||b.ownerDocument===O&&M(O,b)?1:D?bb.call(D,a)-bb.call(D,b):0:4&d?-1:1)}:function(a,b){if(a===b)return E=!0,0;var d,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===c?-1:b===c?1:f?-1:h?1:D?bb.call(D,a)-bb.call(D,b):0;if(f===h)return g(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(lb,"='$1']"),!(!v.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&X.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:ob,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(vb,wb),a[3]=(a[3]||a[4]||a[5]||"").replace(vb,wb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return ob.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&mb.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(vb,wb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+db+")"+a+"("+db+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=bb.call(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ib,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return nb.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(vb,wb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qb.test(a.nodeName)},input:function(a){return pb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=jb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=kb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ib," ")}),h=h.slice(d.length));for(g in w.filter)!(e=ob[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(vb,wb),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=ob.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(vb,wb),tb.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return _.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,tb.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(cb,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);eb.find=jb,eb.expr=jb.selectors,eb.expr[":"]=eb.expr.pseudos,eb.unique=jb.uniqueSort,eb.text=jb.getText,eb.isXMLDoc=jb.isXML,eb.contains=jb.contains;var kb=eb.expr.match.needsContext,lb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,mb=/^.[^:#\[\.,]*$/;eb.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?eb.find.matchesSelector(d,a)?[d]:[]:eb.find.matches(a,eb.grep(b,function(a){return 1===a.nodeType}))},eb.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(eb(a).filter(function(){for(b=0;e>b;b++)if(eb.contains(d[b],this))return!0}));for(b=0;e>b;b++)eb.find(a,d[b],c);return c=this.pushStack(e>1?eb.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&kb.test(a)?eb(a):a||[],!1).length}});var nb,ob=a.document,pb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,qb=eb.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:pb.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||nb).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof eb?b[0]:b,eb.merge(this,eb.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:ob,!0)),lb.test(c[1])&&eb.isPlainObject(b))for(c in b)eb.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=ob.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return nb.find(a);this.length=1,this[0]=d}return this.context=ob,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):eb.isFunction(a)?"undefined"!=typeof nb.ready?nb.ready(a):a(eb):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),eb.makeArray(a,this))};qb.prototype=eb.fn,nb=eb(ob);var rb=/^(?:parents|prev(?:Until|All))/,sb={children:!0,contents:!0,next:!0,prev:!0};eb.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!eb(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),eb.fn.extend({has:function(a){var b,c=eb(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(eb.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=kb.test(a)||"string"!=typeof a?eb(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&eb.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?eb.unique(f):f)},index:function(a){return a?"string"==typeof a?eb.inArray(this[0],eb(a)):eb.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(eb.unique(eb.merge(this.get(),eb(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),eb.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return eb.dir(a,"parentNode")},parentsUntil:function(a,b,c){return eb.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return eb.dir(a,"nextSibling")},prevAll:function(a){return eb.dir(a,"previousSibling")},nextUntil:function(a,b,c){return eb.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return eb.dir(a,"previousSibling",c)},siblings:function(a){return eb.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return eb.sibling(a.firstChild)},contents:function(a){return eb.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:eb.merge([],a.childNodes)}},function(a,b){eb.fn[a]=function(c,d){var e=eb.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=eb.filter(d,e)),this.length>1&&(sb[a]||(e=eb.unique(e)),rb.test(a)&&(e=e.reverse())),this.pushStack(e)}});var tb=/\S+/g,ub={};eb.Callbacks=function(a){a="string"==typeof a?ub[a]||f(a):eb.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(c=a.memory&&f,d=!0,g=h||0,h=0,e=i.length,b=!0;i&&e>g;g++)if(i[g].apply(f[0],f[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var d=i.length;!function f(b){eb.each(b,function(b,c){var d=eb.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=i.length:c&&(h=d,k(c))}return this},remove:function(){return i&&eb.each(arguments,function(a,c){for(var d;(d=eb.inArray(c,i,d))>-1;)i.splice(d,1),b&&(e>=d&&e--,g>=d&&g--)}),this},has:function(a){return a?eb.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],e=0,this},disable:function(){return i=j=c=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,c){return!i||d&&!j||(c=c||[],c=[a,c.slice?c.slice():c],b?j.push(c):k(c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},eb.extend({Deferred:function(a){var b=[["resolve","done",eb.Callbacks("once memory"),"resolved"],["reject","fail",eb.Callbacks("once memory"),"rejected"],["notify","progress",eb.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return eb.Deferred(function(c){eb.each(b,function(b,f){var g=eb.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&eb.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?eb.extend(a,d):d
}},e={};return d.pipe=d.then,eb.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=X.call(arguments),g=f.length,h=1!==g||a&&eb.isFunction(a.promise)?g:0,i=1===h?a:eb.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?X.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&eb.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var vb;eb.fn.ready=function(a){return eb.ready.promise().done(a),this},eb.extend({isReady:!1,readyWait:1,holdReady:function(a){a?eb.readyWait++:eb.ready(!0)},ready:function(a){if(a===!0?!--eb.readyWait:!eb.isReady){if(!ob.body)return setTimeout(eb.ready);eb.isReady=!0,a!==!0&&--eb.readyWait>0||(vb.resolveWith(ob,[eb]),eb.fn.triggerHandler&&(eb(ob).triggerHandler("ready"),eb(ob).off("ready")))}}}),eb.ready.promise=function(b){if(!vb)if(vb=eb.Deferred(),"complete"===ob.readyState)setTimeout(eb.ready);else if(ob.addEventListener)ob.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1);else{ob.attachEvent("onreadystatechange",h),a.attachEvent("onload",h);var c=!1;try{c=null==a.frameElement&&ob.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!eb.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}g(),eb.ready()}}()}return vb.promise(b)};var wb,xb="undefined";for(wb in eb(cb))break;cb.ownLast="0"!==wb,cb.inlineBlockNeedsLayout=!1,eb(function(){var a,b,c,d;c=ob.getElementsByTagName("body")[0],c&&c.style&&(b=ob.createElement("div"),d=ob.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==xb&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",cb.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=ob.createElement("div");if(null==cb.deleteExpando){cb.deleteExpando=!0;try{delete a.test}catch(b){cb.deleteExpando=!1}}a=null}(),eb.acceptData=function(a){var b=eb.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var yb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,zb=/([A-Z])/g;eb.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?eb.cache[a[eb.expando]]:a[eb.expando],!!a&&!j(a)},data:function(a,b,c){return k(a,b,c)},removeData:function(a,b){return l(a,b)},_data:function(a,b,c){return k(a,b,c,!0)},_removeData:function(a,b){return l(a,b,!0)}}),eb.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=eb.data(f),1===f.nodeType&&!eb._data(f,"parsedAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=eb.camelCase(d.slice(5)),i(f,d,e[d])));eb._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){eb.data(this,a)}):arguments.length>1?this.each(function(){eb.data(this,a,b)}):f?i(f,a,eb.data(f,a)):void 0},removeData:function(a){return this.each(function(){eb.removeData(this,a)})}}),eb.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=eb._data(a,b),c&&(!d||eb.isArray(c)?d=eb._data(a,b,eb.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=eb.queue(a,b),d=c.length,e=c.shift(),f=eb._queueHooks(a,b),g=function(){eb.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return eb._data(a,c)||eb._data(a,c,{empty:eb.Callbacks("once memory").add(function(){eb._removeData(a,b+"queue"),eb._removeData(a,c)})})}}),eb.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?eb.queue(this[0],a):void 0===b?this:this.each(function(){var c=eb.queue(this,a,b);eb._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&eb.dequeue(this,a)})},dequeue:function(a){return this.each(function(){eb.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=eb.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=eb._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Ab=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Bb=["Top","Right","Bottom","Left"],Cb=function(a,b){return a=b||a,"none"===eb.css(a,"display")||!eb.contains(a.ownerDocument,a)},Db=eb.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===eb.type(c)){e=!0;for(h in c)eb.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,eb.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(eb(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Eb=/^(?:checkbox|radio)$/i;!function(){var a=ob.createElement("input"),b=ob.createElement("div"),c=ob.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",cb.leadingWhitespace=3===b.firstChild.nodeType,cb.tbody=!b.getElementsByTagName("tbody").length,cb.htmlSerialize=!!b.getElementsByTagName("link").length,cb.html5Clone="<:nav></:nav>"!==ob.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),cb.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",cb.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",cb.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,cb.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){cb.noCloneEvent=!1}),b.cloneNode(!0).click()),null==cb.deleteExpando){cb.deleteExpando=!0;try{delete b.test}catch(d){cb.deleteExpando=!1}}}(),function(){var b,c,d=ob.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(cb[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),cb[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var Fb=/^(?:input|select|textarea)$/i,Gb=/^key/,Hb=/^(?:mouse|pointer|contextmenu)|click/,Ib=/^(?:focusinfocus|focusoutblur)$/,Jb=/^([^.]*)(?:\.(.+)|)$/;eb.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=eb._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=eb.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return typeof eb===xb||a&&eb.event.triggered===a.type?void 0:eb.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(tb)||[""],h=b.length;h--;)f=Jb.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=eb.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=eb.event.special[n]||{},l=eb.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&eb.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,o,k)!==!1||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),eb.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=eb.hasData(a)&&eb._data(a);if(q&&(k=q.events)){for(b=(b||"").match(tb)||[""],j=b.length;j--;)if(h=Jb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=eb.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||eb.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)eb.event.remove(a,n+b[j],c,d,!0);eb.isEmptyObject(k)&&(delete q.handle,eb._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||ob],n=bb.call(b,"type")?b.type:b,o=bb.call(b,"namespace")?b.namespace.split("."):[];if(h=k=d=d||ob,3!==d.nodeType&&8!==d.nodeType&&!Ib.test(n+eb.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,b=b[eb.expando]?b:new eb.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:eb.makeArray(c,[b]),j=eb.event.special[n]||{},e||!j.trigger||j.trigger.apply(d,c)!==!1)){if(!e&&!j.noBubble&&!eb.isWindow(d)){for(i=j.delegateType||n,Ib.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||ob)&&m.push(k.defaultView||k.parentWindow||a)}for(l=0;(h=m[l++])&&!b.isPropagationStopped();)b.type=l>1?i:j.bindType||n,f=(eb._data(h,"events")||{})[b.type]&&eb._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&eb.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=n,!e&&!b.isDefaultPrevented()&&(!j._default||j._default.apply(m.pop(),c)===!1)&&eb.acceptData(d)&&g&&d[n]&&!eb.isWindow(d)){k=d[g],k&&(d[g]=null),eb.event.triggered=n;try{d[n]()}catch(p){}eb.event.triggered=void 0,k&&(d[g]=k)}return b.result}},dispatch:function(a){a=eb.event.fix(a);var b,c,d,e,f,g=[],h=X.call(arguments),i=(eb._data(this,"events")||{})[a.type]||[],j=eb.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=eb.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,f=0;(d=e.handlers[f++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(d.namespace))&&(a.handleObj=d,a.data=d.data,c=((eb.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,h),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?eb(c,this).index(i)>=0:eb.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[eb.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Hb.test(e)?this.mouseHooks:Gb.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new eb.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||ob),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||ob,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==o()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===o()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return eb.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return eb.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=eb.extend(new eb.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?eb.event.trigger(e,null,b):eb.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},eb.removeEvent=ob.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===xb&&(a[d]=null),a.detachEvent(d,c))},eb.Event=function(a,b){return this instanceof eb.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?m:n):this.type=a,b&&eb.extend(this,b),this.timeStamp=a&&a.timeStamp||eb.now(),void(this[eb.expando]=!0)):new eb.Event(a,b)},eb.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=m,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},eb.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){eb.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!eb.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),cb.submitBubbles||(eb.event.special.submit={setup:function(){return eb.nodeName(this,"form")?!1:void eb.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=eb.nodeName(b,"input")||eb.nodeName(b,"button")?b.form:void 0;c&&!eb._data(c,"submitBubbles")&&(eb.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),eb._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&eb.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return eb.nodeName(this,"form")?!1:void eb.event.remove(this,"._submit")}}),cb.changeBubbles||(eb.event.special.change={setup:function(){return Fb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(eb.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),eb.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),eb.event.simulate("change",this,a,!0)})),!1):void eb.event.add(this,"beforeactivate._change",function(a){var b=a.target;Fb.test(b.nodeName)&&!eb._data(b,"changeBubbles")&&(eb.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||eb.event.simulate("change",this.parentNode,a,!0)}),eb._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return eb.event.remove(this,"._change"),!Fb.test(this.nodeName)}}),cb.focusinBubbles||eb.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){eb.event.simulate(b,a.target,eb.event.fix(a),!0)};eb.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=eb._data(d,b);e||d.addEventListener(a,c,!0),eb._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=eb._data(d,b)-1;e?eb._data(d,b,e):(d.removeEventListener(a,c,!0),eb._removeData(d,b))}}}),eb.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=n;else if(!d)return this;return 1===e&&(g=d,d=function(a){return eb().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=eb.guid++)),this.each(function(){eb.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,eb(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=n),this.each(function(){eb.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){eb.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?eb.event.trigger(a,b,c,!0):void 0}});var Kb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Lb=/ jQuery\d+="(?:null|\d+)"/g,Mb=new RegExp("<(?:"+Kb+")[\\s/>]","i"),Nb=/^\s+/,Ob=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Pb=/<([\w:]+)/,Qb=/<tbody/i,Rb=/<|&#?\w+;/,Sb=/<(?:script|style|link)/i,Tb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ub=/^$|\/(?:java|ecma)script/i,Vb=/^true\/(.*)/,Wb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:cb.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Yb=p(ob),Zb=Yb.appendChild(ob.createElement("div"));Xb.optgroup=Xb.option,Xb.tbody=Xb.tfoot=Xb.colgroup=Xb.caption=Xb.thead,Xb.th=Xb.td,eb.extend({clone:function(a,b,c){var d,e,f,g,h,i=eb.contains(a.ownerDocument,a);if(cb.html5Clone||eb.isXMLDoc(a)||!Mb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Zb.innerHTML=a.outerHTML,Zb.removeChild(f=Zb.firstChild)),!(cb.noCloneEvent&&cb.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||eb.isXMLDoc(a)))for(d=q(f),h=q(a),g=0;null!=(e=h[g]);++g)d[g]&&x(e,d[g]);if(b)if(c)for(h=h||q(a),d=d||q(f),g=0;null!=(e=h[g]);g++)w(e,d[g]);else w(a,f);return d=q(f,"script"),d.length>0&&v(d,!i&&q(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=p(b),n=[],o=0;l>o;o++)if(f=a[o],f||0===f)if("object"===eb.type(f))eb.merge(n,f.nodeType?[f]:f);else if(Rb.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Pb.exec(f)||["",""])[1].toLowerCase(),k=Xb[i]||Xb._default,h.innerHTML=k[1]+f.replace(Ob,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!cb.leadingWhitespace&&Nb.test(f)&&n.push(b.createTextNode(Nb.exec(f)[0])),!cb.tbody)for(f="table"!==i||Qb.test(f)?"<table>"!==k[1]||Qb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)eb.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(eb.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),cb.appendChecked||eb.grep(q(n,"input"),r),o=0;f=n[o++];)if((!d||-1===eb.inArray(f,d))&&(g=eb.contains(f.ownerDocument,f),h=q(m.appendChild(f),"script"),g&&v(h),c))for(e=0;f=h[e++];)Ub.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=eb.expando,i=eb.cache,j=cb.deleteExpando,k=eb.event.special;null!=(c=a[g]);g++)if((b||eb.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?eb.event.remove(c,d):eb.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==xb?c.removeAttribute(h):c[h]=null,W.push(e))}}}),eb.fn.extend({text:function(a){return Db(this,function(a){return void 0===a?eb.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ob).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?eb.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||eb.cleanData(q(c)),c.parentNode&&(b&&eb.contains(c.ownerDocument,c)&&v(q(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&eb.cleanData(q(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&eb.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return eb.clone(this,a,b)})},html:function(a){return Db(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(Lb,""):void 0;if(!("string"!=typeof a||Sb.test(a)||!cb.htmlSerialize&&Mb.test(a)||!cb.leadingWhitespace&&Nb.test(a)||Xb[(Pb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Ob,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(eb.cleanData(q(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,eb.cleanData(q(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Y.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=eb.isFunction(m);if(n||j>1&&"string"==typeof m&&!cb.checkClone&&Tb.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(h=eb.buildFragment(a,this[0].ownerDocument,!1,this),c=h.firstChild,1===h.childNodes.length&&(h=c),c)){for(f=eb.map(q(h,"script"),t),e=f.length;j>i;i++)d=h,i!==l&&(d=eb.clone(d,!0,!0),e&&eb.merge(f,q(d,"script"))),b.call(this[i],d,i);if(e)for(g=f[f.length-1].ownerDocument,eb.map(f,u),i=0;e>i;i++)d=f[i],Ub.test(d.type||"")&&!eb._data(d,"globalEval")&&eb.contains(g,d)&&(d.src?eb._evalUrl&&eb._evalUrl(d.src):eb.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Wb,"")));h=c=null}return this}}),eb.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){eb.fn[a]=function(a){for(var c,d=0,e=[],f=eb(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),eb(f[d])[b](c),Z.apply(e,c.get());return this.pushStack(e)}});var $b,_b={};!function(){var a;cb.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=ob.getElementsByTagName("body")[0],c&&c.style?(b=ob.createElement("div"),d=ob.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==xb&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(ob.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var ac,bc,cc=/^margin/,dc=new RegExp("^("+Ab+")(?!px)[a-z%]+$","i"),ec=/^(top|right|bottom|left)$/;a.getComputedStyle?(ac=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},bc=function(a,b,c){var d,e,f,g,h=a.style;return c=c||ac(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||eb.contains(a.ownerDocument,a)||(g=eb.style(a,b)),dc.test(g)&&cc.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):ob.documentElement.currentStyle&&(ac=function(a){return a.currentStyle},bc=function(a,b,c){var d,e,f,g,h=a.style;return c=c||ac(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),dc.test(g)&&!ec.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),function(){function b(){var b,c,d,e;c=ob.getElementsByTagName("body")[0],c&&c.style&&(b=ob.createElement("div"),d=ob.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f=g=!1,i=!0,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(b,null)||{}).top,g="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,e=b.appendChild(ob.createElement("div")),e.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",b.style.width="1px",i=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=b.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",h=0===e[0].offsetHeight,h&&(e[0].style.display="",e[1].style.display="none",h=0===e[0].offsetHeight),c.removeChild(d))}var c,d,e,f,g,h,i;c=ob.createElement("div"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=c.getElementsByTagName("a")[0],d=e&&e.style,d&&(d.cssText="float:left;opacity:.5",cb.opacity="0.5"===d.opacity,cb.cssFloat=!!d.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",cb.clearCloneStyle="content-box"===c.style.backgroundClip,cb.boxSizing=""===d.boxSizing||""===d.MozBoxSizing||""===d.WebkitBoxSizing,eb.extend(cb,{reliableHiddenOffsets:function(){return null==h&&b(),h},boxSizingReliable:function(){return null==g&&b(),g},pixelPosition:function(){return null==f&&b(),f},reliableMarginRight:function(){return null==i&&b(),i}}))}(),eb.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var fc=/alpha\([^)]*\)/i,gc=/opacity\s*=\s*([^)]*)/,hc=/^(none|table(?!-c[ea]).+)/,ic=new RegExp("^("+Ab+")(.*)$","i"),jc=new RegExp("^([+-])=("+Ab+")","i"),kc={position:"absolute",visibility:"hidden",display:"block"},lc={letterSpacing:"0",fontWeight:"400"},mc=["Webkit","O","Moz","ms"];eb.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bc(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":cb.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=eb.camelCase(b),i=a.style;if(b=eb.cssProps[h]||(eb.cssProps[h]=B(i,h)),g=eb.cssHooks[b]||eb.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=jc.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(eb.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||eb.cssNumber[h]||(c+="px"),cb.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=eb.camelCase(b);return b=eb.cssProps[h]||(eb.cssProps[h]=B(a.style,h)),g=eb.cssHooks[b]||eb.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=bc(a,b,d)),"normal"===f&&b in lc&&(f=lc[b]),""===c||c?(e=parseFloat(f),c===!0||eb.isNumeric(e)?e||0:f):f}}),eb.each(["height","width"],function(a,b){eb.cssHooks[b]={get:function(a,c,d){return c?hc.test(eb.css(a,"display"))&&0===a.offsetWidth?eb.swap(a,kc,function(){return F(a,b,d)}):F(a,b,d):void 0},set:function(a,c,d){var e=d&&ac(a);return D(a,c,d?E(a,b,d,cb.boxSizing&&"border-box"===eb.css(a,"boxSizing",!1,e),e):0)}}}),cb.opacity||(eb.cssHooks.opacity={get:function(a,b){return gc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=eb.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===eb.trim(f.replace(fc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=fc.test(f)?f.replace(fc,e):f+" "+e)}}),eb.cssHooks.marginRight=A(cb.reliableMarginRight,function(a,b){return b?eb.swap(a,{display:"inline-block"},bc,[a,"marginRight"]):void 0}),eb.each({margin:"",padding:"",border:"Width"},function(a,b){eb.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Bb[d]+b]=f[d]||f[d-2]||f[0];return e}},cc.test(a)||(eb.cssHooks[a+b].set=D)}),eb.fn.extend({css:function(a,b){return Db(this,function(a,b,c){var d,e,f={},g=0;if(eb.isArray(b)){for(d=ac(a),e=b.length;e>g;g++)f[b[g]]=eb.css(a,b[g],!1,d);return f}return void 0!==c?eb.style(a,b,c):eb.css(a,b)},a,b,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Cb(this)?eb(this).show():eb(this).hide()})}}),eb.Tween=G,G.prototype={constructor:G,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(eb.cssNumber[c]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var b,c=G.propHooks[this.prop];return this.pos=b=this.options.duration?eb.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=eb.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){eb.fx.step[a.prop]?eb.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[eb.cssProps[a.prop]]||eb.cssHooks[a.prop])?eb.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},eb.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},eb.fx=G.prototype.init,eb.fx.step={};var nc,oc,pc=/^(?:toggle|show|hide)$/,qc=new RegExp("^(?:([+-])=|)("+Ab+")([a-z%]*)$","i"),rc=/queueHooks$/,sc=[K],tc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=qc.exec(b),f=e&&e[3]||(eb.cssNumber[a]?"":"px"),g=(eb.cssNumber[a]||"px"!==f&&+d)&&qc.exec(eb.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,eb.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};eb.Animation=eb.extend(M,{tweener:function(a,b){eb.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],tc[c]=tc[c]||[],tc[c].unshift(b)},prefilter:function(a,b){b?sc.unshift(a):sc.push(a)}}),eb.speed=function(a,b,c){var d=a&&"object"==typeof a?eb.extend({},a):{complete:c||!c&&b||eb.isFunction(a)&&a,duration:a,easing:c&&b||b&&!eb.isFunction(b)&&b};
return d.duration=eb.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in eb.fx.speeds?eb.fx.speeds[d.duration]:eb.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){eb.isFunction(d.old)&&d.old.call(this),d.queue&&eb.dequeue(this,d.queue)},d},eb.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Cb).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=eb.isEmptyObject(a),f=eb.speed(b,c,d),g=function(){var b=M(this,eb.extend({},a),f);(e||eb._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=eb.timers,g=eb._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&rc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&eb.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=eb._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=eb.timers,g=d?d.length:0;for(c.finish=!0,eb.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),eb.each(["toggle","show","hide"],function(a,b){var c=eb.fn[b];eb.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(I(b,!0),a,d,e)}}),eb.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){eb.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),eb.timers=[],eb.fx.tick=function(){var a,b=eb.timers,c=0;for(nc=eb.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||eb.fx.stop(),nc=void 0},eb.fx.timer=function(a){eb.timers.push(a),a()?eb.fx.start():eb.timers.pop()},eb.fx.interval=13,eb.fx.start=function(){oc||(oc=setInterval(eb.fx.tick,eb.fx.interval))},eb.fx.stop=function(){clearInterval(oc),oc=null},eb.fx.speeds={slow:600,fast:200,_default:400},eb.fn.delay=function(a,b){return a=eb.fx?eb.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=ob.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=ob.createElement("select"),e=c.appendChild(ob.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",cb.getSetAttribute="t"!==b.className,cb.style=/top/.test(d.getAttribute("style")),cb.hrefNormalized="/a"===d.getAttribute("href"),cb.checkOn=!!a.value,cb.optSelected=e.selected,cb.enctype=!!ob.createElement("form").enctype,c.disabled=!0,cb.optDisabled=!e.disabled,a=ob.createElement("input"),a.setAttribute("value",""),cb.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),cb.radioValue="t"===a.value}();var uc=/\r/g;eb.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=eb.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,eb(this).val()):a,null==e?e="":"number"==typeof e?e+="":eb.isArray(e)&&(e=eb.map(e,function(a){return null==a?"":a+""})),b=eb.valHooks[this.type]||eb.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=eb.valHooks[e.type]||eb.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(uc,""):null==c?"":c)}}}),eb.extend({valHooks:{option:{get:function(a){var b=eb.find.attr(a,"value");return null!=b?b:eb.trim(eb.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(cb.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&eb.nodeName(c.parentNode,"optgroup"))){if(b=eb(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=eb.makeArray(b),g=e.length;g--;)if(d=e[g],eb.inArray(eb.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),eb.each(["radio","checkbox"],function(){eb.valHooks[this]={set:function(a,b){return eb.isArray(b)?a.checked=eb.inArray(eb(a).val(),b)>=0:void 0}},cb.checkOn||(eb.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var vc,wc,xc=eb.expr.attrHandle,yc=/^(?:checked|selected)$/i,zc=cb.getSetAttribute,Ac=cb.input;eb.fn.extend({attr:function(a,b){return Db(this,eb.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){eb.removeAttr(this,a)})}}),eb.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===xb?eb.prop(a,b,c):(1===f&&eb.isXMLDoc(a)||(b=b.toLowerCase(),d=eb.attrHooks[b]||(eb.expr.match.bool.test(b)?wc:vc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=eb.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void eb.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(tb);if(f&&1===a.nodeType)for(;c=f[e++];)d=eb.propFix[c]||c,eb.expr.match.bool.test(c)?Ac&&zc||!yc.test(c)?a[d]=!1:a[eb.camelCase("default-"+c)]=a[d]=!1:eb.attr(a,c,""),a.removeAttribute(zc?c:d)},attrHooks:{type:{set:function(a,b){if(!cb.radioValue&&"radio"===b&&eb.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),wc={set:function(a,b,c){return b===!1?eb.removeAttr(a,c):Ac&&zc||!yc.test(c)?a.setAttribute(!zc&&eb.propFix[c]||c,c):a[eb.camelCase("default-"+c)]=a[c]=!0,c}},eb.each(eb.expr.match.bool.source.match(/\w+/g),function(a,b){var c=xc[b]||eb.find.attr;xc[b]=Ac&&zc||!yc.test(b)?function(a,b,d){var e,f;return d||(f=xc[b],xc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,xc[b]=f),e}:function(a,b,c){return c?void 0:a[eb.camelCase("default-"+b)]?b.toLowerCase():null}}),Ac&&zc||(eb.attrHooks.value={set:function(a,b,c){return eb.nodeName(a,"input")?void(a.defaultValue=b):vc&&vc.set(a,b,c)}}),zc||(vc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},xc.id=xc.name=xc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},eb.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:vc.set},eb.attrHooks.contenteditable={set:function(a,b,c){vc.set(a,""===b?!1:b,c)}},eb.each(["width","height"],function(a,b){eb.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),cb.style||(eb.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Bc=/^(?:input|select|textarea|button|object)$/i,Cc=/^(?:a|area)$/i;eb.fn.extend({prop:function(a,b){return Db(this,eb.prop,a,b,arguments.length>1)},removeProp:function(a){return a=eb.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),eb.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!eb.isXMLDoc(a),f&&(b=eb.propFix[b]||b,e=eb.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=eb.find.attr(a,"tabindex");return b?parseInt(b,10):Bc.test(a.nodeName)||Cc.test(a.nodeName)&&a.href?0:-1}}}}),cb.hrefNormalized||eb.each(["href","src"],function(a,b){eb.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),cb.optSelected||(eb.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),eb.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){eb.propFix[this.toLowerCase()]=this}),cb.enctype||(eb.propFix.enctype="encoding");var Dc=/[\t\r\n\f]/g;eb.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(eb.isFunction(a))return this.each(function(b){eb(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(tb)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Dc," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=eb.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(eb.isFunction(a))return this.each(function(b){eb(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(tb)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Dc," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?eb.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(eb.isFunction(a)?function(c){eb(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=eb(this),f=a.match(tb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===xb||"boolean"===c)&&(this.className&&eb._data(this,"__className__",this.className),this.className=this.className||a===!1?"":eb._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Dc," ").indexOf(b)>=0)return!0;return!1}}),eb.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){eb.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),eb.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Ec=eb.now(),Fc=/\?/,Gc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;eb.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=eb.trim(b+"");return e&&!eb.trim(e.replace(Gc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():eb.error("Invalid JSON: "+b)},eb.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||eb.error("Invalid XML: "+b),c};var Hc,Ic,Jc=/#.*$/,Kc=/([?&])_=[^&]*/,Lc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nc=/^(?:GET|HEAD)$/,Oc=/^\/\//,Pc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qc={},Rc={},Sc="*/".concat("*");try{Ic=location.href}catch(Tc){Ic=ob.createElement("a"),Ic.href="",Ic=Ic.href}Hc=Pc.exec(Ic.toLowerCase())||[],eb.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ic,type:"GET",isLocal:Mc.test(Hc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":eb.parseJSON,"text xml":eb.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?P(P(a,eb.ajaxSettings),b):P(eb.ajaxSettings,a)},ajaxPrefilter:N(Qc),ajaxTransport:N(Rc),ajax:function(a,b){function c(a,b,c,d){var e,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),j=void 0,g=d||"",v.readyState=a>0?4:0,e=a>=200&&300>a||304===a,c&&(s=Q(l,v,c)),s=R(l,s,v,e),e?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(eb.lastModified[f]=u),u=v.getResponseHeader("etag"),u&&(eb.etag[f]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,e=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",e?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,i&&n.trigger(e?"ajaxSuccess":"ajaxError",[v,l,e?k:r]),p.fireWith(m,[v,w]),i&&(n.trigger("ajaxComplete",[v,l]),--eb.active||eb.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=eb.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?eb(m):eb.event,o=eb.Deferred(),p=eb.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!k)for(k={};b=Lc.exec(g);)k[b[1].toLowerCase()]=b[2];b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return j&&j.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||Ic)+"").replace(Jc,"").replace(Oc,Hc[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=eb.trim(l.dataType||"*").toLowerCase().match(tb)||[""],null==l.crossDomain&&(d=Pc.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Hc[1]&&d[2]===Hc[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Hc[3]||("http:"===Hc[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=eb.param(l.data,l.traditional)),O(Qc,l,b,v),2===t)return v;i=l.global,i&&0===eb.active++&&eb.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Nc.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Fc.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Kc.test(f)?f.replace(Kc,"$1_="+Ec++):f+(Fc.test(f)?"&":"?")+"_="+Ec++)),l.ifModified&&(eb.lastModified[f]&&v.setRequestHeader("If-Modified-Since",eb.lastModified[f]),eb.etag[f]&&v.setRequestHeader("If-None-Match",eb.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Sc+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)v.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(e in{success:1,error:1,complete:1})v[e](l[e]);if(j=O(Rc,l,b,v)){v.readyState=1,i&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,j.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return eb.get(a,b,c,"json")},getScript:function(a,b){return eb.get(a,void 0,b,"script")}}),eb.each(["get","post"],function(a,b){eb[b]=function(a,c,d,e){return eb.isFunction(c)&&(e=e||d,d=c,c=void 0),eb.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),eb.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){eb.fn[b]=function(a){return this.on(b,a)}}),eb._evalUrl=function(a){return eb.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},eb.fn.extend({wrapAll:function(a){if(eb.isFunction(a))return this.each(function(b){eb(this).wrapAll(a.call(this,b))});if(this[0]){var b=eb(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(eb.isFunction(a)?function(b){eb(this).wrapInner(a.call(this,b))}:function(){var b=eb(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=eb.isFunction(a);return this.each(function(c){eb(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){eb.nodeName(this,"body")||eb(this).replaceWith(this.childNodes)}).end()}}),eb.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!cb.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||eb.css(a,"display"))},eb.expr.filters.visible=function(a){return!eb.expr.filters.hidden(a)};var Uc=/%20/g,Vc=/\[\]$/,Wc=/\r?\n/g,Xc=/^(?:submit|button|image|reset|file)$/i,Yc=/^(?:input|select|textarea|keygen)/i;eb.param=function(a,b){var c,d=[],e=function(a,b){b=eb.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=eb.ajaxSettings&&eb.ajaxSettings.traditional),eb.isArray(a)||a.jquery&&!eb.isPlainObject(a))eb.each(a,function(){e(this.name,this.value)});else for(c in a)S(c,a[c],b,e);return d.join("&").replace(Uc,"+")},eb.fn.extend({serialize:function(){return eb.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=eb.prop(this,"elements");return a?eb.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!eb(this).is(":disabled")&&Yc.test(this.nodeName)&&!Xc.test(a)&&(this.checked||!Eb.test(a))}).map(function(a,b){var c=eb(this).val();return null==c?null:eb.isArray(c)?eb.map(c,function(a){return{name:b.name,value:a.replace(Wc,"\r\n")}}):{name:b.name,value:c.replace(Wc,"\r\n")}}).get()}}),eb.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&T()||U()}:T;var Zc=0,$c={},_c=eb.ajaxSettings.xhr();a.ActiveXObject&&eb(a).on("unload",function(){for(var a in $c)$c[a](void 0,!0)}),cb.cors=!!_c&&"withCredentials"in _c,_c=cb.ajax=!!_c,_c&&eb.ajaxTransport(function(a){if(!a.crossDomain||cb.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Zc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete $c[g],b=void 0,f.onreadystatechange=eb.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=$c[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),eb.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return eb.globalEval(a),a}}}),eb.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),eb.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=ob.head||eb("head")[0]||ob.documentElement;return{send:function(d,e){b=ob.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ad=[],bd=/(=)\?(?=&|$)|\?\?/;eb.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ad.pop()||eb.expando+"_"+Ec++;return this[a]=!0,a}}),eb.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(bd.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bd.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=eb.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bd,"$1"+e):b.jsonp!==!1&&(b.url+=(Fc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||eb.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ad.push(e)),g&&eb.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),eb.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||ob;var d=lb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=eb.buildFragment([a],b,e),e&&e.length&&eb(e).remove(),eb.merge([],d.childNodes))};var cd=eb.fn.load;eb.fn.load=function(a,b,c){if("string"!=typeof a&&cd)return cd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=eb.trim(a.slice(h,a.length)),a=a.slice(0,h)),eb.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&eb.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?eb("<div>").append(eb.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},eb.expr.filters.animated=function(a){return eb.grep(eb.timers,function(b){return a===b.elem}).length};var dd=a.document.documentElement;eb.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=eb.css(a,"position"),l=eb(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=eb.css(a,"top"),i=eb.css(a,"left"),j=("absolute"===k||"fixed"===k)&&eb.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),eb.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},eb.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){eb.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,eb.contains(b,e)?(typeof e.getBoundingClientRect!==xb&&(d=e.getBoundingClientRect()),c=V(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===eb.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),eb.nodeName(a[0],"html")||(c=a.offset()),c.top+=eb.css(a[0],"borderTopWidth",!0),c.left+=eb.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-eb.css(d,"marginTop",!0),left:b.left-c.left-eb.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||dd;a&&!eb.nodeName(a,"html")&&"static"===eb.css(a,"position");)a=a.offsetParent;return a||dd})}}),eb.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);eb.fn[a]=function(d){return Db(this,function(a,d,e){var f=V(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?eb(f).scrollLeft():e,c?e:eb(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),eb.each(["top","left"],function(a,b){eb.cssHooks[b]=A(cb.pixelPosition,function(a,c){return c?(c=bc(a,b),dc.test(c)?eb(a).position()[b]+"px":c):void 0})}),eb.each({Height:"height",Width:"width"},function(a,b){eb.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){eb.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Db(this,function(b,c,d){var e;return eb.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?eb.css(b,c,g):eb.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),eb.fn.size=function(){return this.length},eb.fn.andSelf=eb.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return eb});var ed=a.jQuery,fd=a.$;return eb.noConflict=function(b){return a.$===eb&&(a.$=fd),b&&a.jQuery===eb&&(a.jQuery=ed),eb},typeof b===xb&&(a.jQuery=a.$=eb),eb}),$(function(){function a(a,b,c){var d=require("nw.gui"),e=new d.Menu,f=new d.MenuItem({label:a||"Cut",click:function(){document.execCommand("cut"),console.log("Menu:","cutted to clipboard")}}),g=new d.MenuItem({label:b||"Copy",click:function(){document.execCommand("copy"),console.log("Menu:","copied to clipboard")}}),h=new d.MenuItem({label:c||"Paste",click:function(){document.execCommand("paste"),console.log("Menu:","pasted to textarea")}});return e.append(f),e.append(g),e.append(h),e}function b(a){for(;a&&null!==a.parentNode;){if(a.hasAttribute("disable-nw-menu"))return!0;a=a.parentNode}return!1}try{var c=new a;$(document).on("contextmenu",function(a){b(a.target)||(a.preventDefault(),c.popup(a.originalEvent.x,a.originalEvent.y))})}catch(d){console.log("nodewebkit-specific",d)}}),function(){function a(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a}function b(){var a,b,c=arguments,d={},e=function(a,b){var c,d;"object"!=typeof a&&(a={});for(d in b)b.hasOwnProperty(d)&&(c=b[d],a[d]=c&&"object"==typeof c&&"[object Array]"!==Object.prototype.toString.call(c)&&"renderTo"!==d&&"number"!=typeof c.nodeType?e(a[d]||{},c):b[d]);return a};for(c[0]===!0&&(d=c[1],c=Array.prototype.slice.call(c,2)),b=c.length,a=0;b>a;a++)d=e(d,c[a]);return d}function c(){for(var a=0,b=arguments,c=b.length,d={};c>a;a++)d[b[a++]]=b[a];return d}function d(a,b){return parseInt(a,b||10)}function e(a){return"string"==typeof a}function f(a){return"object"==typeof a}function g(a){return"[object Array]"===Object.prototype.toString.call(a)}function h(a){return"number"==typeof a}function i(a){return lb.log(a)/lb.LN10}function j(a){return lb.pow(10,a)}function k(a,b){for(var c=a.length;c--;)if(a[c]===b){a.splice(c,1);break}}function l(a){return a!==P&&null!==a}function m(a,b,c){var d,g;if(e(b))l(c)?a.setAttribute(b,c):a&&a.getAttribute&&(g=a.getAttribute(b));else if(l(b)&&f(b))for(d in b)a.setAttribute(d,b[d]);return g}function n(a){return g(a)?a:[a]}function o(){var a,b,c=arguments,d=c.length;for(a=0;d>a;a++)if(b=c[a],"undefined"!=typeof b&&null!==b)return b}function p(b,c){yb&&!Eb&&c&&c.opacity!==P&&(c.filter="alpha(opacity="+100*c.opacity+")"),a(b.style,c)}function q(b,c,d,e,f){return b=jb.createElement(b),c&&a(b,c),f&&p(b,{padding:0,border:Nb,margin:0}),d&&p(b,d),e&&e.appendChild(b),b}function r(b,c){var d=function(){};return d.prototype=new b,a(d.prototype,c),d}function s(a,b,c,e){var f=T.lang,a=+a||0,g=-1===b?(a.toString().split(".")[1]||"").length:isNaN(b=rb(b))?2:b,b=void 0===c?f.decimalPoint:c,e=void 0===e?f.thousandsSep:e,f=0>a?"-":"",c=String(d(a=rb(a).toFixed(g))),h=c.length>3?c.length%3:0;return f+(h?c.substr(0,h)+e:"")+c.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+e)+(g?b+rb(a-c).toFixed(g).slice(2):"")}function t(a,b){return Array((b||2)+1-String(a).length).join(0)+a}function u(a,b,c){var d=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);return a.unshift(d),c.apply(this,a)}}function v(a,b){for(var c,d,e,f,g,h="{",i=!1,j=[];-1!==(h=a.indexOf(h));){if(c=a.slice(0,h),i){for(d=c.split(":"),e=d.shift().split("."),g=e.length,c=b,f=0;g>f;f++)c=c[e[f]];d.length&&(d=d.join(":"),e=/\.([0-9])/,f=T.lang,g=void 0,/f$/.test(d)?(g=(g=d.match(e))?g[1]:-1,null!==c&&(c=s(c,g,f.decimalPoint,d.indexOf(",")>-1?f.thousandsSep:""))):c=U(d,c))}j.push(c),a=a.slice(h+1),h=(i=!i)?"}":"{"}return j.push(a),j.join("")}function w(a){return lb.pow(10,nb(lb.log(a)/lb.LN10))}function x(a,b,c,d){var e,c=o(c,1);for(e=a/c,b||(b=[1,2,2.5,5,10],d&&d.allowDecimals===!1&&(1===c?b=[1,2,5,10]:.1>=c&&(b=[1/c]))),d=0;d<b.length&&(a=b[d],!(e<=(b[d]+(b[d+1]||b[d]))/2));d++);return a*=c}function y(){this.symbol=this.color=0}function z(a,b){var c,d,e=a.length;for(d=0;e>d;d++)a[d].ss_i=d;for(a.sort(function(a,d){return c=b(a,d),0===c?a.ss_i-d.ss_i:c}),d=0;e>d;d++)delete a[d].ss_i}function A(a){for(var b=a.length,c=a[0];b--;)a[b]<c&&(c=a[b]);return c}function B(a){for(var b=a.length,c=a[0];b--;)a[b]>c&&(c=a[b]);return c}function C(a,b){for(var c in a)a[c]&&a[c]!==b&&a[c].destroy&&a[c].destroy(),delete a[c]}function D(a){S||(S=q(Mb)),a&&S.appendChild(a),S.innerHTML=""}function E(a,b){var c="Highcharts error #"+a+": www.highcharts.com/errors/"+a;if(b)throw c;kb.console&&console.log(c)}function F(a){return parseFloat(a.toPrecision(14))}function G(a,b){V=o(a,b.animation)}function H(){var a=T.global.useUTC,b=a?"getUTC":"get",c=a?"setUTC":"set";Z=6e4*(a&&T.global.timezoneOffset||0),Y=a?Date.UTC:function(a,b,c,d,e,f){return new Date(a,b,o(c,1),o(d,0),o(e,0),o(f,0)).getTime()},$=b+"Minutes",_=b+"Hours",ab=b+"Day",bb=b+"Date",cb=b+"Month",db=b+"FullYear",eb=c+"Minutes",fb=c+"Hours",gb=c+"Date",hb=c+"Month",ib=c+"FullYear"}function I(){}function J(a,b,c,d){this.axis=a,this.pos=b,this.type=c||"",this.isNew=!0,!c&&!d&&this.addLabel()}function K(){this.init.apply(this,arguments)}function L(){this.init.apply(this,arguments)}function M(a,b,c,d,e){var f=a.chart.inverted;this.axis=a,this.isNegative=c,this.options=b,this.x=d,this.total=null,this.points={},this.stack=e,this.alignOptions={align:b.align||(f?c?"left":"right":"center"),verticalAlign:b.verticalAlign||(f?"middle":c?"bottom":"top"),y:o(b.y,f?4:c?14:-6),x:o(b.x,f?c?-6:6:0)},this.textAlign=b.textAlign||(f?c?"right":"left":"center")}function N(a){var b=a.options,c=b.navigator,d=c.enabled,b=b.scrollbar,e=b.enabled,f=d?c.height:0,g=e?b.height:0;this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=a,this.setBaseSeries(),this.height=f,this.scrollbarHeight=g,this.scrollbarEnabled=e,this.navigatorEnabled=d,this.navigatorOptions=c,this.scrollbarOptions=b,this.outlineHeight=f+g,this.init()}function O(a){this.init(a)}var P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb=document,kb=window,lb=Math,mb=lb.round,nb=lb.floor,ob=lb.ceil,pb=lb.max,qb=lb.min,rb=lb.abs,sb=lb.cos,tb=lb.sin,ub=lb.PI,vb=2*ub/360,wb=navigator.userAgent,xb=kb.opera,yb=/msie/i.test(wb)&&!xb,zb=8===jb.documentMode,Ab=/AppleWebKit/.test(wb),Bb=/Firefox/.test(wb),Cb=/(Mobile|Android|Windows Phone)/.test(wb),Db="http://www.w3.org/2000/svg",Eb=!!jb.createElementNS&&!!jb.createElementNS(Db,"svg").createSVGRect,Fb=Bb&&parseInt(wb.split("Firefox/")[1],10)<4,Gb=!Eb&&!yb&&!!jb.createElement("canvas").getContext,Hb={},Ib=0,Jb=function(){},Kb=[],Lb=0,Mb="div",Nb="none",Ob=/^[0-9]+$/,Pb="stroke-width",Qb={},Rb=kb.Highcharts=kb.Highcharts?E(16,!0):{};U=function(b,c,d){if(!l(c)||isNaN(c))return"Invalid date";var e,b=o(b,"%Y-%m-%d %H:%M:%S"),f=new Date(c-Z),g=f[_](),h=f[ab](),i=f[bb](),j=f[cb](),k=f[db](),m=T.lang,n=m.weekdays,f=a({a:n[h].substr(0,3),A:n[h],d:t(i),e:i,b:m.shortMonths[j],B:m.months[j],m:t(j+1),y:k.toString().substr(2,2),Y:k,H:t(g),I:t(g%12||12),l:g%12||12,M:t(f[$]()),p:12>g?"AM":"PM",P:12>g?"am":"pm",S:t(f.getSeconds()),L:t(mb(c%1e3),3)},Rb.dateFormats);for(e in f)for(;-1!==b.indexOf("%"+e);)b=b.replace("%"+e,"function"==typeof f[e]?f[e](c):f[e]);return d?b.substr(0,1).toUpperCase()+b.substr(1):b},y.prototype={wrapColor:function(a){this.color>=a&&(this.color=0)},wrapSymbol:function(a){this.symbol>=a&&(this.symbol=0)}},X=c("millisecond",1,"second",1e3,"minute",6e4,"hour",36e5,"day",864e5,"week",6048e5,"month",26784e5,"year",31556952e3),W={init:function(a,b,c){var d,e,f,b=b||"",g=a.shift,h=b.indexOf("C")>-1,i=h?7:3,b=b.split(" "),c=[].concat(c),j=function(a){for(d=a.length;d--;)"M"===a[d]&&a.splice(d+1,0,a[d+1],a[d+2],a[d+1],a[d+2])
};if(h&&(j(b),j(c)),a.isArea&&(e=b.splice(b.length-6,6),f=c.splice(c.length-6,6)),g<=c.length/i&&b.length===c.length)for(;g--;)c=[].concat(c).splice(0,i).concat(c);if(a.shift=0,b.length)for(a=c.length;b.length<a;)g=[].concat(b).splice(b.length-i,i),h&&(g[i-6]=g[i-2],g[i-5]=g[i-1]),b=b.concat(g);return e&&(b=b.concat(e),c=c.concat(f)),[b,c]},step:function(a,b,c,d){var e=[],f=a.length;if(1===c)e=d;else if(f===b.length&&1>c)for(;f--;)d=parseFloat(a[f]),e[f]=isNaN(d)?a[f]:c*parseFloat(b[f]-d)+d;else e=b;return e}},function(b){kb.HighchartsAdapter=kb.HighchartsAdapter||b&&{init:function(a){var c,d=b.fx,f=d.step,g=b.Tween,h=g&&g.propHooks;c=b.cssHooks.opacity,b.extend(b.easing,{easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}}),b.each(["cur","_default","width","height","opacity"],function(a,b){var c,e=f;"cur"===b?e=d.prototype:"_default"===b&&g&&(e=h[b],b="set"),(c=e[b])&&(e[b]=function(d){var e,d=a?d:this;return"align"!==d.prop?(e=d.elem,e.attr?e.attr(d.prop,"cur"===b?P:d.now):c.apply(this,arguments)):void 0})}),u(c,"get",function(a,b,c){return b.attr?b.opacity||0:a.call(this,b,c)}),c=function(b){var c,d=b.elem;b.started||(c=a.init(d,d.d,d.toD),b.start=c[0],b.end=c[1],b.started=!0),d.attr("d",a.step(b.start,b.end,b.pos,d.toD))},g?h.d={set:c}:f.d=c,this.each=Array.prototype.forEach?function(a,b){return Array.prototype.forEach.call(a,b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(b.call(a[c],a[c],c,a)===!1)return c},b.fn.highcharts=function(){var a,b,c="Chart",d=arguments;return this[0]&&(e(d[0])&&(c=d[0],d=Array.prototype.slice.call(d,1)),a=d[0],a!==P&&(a.chart=a.chart||{},a.chart.renderTo=this[0],new Rb[c](a,d[1]),b=this),a===P&&(b=Kb[m(this[0],"data-highcharts-chart")])),b}},getScript:b.getScript,inArray:b.inArray,adapterRun:function(a,c){return b(a)[c]()},grep:b.grep,map:function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c[d]=b.call(a[d],a[d],d,a);return c},offset:function(a){return b(a).offset()},addEvent:function(a,c,d){b(a).bind(c,d)},removeEvent:function(a,c,d){var e=jb.removeEventListener?"removeEventListener":"detachEvent";jb[e]&&a&&!a[e]&&(a[e]=function(){}),b(a).unbind(c,d)},fireEvent:function(c,d,e,f){var g,h=b.Event(d),i="detached"+d;!yb&&e&&(delete e.layerX,delete e.layerY,delete e.returnValue),a(h,e),c[d]&&(c[i]=c[d],c[d]=null),b.each(["preventDefault","stopPropagation"],function(a,b){var c=h[b];h[b]=function(){try{c.call(h)}catch(a){"preventDefault"===b&&(g=!0)}}}),b(c).trigger(h),c[i]&&(c[d]=c[i],c[i]=null),f&&!h.isDefaultPrevented()&&!g&&f(h)},washMouseEvent:function(a){var b=a.originalEvent||a;return b.pageX===P&&(b.pageX=a.pageX,b.pageY=a.pageY),b},animate:function(a,c,d){var e=b(a);a.style||(a.style={}),c.d&&(a.toD=c.d,c.d=1),e.stop(),c.opacity!==P&&a.attr&&(c.opacity+="px"),e.animate(c,d)},stop:function(a){b(a).stop()}}}(kb.jQuery);var Sb=kb.HighchartsAdapter,Tb=Sb||{};Sb&&Sb.init.call(Sb,W);var Ub=Tb.adapterRun,Vb=Tb.getScript,Wb=Tb.inArray,Xb=Tb.each,Yb=Tb.grep,Zb=Tb.offset,$b=Tb.map,_b=Tb.addEvent,ac=Tb.removeEvent,bc=Tb.fireEvent,cc=Tb.washMouseEvent,dc=Tb.animate,ec=Tb.stop,Tb={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};T={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#8085e8,#8d4653,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/2.0.1/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/2.0.1/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:b(Tb,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":s(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Eb,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Cb?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var fc=T.plotOptions,Sb=fc.line;H();var gc=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,hc=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,ic=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,jc=function(a){var c,e,f=[];return function(a){a&&a.stops?e=$b(a.stops,function(a){return jc(a[1])}):(c=gc.exec(a))?f=[d(c[1]),d(c[2]),d(c[3]),parseFloat(c[4],10)]:(c=hc.exec(a))?f=[d(c[1],16),d(c[2],16),d(c[3],16),1]:(c=ic.exec(a))&&(f=[d(c[1]),d(c[2]),d(c[3]),1])}(a),{get:function(c){var d;return e?(d=b(a),d.stops=[].concat(d.stops),Xb(e,function(a,b){d.stops[b]=[d.stops[b][0],a.get(c)]})):d=f&&!isNaN(f[0])?"rgb"===c?"rgb("+f[0]+","+f[1]+","+f[2]+")":"a"===c?f[3]:"rgba("+f.join(",")+")":a,d},brighten:function(a){if(e)Xb(e,function(b){b.brighten(a)});else if(h(a)&&0!==a){var b;for(b=0;3>b;b++)f[b]+=d(255*a),f[b]<0&&(f[b]=0),f[b]>255&&(f[b]=255)}return this},rgba:f,setOpacity:function(a){return f[3]=a,this}}};I.prototype={init:function(a,b){this.element="span"===b?q(b):jb.createElementNS(Db,b),this.renderer=a},opacity:1,animate:function(a,c,d){c=o(c,V,!0),ec(this),c?(c=b(c,{}),d&&(c.complete=d),dc(this,a,c)):(this.attr(a),d&&d())},colorGradient:function(a,c,d){var e,f,h,i,j,k,m,n,o,p,q=this.renderer,r=[];if(a.linearGradient?f="linearGradient":a.radialGradient&&(f="radialGradient"),f){h=a[f],i=q.gradients,k=a.stops,o=d.radialReference,g(h)&&(a[f]=h={x1:h[0],y1:h[1],x2:h[2],y2:h[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===f&&o&&!l(h.gradientUnits)&&(h=b(h,{cx:o[0]-o[2]/2+h.cx*o[2],cy:o[1]-o[2]/2+h.cy*o[2],r:h.r*o[2],gradientUnits:"userSpaceOnUse"}));for(p in h)"id"!==p&&r.push(p,h[p]);for(p in k)r.push(k[p]);r=r.join(","),i[r]?a=i[r].attr("id"):(h.id=a="highcharts-"+Ib++,i[r]=j=q.createElement(f).attr(h).add(q.defs),j.stops=[],Xb(k,function(a){0===a[1].indexOf("rgba")?(e=jc(a[1]),m=e.get("rgb"),n=e.get("a")):(m=a[1],n=1),a=q.createElement("stop").attr({offset:a[0],"stop-color":m,"stop-opacity":n}).add(j),j.stops.push(a)})),d.setAttribute(c,"url("+q.url+"#"+a+")")}},attr:function(a,b){var c,d,e,f,g=this.element,h=this;if("string"==typeof a&&b!==P&&(c=a,a={},a[c]=b),"string"==typeof a)h=(this[a+"Getter"]||this._defaultGetter).call(this,a,g);else{for(c in a)d=a[c],f=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(c)&&(e||(this.symbolAttr(a),e=!0),f=!0),!this.rotation||"x"!==c&&"y"!==c||(this.doTransform=!0),f||(this[c+"Setter"]||this._defaultSetter).call(this,d,c,g),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(c)&&this.updateShadows(c,d);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return h},updateShadows:function(a,b){for(var c=this.shadows,d=c.length;d--;)c[d].setAttribute(a,"height"===a?pb(b-(c[d].cutHeight||0),0):"d"===a?this.d:b)},addClass:function(a){var b=this.element,c=m(b,"class")||"";return-1===c.indexOf(a)&&m(b,"class",c+" "+a),this},symbolAttr:function(a){var b=this;Xb("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(c){b[c]=o(a[c],b[c])}),b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":Nb)},crisp:function(a){var b,c,d={},e=a.strokeWidth||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;c=mb(e)%2/2,a.x=nb(a.x||this.x||0)+c,a.y=nb(a.y||this.y||0)+c,a.width=nb((a.width||this.width||0)-2*c),a.height=nb((a.height||this.height||0)-2*c),a.strokeWidth=e;for(b in a)this[b]!==a[b]&&(this[b]=d[b]=a[b]);return d},css:function(b){var c,e,f=this.styles,g={},h=this.element,i="";if(c=!f,b&&b.color&&(b.fill=b.color),f)for(e in b)b[e]!==f[e]&&(g[e]=b[e],c=!0);if(c){if(c=this.textWidth=b&&b.width&&"text"===h.nodeName.toLowerCase()&&d(b.width),f&&(b=a(f,g)),this.styles=b,c&&(Gb||!Eb&&this.renderer.forExport)&&delete b.width,yb&&!Eb)p(this.element,b);else{f=function(a,b){return"-"+b.toLowerCase()};for(e in b)i+=e.replace(/([A-Z])/g,f)+":"+b[e]+";";m(h,"style",i)}c&&this.added&&this.renderer.buildText(this)}return this},on:function(a,b){var c=this,d=c.element;return R&&"click"===a?(d.ontouchstart=function(a){c.touchEventFired=Date.now(),a.preventDefault(),b.call(d,a)},d.onclick=function(a){(-1===wb.indexOf("Android")||Date.now()-(c.touchEventFired||0)>1100)&&b.call(d,a)}):d["on"+a]=b,this},setRadialReference:function(a){return this.element.radialReference=a,this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var a=this.translateX||0,b=this.translateY||0,c=this.scaleX,d=this.scaleY,e=this.inverted,f=this.rotation,g=this.element;e&&(a+=this.attr("width"),b+=this.attr("height")),a=["translate("+a+","+b+")"],e?a.push("rotate(90) scale(-1,1)"):f&&a.push("rotate("+f+" "+(g.getAttribute("x")||0)+" "+(g.getAttribute("y")||0)+")"),(l(c)||l(d))&&a.push("scale("+o(c,1)+" "+o(d,1)+")"),a.length&&g.setAttribute("transform",a.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(a,b,c){var d,f,g,h,i={};return f=this.renderer,g=f.alignedObjects,a?(this.alignOptions=a,this.alignByTranslate=b,(!c||e(c))&&(this.alignTo=d=c||"renderer",k(g,this),g.push(this),c=null)):(a=this.alignOptions,b=this.alignByTranslate,d=this.alignTo),c=o(c,f[d],f),d=a.align,f=a.verticalAlign,g=(c.x||0)+(a.x||0),h=(c.y||0)+(a.y||0),("right"===d||"center"===d)&&(g+=(c.width-(a.width||0))/{right:1,center:2}[d]),i[b?"translateX":"x"]=mb(g),("bottom"===f||"middle"===f)&&(h+=(c.height-(a.height||0))/({bottom:1,middle:2}[f]||1)),i[b?"translateY":"y"]=mb(h),this[this.placed?"animate":"attr"](i),this.placed=!0,this.alignAttr=i,this},getBBox:function(){var b,c,d=this.bBox,e=this.renderer,f=this.rotation;b=this.element;var g=this.styles,h=f*vb;c=this.textStr;var i;if((""===c||Ob.test(c))&&(i="num."+c.toString().length+(g?"|"+g.fontSize+"|"+g.fontFamily:"")),i&&(d=e.cache[i]),!d){if(b.namespaceURI===Db||e.forExport){try{d=b.getBBox?a({},b.getBBox()):{width:b.offsetWidth,height:b.offsetHeight}}catch(j){}(!d||d.width<0)&&(d={width:0,height:0})}else d=this.htmlGetBBox();e.isSVG&&(b=d.width,c=d.height,yb&&g&&"11px"===g.fontSize&&"16.9"===c.toPrecision(3)&&(d.height=c=14),f&&(d.width=rb(c*tb(h))+rb(b*sb(h)),d.height=rb(c*sb(h))+rb(b*tb(h)))),this.bBox=d,i&&(e.cache[i]=d)}return d},show:function(a){return a&&this.element.namespaceURI===Db?(this.element.removeAttribute("visibility"),this):this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.hide()}})},add:function(a){var b,c,e=this.renderer,f=a||e,g=f.element||e.box,h=this.element,i=this.zIndex;if(a&&(this.parentGroup=a),this.parentInverted=a&&a.inverted,void 0!==this.textStr&&e.buildText(this),i&&(f.handleZ=!0,i=d(i)),f.handleZ)for(a=g.childNodes,b=0;b<a.length;b++)if(e=a[b],f=m(e,"zIndex"),e!==h&&(d(f)>i||!l(i)&&l(f))){g.insertBefore(h,e),c=!0;break}return c||g.appendChild(h),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var a,b,c=this,d=c.element||{},e=c.shadows,f=c.renderer.isSVG&&"SPAN"===d.nodeName&&c.parentGroup;if(d.onclick=d.onmouseout=d.onmouseover=d.onmousemove=d.point=null,ec(c),c.clipPath&&(c.clipPath=c.clipPath.destroy()),c.stops){for(b=0;b<c.stops.length;b++)c.stops[b]=c.stops[b].destroy();c.stops=null}for(c.safeRemoveChild(d),e&&Xb(e,function(a){c.safeRemoveChild(a)});f&&0===f.div.childNodes.length;)d=f.parentGroup,c.safeRemoveChild(f.div),delete f.div,f=d;c.alignTo&&k(c.renderer.alignedObjects,c);for(a in c)delete c[a];return null},shadow:function(a,b,c){var d,e,f,g,h,i,j=[],k=this.element;if(a){for(g=o(a.width,3),h=(a.opacity||.15)/g,i=this.parentInverted?"(-1,-1)":"("+o(a.offsetX,1)+", "+o(a.offsetY,1)+")",d=1;g>=d;d++)e=k.cloneNode(0),f=2*g+1-2*d,m(e,{isShadow:"true",stroke:a.color||"black","stroke-opacity":h*d,"stroke-width":f,transform:"translate"+i,fill:Nb}),c&&(m(e,"height",pb(m(e,"height")-f,0)),e.cutHeight=f),b?b.element.appendChild(e):k.parentNode.insertBefore(e,k),j.push(e);this.shadows=j}return this},xGetter:function(a){return"circle"===this.element.nodeName&&(a={x:"cx",y:"cy"}[a]||a),this._defaultGetter(a)},_defaultGetter:function(a){return a=o(this[a],this.element?this.element.getAttribute(a):null,0),/^[0-9\.]+$/.test(a)&&(a=parseFloat(a)),a},dSetter:function(a,b,c){a&&a.join&&(a=a.join(" ")),/(NaN| {2}|^$)/.test(a)&&(a="M 0 0"),c.setAttribute(b,a),this[b]=a},dashstyleSetter:function(a){var b;if(a=a&&a.toLowerCase()){for(a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),b=a.length;b--;)a[b]=d(a[b])*this.element.getAttribute("stroke-width");a=a.join(","),this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function(a,b,c){this[b]=a,c.setAttribute(b,a)},"stroke-widthSetter":function(a,b,c){0===a&&(a=1e-5),this.strokeWidth=a,c.setAttribute(b,a)},titleSetter:function(a){var b=this.element.getElementsByTagName("title")[0];b||(b=jb.createElementNS(Db,"title"),this.element.appendChild(b)),b.textContent=a},textSetter:function(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,b,c){"string"==typeof a?c.setAttribute(b,a):a&&this.colorGradient(a,b,c)},zIndexSetter:function(a,b,c){c.setAttribute(b,a),this[b]=a},_defaultSetter:function(a,b,c){c.setAttribute(b,a)}},I.prototype.yGetter=I.prototype.xGetter,I.prototype.translateXSetter=I.prototype.translateYSetter=I.prototype.rotationSetter=I.prototype.verticalAlignSetter=I.prototype.scaleXSetter=I.prototype.scaleYSetter=function(a,b){this[b]=a,this.doTransform=!0},I.prototype.strokeSetter=I.prototype.fillSetter;var kc=function(){this.init.apply(this,arguments)};kc.prototype={Element:I,init:function(a,b,c,d,e){var f,g=location,d=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(d));f=d.element,a.appendChild(f),-1===a.innerHTML.indexOf("xmlns")&&m(f,"xmlns",Db),this.isSVG=!0,this.box=f,this.boxWrapper=d,this.alignedObjects=[],this.url=(Bb||Ab)&&jb.getElementsByTagName("base").length?g.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(jb.createTextNode("Created with Highstock 2.0.1")),this.defs=this.createElement("defs").add(),this.forExport=e,this.gradients={},this.cache={},this.setSize(b,c,!1);var h;Bb&&a.getBoundingClientRect&&(this.subPixelFix=b=function(){p(a,{left:0,top:0}),h=a.getBoundingClientRect(),p(a,{left:ob(h.left)-h.left+"px",top:ob(h.top)-h.top+"px"})},b(),_b(kb,"resize",b))},getStyle:function(b){return this.style=a({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},b)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),C(this.gradients||{}),this.gradients=null,a&&(this.defs=a.destroy()),this.subPixelFix&&ac(kb,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(a){var b=new this.Element;return b.init(this,a),b},draw:function(){},buildText:function(a){for(var b,c,e=a.element,f=this,g=f.forExport,h=o(a.textStr,"").toString(),i=-1!==h.indexOf("<"),j=e.childNodes,k=m(e,"x"),l=a.styles,n=a.textWidth,q=l&&l.lineHeight,r=j.length,s=function(a){return q?d(q):f.fontMetrics(/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:l&&l.fontSize||f.style.fontSize||12).h};r--;)e.removeChild(j[r]);i||-1!==h.indexOf(" ")?(b=/<.*style="([^"]+)".*>/,c=/<.*href="(http[^"]+)".*>/,n&&!a.added&&this.box.appendChild(e),h=i?h.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[h],""===h[h.length-1]&&h.pop(),Xb(h,function(d,h){var i,j=0,d=d.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");i=d.split("|||"),Xb(i,function(d){if(""!==d||1===i.length){var o,q={},r=jb.createElementNS(Db,"tspan");if(b.test(d)&&(o=d.match(b)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),m(r,"style",o)),c.test(d)&&!g&&(m(r,"onclick",'location.href="'+d.match(c)[1]+'"'),p(r,{cursor:"pointer"})),d=(d.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==d&&(r.appendChild(jb.createTextNode(d)),j?q.dx=0:h&&null!==k&&(q.x=k),m(r,q),!j&&h&&(!Eb&&g&&p(r,{display:"block"}),m(r,"dy",s(r),Ab&&r.offsetHeight)),e.appendChild(r),j++,n))for(var t,u,d=d.replace(/([^\^])-/g,"$1- ").split(" "),q=d.length>1&&"nowrap"!==l.whiteSpace,v=a._clipHeight,w=[],x=s(),y=1;q&&(d.length||w.length);)delete a.bBox,t=a.getBBox(),u=t.width,!Eb&&f.forExport&&(u=f.measureSpanWidth(r.firstChild.data,a.styles)),t=u>n,t&&1!==d.length?(r.removeChild(r.firstChild),w.unshift(d.pop())):(d=w,w=[],d.length&&(y++,v&&y*x>v?(d=["..."],a.attr("title",a.textStr)):(r=jb.createElementNS(Db,"tspan"),m(r,{dy:x,x:k}),o&&m(r,"style",o),e.appendChild(r),u>n&&(n=u)))),d.length&&r.appendChild(jb.createTextNode(d.join(" ").replace(/- /g,"-")))}})})):e.appendChild(jb.createTextNode(h))},button:function(c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r=this.label(c,d,e,k,null,null,null,null,"button"),s=0,c={x1:0,y1:0,x2:0,y2:1},g=b({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:c,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},g);return n=g.style,delete g.style,h=b(g,{stroke:"#68A",fill:{linearGradient:c,stops:[[0,"#FFF"],[1,"#ACF"]]}},h),o=h.style,delete h.style,i=b(g,{stroke:"#68A",fill:{linearGradient:c,stops:[[0,"#9BD"],[1,"#CDF"]]}},i),p=i.style,delete i.style,j=b(g,{style:{color:"#CCC"}},j),q=j.style,delete j.style,_b(r.element,yb?"mouseover":"mouseenter",function(){3!==s&&r.attr(h).css(o)}),_b(r.element,yb?"mouseout":"mouseleave",function(){3!==s&&(l=[g,h,i][s],m=[n,o,p][s],r.attr(l).css(m))}),r.setState=function(a){(r.state=s=a)?2===a?r.attr(i).css(p):3===a&&r.attr(j).css(q):r.attr(g).css(n)},r.on("click",function(){3!==s&&f.call(r)}).attr(g).css(a({cursor:"default"},n))},crispLine:function(a,b){return a[1]===a[4]&&(a[1]=a[4]=mb(a[1])-b%2/2),a[2]===a[5]&&(a[2]=a[5]=mb(a[2])+b%2/2),a},path:function(b){var c={fill:Nb};return g(b)?c.d=b:f(b)&&a(c,b),this.createElement("path").attr(c)},circle:function(a,b,c){return a=f(a)?a:{x:a,y:b,r:c},b=this.createElement("circle"),b.xSetter=function(a){this.element.setAttribute("cx",a)},b.ySetter=function(a){this.element.setAttribute("cy",a)},b.attr(a)},arc:function(a,b,c,d,e,g){return f(a)&&(b=a.y,c=a.r,d=a.innerR,e=a.start,g=a.end,a=a.x),a=this.symbol("arc",a||0,b||0,c||0,c||0,{innerR:d||0,start:e||0,end:g||0}),a.r=c,a},rect:function(a,b,c,d,e,g){var e=f(a)?a.r:e,h=this.createElement("rect"),a=f(a)?a:a===P?{}:{x:a,y:b,width:pb(c,0),height:pb(d,0)};return g!==P&&(a.strokeWidth=g,a=h.crisp(a)),e&&(a.r=e),h.rSetter=function(a){m(this.element,{rx:a,ry:a})},h.attr(a)},setSize:function(a,b,c){var d=this.alignedObjects,e=d.length;for(this.width=a,this.height=b,this.boxWrapper[o(c,!0)?"animate":"attr"]({width:a,height:b});e--;)d[e].align()},g:function(a){var b=this.createElement("g");return l(a)?b.attr({"class":"highcharts-"+a}):b},image:function(b,c,d,e,f){var g={preserveAspectRatio:Nb};return arguments.length>1&&a(g,{x:c,y:d,width:e,height:f}),g=this.createElement("image").attr(g),g.element.setAttributeNS?g.element.setAttributeNS("http://www.w3.org/1999/xlink","href",b):g.element.setAttribute("hc-svg-href",b),g},symbol:function(b,c,d,e,f,g){var h,i,j,k=this.symbols[b],k=k&&k(mb(c),mb(d),e,f,g),l=/^url\((.*?)\)$/;return k?(h=this.path(k),a(h,{symbolName:b,x:c,y:d,width:e,height:f}),g&&a(h,g)):l.test(b)&&(j=function(a,b){a.element&&(a.attr({width:b[0],height:b[1]}),a.alignByTranslate||a.translate(mb((e-b[0])/2),mb((f-b[1])/2)))},i=b.match(l)[1],b=Hb[i],h=this.image(i).attr({x:c,y:d}),h.isImg=!0,b?j(h,b):(h.attr({width:0,height:0}),q("img",{onload:function(){j(h,Hb[i]=[this.width,this.height])},src:i}))),h},symbols:{circle:function(a,b,c,d){var e=.166*c;return["M",a+c/2,b,"C",a+c+e,b,a+c+e,b+d,a+c/2,b+d,"C",a-e,b+d,a-e,b,a+c/2,b,"Z"]},square:function(a,b,c,d){return["M",a,b,"L",a+c,b,a+c,b+d,a,b+d,"Z"]},triangle:function(a,b,c,d){return["M",a+c/2,b,"L",a+c,b+d,a,b+d,"Z"]},"triangle-down":function(a,b,c,d){return["M",a,b,"L",a+c,b,a+c/2,b+d,"Z"]},diamond:function(a,b,c,d){return["M",a+c/2,b,"L",a+c,b+d/2,a+c/2,b+d,a,b+d/2,"Z"]},arc:function(a,b,c,d,e){var f=e.start,c=e.r||c||d,g=e.end-.001,d=e.innerR,h=e.open,i=sb(f),j=tb(f),k=sb(g),g=tb(g),e=e.end-f<ub?0:1;return["M",a+c*i,b+c*j,"A",c,c,0,e,1,a+c*k,b+c*g,h?"M":"L",a+d*k,b+d*g,"A",d,d,0,e,0,a+d*i,b+d*j,h?"":"Z"]},callout:function(a,b,c,d,e){var f=qb(e&&e.r||0,c,d),g=f+6,h=e&&e.anchorX,i=e&&e.anchorY,e=mb(e.strokeWidth||0)%2/2;return a+=e,b+=e,e=["M",a+f,b,"L",a+c-f,b,"C",a+c,b,a+c,b,a+c,b+f,"L",a+c,b+d-f,"C",a+c,b+d,a+c,b+d,a+c-f,b+d,"L",a+f,b+d,"C",a,b+d,a,b+d,a,b+d-f,"L",a,b+f,"C",a,b,a,b,a+f,b],h&&h>c&&i>b+g&&b+d-g>i?e.splice(13,3,"L",a+c,i-6,a+c+6,i,a+c,i+6,a+c,b+d-f):h&&0>h&&i>b+g&&b+d-g>i?e.splice(33,3,"L",a,i+6,a-6,i,a,i-6,a,b+f):i&&i>d&&h>a+g&&a+c-g>h?e.splice(23,3,"L",h+6,b+d,h,b+d+6,h-6,b+d,a+f,b+d):i&&0>i&&h>a+g&&a+c-g>h&&e.splice(3,3,"L",h-6,b,h,b-6,h+6,b,c-f,b),e}},clipRect:function(a,b,c,d){var e="highcharts-"+Ib++,f=this.createElement("clipPath").attr({id:e}).add(this.defs),a=this.rect(a,b,c,d,0).add(f);return a.id=e,a.clipPath=f,a},text:function(a,b,c,d){var e=Gb||!Eb&&this.forExport,f={};return d&&!this.forExport?this.html(a,b,c):(f.x=Math.round(b||0),c&&(f.y=Math.round(c)),(a||0===a)&&(f.text=a),a=this.createElement("text").attr(f),e&&a.css({position:"absolute"}),d||(a.xSetter=function(a,b,c){var d,e,f=c.childNodes;for(e=1;e<f.length;e++)d=f[e],d.getAttribute("x")===c.getAttribute("x")&&d.setAttribute("x",a);c.setAttribute(b,a)}),a)},fontMetrics:function(a){var a=a||this.style.fontSize,a=/px/.test(a)?d(a):/em/.test(a)?12*parseFloat(a):12,a=24>a?a+4:mb(1.2*a),b=mb(.8*a);return{h:a,b:b}},label:function(c,d,e,f,g,h,i,j,k){function m(){var b,c;b=z.element.style,q=(void 0===r||void 0===s||y.styles.textAlign)&&z.textStr&&z.getBBox(),y.width=(r||q.width||0)+2*B+C,y.height=(s||q.height||0)+2*B,v=B+x.fontMetrics(b&&b.fontSize).b,w&&(p||(b=mb(-A*B),c=j?-v:0,y.box=p=f?x.symbol(f,b,c,y.width,y.height,E):x.rect(b,c,y.width,y.height,0,E[Pb]),p.attr("fill",Nb).add(y)),p.isImg||p.attr(a({width:mb(y.width),height:mb(y.height)},E)),E=null)}function n(){var a,b=y.styles,b=b&&b.textAlign,c=C+B*(1-A);a=j?0:v,l(r)&&q&&("center"===b||"right"===b)&&(c+={center:.5,right:1}[b]*(r-q.width)),(c!==z.x||a!==z.y)&&(z.attr("x",c),a!==P&&z.attr("y",a)),z.x=c,z.y=a}function o(a,b){p?p.attr(a,b):E[a]=b}var p,q,r,s,t,u,v,w,x=this,y=x.g(k),z=x.text("",0,0,i).attr({zIndex:1}),A=0,B=3,C=0,D=0,E={};y.onAdd=function(){z.add(y),y.attr({text:c||"",x:d,y:e}),p&&l(g)&&y.attr({anchorX:g,anchorY:h})},y.widthSetter=function(a){r=a},y.heightSetter=function(a){s=a},y.paddingSetter=function(a){l(a)&&a!==B&&(B=a,n())},y.paddingLeftSetter=function(a){l(a)&&a!==C&&(C=a,n())},y.alignSetter=function(a){A={left:0,center:.5,right:1}[a]},y.textSetter=function(a){a!==P&&z.textSetter(a),m(),n()},y["stroke-widthSetter"]=function(a,b){a&&(w=!0),D=a%2/2,o(b,a)},y.strokeSetter=y.fillSetter=y.rSetter=function(a,b){"fill"===b&&a&&(w=!0),o(b,a)},y.anchorXSetter=function(a,b){g=a,o(b,a+D-t)},y.anchorYSetter=function(a,b){h=a,o(b,a-u)},y.xSetter=function(a){y.x=a,A&&(a-=A*((r||q.width)+B)),t=mb(a),y.attr("translateX",t)},y.ySetter=function(a){u=y.y=mb(a),y.attr("translateY",u)};var F=y.css;return a(y,{css:function(a){if(a){var c={},a=b(a);Xb("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),function(b){a[b]!==P&&(c[b]=a[b],delete a[b])}),z.css(c)}return F.call(y,a)},getBBox:function(){return{width:q.width+2*B,height:q.height+2*B,x:q.x-B,y:q.y-B}},shadow:function(a){return p&&p.shadow(a),y},destroy:function(){ac(y.element,"mouseenter"),ac(y.element,"mouseleave"),z&&(z=z.destroy()),p&&(p=p.destroy()),I.prototype.destroy.call(y),y=x=m=n=o=null}})}},Q=kc,a(I.prototype,{htmlCss:function(b){var c=this.element;return(c=b&&"SPAN"===c.tagName&&b.width)&&(delete b.width,this.textWidth=c,this.updateTransform()),this.styles=a(this.styles,b),p(this.element,b),this},htmlGetBBox:function(){var a=this.element,b=this.bBox;return b||("text"===a.nodeName&&(a.style.position="absolute"),b=this.bBox={x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}),b},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,b=this.element,c=this.translateX||0,e=this.translateY||0,f=this.x||0,g=this.y||0,h=this.textAlign||"left",i={left:0,center:.5,right:1}[h],j=this.shadows;if(p(b,{marginLeft:c,marginTop:e}),j&&Xb(j,function(a){p(a,{marginLeft:c+1,marginTop:e+1})}),this.inverted&&Xb(b.childNodes,function(c){a.invertChild(c,b)}),"SPAN"===b.tagName){var k,m=this.rotation,n=d(this.textWidth),q=[m,h,b.innerHTML,this.textWidth].join(",");q!==this.cTT&&(k=a.fontMetrics(b.style.fontSize).b,l(m)&&this.setSpanRotation(m,i,k),j=o(this.elemWidth,b.offsetWidth),j>n&&/[ \-]/.test(b.textContent||b.innerText)&&(p(b,{width:n+"px",display:"block",whiteSpace:"normal"}),j=n),this.getSpanCorrection(j,k,i,m,h)),p(b,{left:f+(this.xCorr||0)+"px",top:g+(this.yCorr||0)+"px"}),Ab&&(k=b.offsetHeight),this.cTT=q}}else this.alignOnAdd=!0},setSpanRotation:function(a,b,c){var d={},e=yb?"-ms-transform":Ab?"-webkit-transform":Bb?"MozTransform":xb?"-o-transform":"";d[e]=d.transform="rotate("+a+"deg)",d[e+(Bb?"Origin":"-origin")]=d.transformOrigin=100*b+"% "+c+"px",p(this.element,d)},getSpanCorrection:function(a,b,c){this.xCorr=-a*c,this.yCorr=-b}}),a(kc.prototype,{html:function(b,c,d){var e=this.createElement("span"),f=e.element,g=e.renderer;return e.textSetter=function(a){a!==f.innerHTML&&delete this.bBox,f.innerHTML=this.textStr=a},e.xSetter=e.ySetter=e.alignSetter=e.rotationSetter=function(a,b){"align"===b&&(b="textAlign"),e[b]=a,e.htmlUpdateTransform()},e.attr({text:b,x:mb(c),y:mb(d)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),e.css=e.htmlCss,g.isSVG&&(e.add=function(b){var c,d=g.box.parentNode,h=[];if(this.parentGroup=b){if(c=b.div,!c){for(;b;)h.push(b),b=b.parentGroup;Xb(h.reverse(),function(b){var e;c=b.div=b.div||q(Mb,{className:m(b.element,"class")},{position:"absolute",left:(b.translateX||0)+"px",top:(b.translateY||0)+"px"},c||d),e=c.style,a(b,{translateXSetter:function(a,c){e.left=a+"px",b[c]=a,b.doTransform=!0},translateYSetter:function(a,c){e.top=a+"px",b[c]=a,b.doTransform=!0},visibilitySetter:function(a,b){e[b]=a}})})}}else c=d;return c.appendChild(f),e.added=!0,e.alignOnAdd&&e.htmlUpdateTransform(),e}),e}});var lc,mc;Eb||Gb||(Rb.VMLElement=mc={init:function(a,b){var c=["<",b,' filled="f" stroked="f"'],d=["position: ","absolute",";"],e=b===Mb;("shape"===b||e)&&d.push("left:0;top:0;width:1px;height:1px;"),d.push("visibility: ",e?"hidden":"visible"),c.push(' style="',d.join(""),'"/>'),b&&(c=e||"span"===b||"img"===b?c.join(""):a.prepVML(c),this.element=q(c)),this.renderer=a},add:function(a){var b=this.renderer,c=this.element,d=b.box,d=a?a.element||a:d;return a&&a.inverted&&b.invertChild(c,d),d.appendChild(c),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:I.prototype.htmlUpdateTransform,setSpanRotation:function(){var a=this.rotation,b=sb(a*vb),c=tb(a*vb);p(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11=",b,", M12=",-c,", M21=",c,", M22=",b,", sizingMethod='auto expand')"].join(""):Nb})},getSpanCorrection:function(a,b,c,d,e){var f,g=d?sb(d*vb):1,h=d?tb(d*vb):0,i=o(this.elemHeight,this.element.offsetHeight);this.xCorr=0>g&&-a,this.yCorr=0>h&&-i,f=0>g*h,this.xCorr+=h*b*(f?1-c:c),this.yCorr-=g*b*(d?f?c:1-c:1),e&&"left"!==e&&(this.xCorr-=a*c*(0>g?-1:1),d&&(this.yCorr-=i*c*(0>h?-1:1)),p(this.element,{textAlign:e}))},pathToVML:function(a){for(var b=a.length,c=[];b--;)h(a[b])?c[b]=mb(10*a[b])-5:"Z"===a[b]?c[b]="x":(c[b]=a[b],!a.isArc||"wa"!==a[b]&&"at"!==a[b]||(c[b+5]===c[b+7]&&(c[b+7]+=a[b+7]>a[b+5]?1:-1),c[b+6]===c[b+8]&&(c[b+8]+=a[b+8]>a[b+6]?1:-1)));return c.join(" ")||"x"},clip:function(a){var b,c=this;return a?(b=a.members,k(b,c),b.push(c),c.destroyClip=function(){k(b,c)},a=a.getCSS(c)):(c.destroyClip&&c.destroyClip(),a={clip:zb?"inherit":"rect(auto)"}),c.css(a)},css:I.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&D(a)},destroy:function(){return this.destroyClip&&this.destroyClip(),I.prototype.destroy.apply(this)},on:function(a,b){return this.element["on"+a]=function(){var a=kb.event;a.target=a.srcElement,b(a)},this},cutOffPath:function(a,b){var c,a=a.split(/[ ,]/);return c=a.length,(9===c||11===c)&&(a[c-4]=a[c-2]=d(a[c-2])-10*b),a.join(" ")},shadow:function(a,b,c){var e,f,g,h,i,j,k,l=[],m=this.element,n=this.renderer,p=m.style,r=m.path;if(r&&"string"!=typeof r.value&&(r="x"),i=r,a){for(j=o(a.width,3),k=(a.opacity||.15)/j,e=1;3>=e;e++)h=2*j+1-2*e,c&&(i=this.cutOffPath(r.value,h+.5)),g=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',i,'" coordsize="10 10" style="',m.style.cssText,'" />'],f=q(n.prepVML(g),null,{left:d(p.left)+o(a.offsetX,1),top:d(p.top)+o(a.offsetY,1)}),c&&(f.cutOff=h+1),g=['<stroke color="',a.color||"black",'" opacity="',k*e,'"/>'],q(n.prepVML(g),null,null,f),b?b.element.appendChild(f):m.parentNode.insertBefore(f,m),l.push(f);
this.shadows=l}return this},updateShadows:Jb,setAttr:function(a,b){zb?this.element[a]=b:this.element.setAttribute(a,b)},classSetter:function(a){this.element.className=a},dashstyleSetter:function(a,b,c){(c.getElementsByTagName("stroke")[0]||q(this.renderer.prepVML(["<stroke/>"]),null,null,c))[b]=a||"solid",this[b]=a},dSetter:function(a,b,c){var d=this.shadows,a=a||[];if(this.d=a.join(" "),c.path=a=this.pathToVML(a),d)for(c=d.length;c--;)d[c].path=d[c].cutOff?this.cutOffPath(a,d[c].cutOff):a;this.setAttr(b,a)},fillSetter:function(a,b,c){var d=c.nodeName;"SPAN"===d?c.style.color=a:"IMG"!==d&&(c.filled=a!==Nb,this.setAttr("fillcolor",this.renderer.color(a,c,b,this)))},opacitySetter:Jb,rotationSetter:function(a,b,c){c=c.style,this[b]=c[b]=a,c.left=-mb(tb(a*vb)+1)+"px",c.top=mb(sb(a*vb))+"px"},strokeSetter:function(a,b,c){this.setAttr("strokecolor",this.renderer.color(a,c,b))},"stroke-widthSetter":function(a,b,c){c.stroked=!!a,this[b]=a,h(a)&&(a+="px"),this.setAttr("strokeweight",a)},titleSetter:function(a,b){this.setAttr(b,a)},visibilitySetter:function(a,b,c){"inherit"===a&&(a="visible"),this.shadows&&Xb(this.shadows,function(c){c.style[b]=a}),"DIV"===c.nodeName&&(a="hidden"===a?"-999em":0,zb||(c.style[b]=a?"visible":"hidden"),b="top"),c.style[b]=a},xSetter:function(a,b,c){this[b]=a,"x"===b?b="left":"y"===b&&(b="top"),this.updateClipping?(this[b]=a,this.updateClipping()):c.style[b]=a},zIndexSetter:function(a,b,c){c.style[b]=a}},mc=r(I,mc),mc.prototype.ySetter=mc.prototype.widthSetter=mc.prototype.heightSetter=mc.prototype.xSetter,mc={Element:mc,isIE8:wb.indexOf("MSIE 8.0")>-1,init:function(b,c,d,e){var f;if(this.alignedObjects=[],e=this.createElement(Mb).css(a(this.getStyle(e),{position:"relative"})),f=e.element,b.appendChild(e.element),this.isVML=!0,this.box=f,this.boxWrapper=e,this.cache={},this.setSize(c,d,!1),!jb.namespaces.hcv){jb.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{jb.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(g){jb.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(b,c,d,e){var g=this.createElement(),h=f(b);return a(g,{members:[],left:(h?b.x:b)+1,top:(h?b.y:c)+1,width:(h?b.width:d)-1,height:(h?b.height:e)-1,getCSS:function(b){var c=b.element,d=c.nodeName,b=b.inverted,e=this.top-("shape"===d?c.offsetTop:0),f=this.left,c=f+this.width,g=e+this.height,e={clip:"rect("+mb(b?f:e)+"px,"+mb(b?g:c)+"px,"+mb(b?c:g)+"px,"+mb(b?e:f)+"px)"};return!b&&zb&&"DIV"===d&&a(e,{width:c+"px",height:g+"px"}),e},updateClipping:function(){Xb(g.members,function(a){a.element&&a.css(g.getCSS(a))})}})},color:function(a,b,c,d){var e,f,g,h=this,i=/^rgba/,j=Nb;if(a&&a.linearGradient?g="gradient":a&&a.radialGradient&&(g="pattern"),g){var k,l,m,n,o,p,r,s,t=a.linearGradient||a.radialGradient,u="",a=a.stops,v=[],w=function(){f=['<fill colors="'+v.join(",")+'" opacity="',o,'" o:opacity2="',n,'" type="',g,'" ',u,'focus="100%" method="any" />'],q(h.prepVML(f),null,null,b)};if(m=a[0],s=a[a.length-1],m[0]>0&&a.unshift([0,m[1]]),s[0]<1&&a.push([1,s[1]]),Xb(a,function(a,b){i.test(a[1])?(e=jc(a[1]),k=e.get("rgb"),l=e.get("a")):(k=a[1],l=1),v.push(100*a[0]+"% "+k),b?(o=l,p=k):(n=l,r=k)}),"fill"===c)if("gradient"===g)c=t.x1||t[0]||0,a=t.y1||t[1]||0,m=t.x2||t[2]||0,t=t.y2||t[3]||0,u='angle="'+(90-180*lb.atan((t-a)/(m-c))/ub)+'"',w();else{var x,j=t.r,y=2*j,z=2*j,A=t.cx,B=t.cy,C=b.radialReference,j=function(){C&&(x=d.getBBox(),A+=(C[0]-x.x)/x.width-.5,B+=(C[1]-x.y)/x.height-.5,y*=C[2]/x.width,z*=C[2]/x.height),u='src="'+T.global.VMLRadialGradientURL+'" size="'+y+","+z+'" origin="0.5,0.5" position="'+A+","+B+'" color2="'+r+'" ',w()};d.added?j():d.onAdd=j,j=p}else j=k}else i.test(a)&&"IMG"!==b.tagName?(e=jc(a),f=["<",c,' opacity="',e.get("a"),'"/>'],q(this.prepVML(f),null,null,b),j=e.get("rgb")):(j=b.getElementsByTagName(c),j.length&&(j[0].opacity=1,j[0].type="solid"),j=a);return j},prepVML:function(a){var b=this.isIE8,a=a.join("");return b?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=-1===a.indexOf('style="')?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):a=a.replace("<","<hcv:"),a},text:kc.prototype.html,path:function(b){var c={coordsize:"10 10"};return g(b)?c.d=b:f(b)&&a(c,b),this.createElement("shape").attr(c)},circle:function(a,b,c){var d=this.symbol("circle");return f(a)&&(c=a.r,b=a.y,a=a.x),d.isCircle=!0,d.r=c,d.attr({x:a,y:b})},g:function(a){var b;return a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a}),this.createElement(Mb).attr(b)},image:function(a,b,c,d,e){var f=this.createElement("img").attr({src:a});return arguments.length>1&&f.attr({x:b,y:c,width:d,height:e}),f},createElement:function(a){return"rect"===a?this.symbol(a):kc.prototype.createElement.call(this,a)},invertChild:function(a,b){var c=this,e=b.style,f="IMG"===a.tagName&&a.style;p(a,{flip:"x",left:d(e.width)-(f?d(f.top):1),top:d(e.height)-(f?d(f.left):1),rotation:-90}),Xb(a.childNodes,function(b){c.invertChild(b,a)})},symbols:{arc:function(a,b,c,d,e){var f=e.start,g=e.end,h=e.r||c||d,c=e.innerR,d=sb(f),i=tb(f),j=sb(g),k=tb(g);return g-f===0?["x"]:(f=["wa",a-h,b-h,a+h,b+h,a+h*d,b+h*i,a+h*j,b+h*k],e.open&&!c&&f.push("e","M",a,b),f.push("at",a-c,b-c,a+c,b+c,a+c*j,b+c*k,a+c*d,b+c*i,"x","e"),f.isArc=!0,f)},circle:function(a,b,c,d,e){return e&&(c=d=2*e.r),e&&e.isCircle&&(a-=c/2,b-=d/2),["wa",a,b,a+c,b+d,a+c,b+d/2,a+c,b+d/2,"e"]},rect:function(a,b,c,d,e){return kc.prototype.symbols[l(e)&&e.r?"callout":"square"].call(0,a,b,c,d,e)}}},Rb.VMLRenderer=lc=function(){this.init.apply(this,arguments)},lc.prototype=b(kc.prototype,mc),Q=lc),kc.prototype.measureSpanWidth=function(a,b){var c,d=jb.createElement("span");return c=jb.createTextNode(a),d.appendChild(c),p(d,b),this.box.appendChild(d),c=d.offsetWidth,D(d),c};var nc;Gb&&(Rb.CanVGRenderer=mc=function(){Db="http://www.w3.org/1999/xhtml"},mc.prototype.symbols={},nc=function(){function a(){var a,c=b.length;for(a=0;c>a;a++)b[a]();b=[]}var b=[];return{push:function(c,d){0===b.length&&Vb(d,a),b.push(c)}}}(),Q=mc),J.prototype={addLabel:function(){var b,c=this.axis,d=c.options,e=c.chart,f=c.horiz,g=c.categories,i=c.names,k=this.pos,m=d.labels,n=c.tickPositions,f=f&&g&&!m.step&&!m.staggerLines&&!m.rotation&&e.plotWidth/n.length||!f&&(e.margin[3]||.33*e.chartWidth),p=k===n[0],q=k===n[n.length-1],i=g?o(g[k],i[k],k):k,g=this.label,r=n.info;c.isDatetimeAxis&&r&&(b=d.dateTimeLabelFormats[r.higherRanks[k]||r.unitName]),this.isFirst=p,this.isLast=q,d=c.labelFormatter.call({axis:c,chart:e,isFirst:p,isLast:q,dateTimeLabelFormat:b,value:c.isLog?F(j(i)):i}),k=f&&{width:pb(1,mb(f-2*(m.padding||10)))+"px"},k=a(k,m.style),l(g)?g&&g.attr({text:d}).css(k):(b={align:c.labelAlign},h(m.rotation)&&(b.rotation=m.rotation),f&&m.ellipsis&&(b._clipHeight=c.len/n.length),this.label=l(d)&&m.enabled?e.renderer.text(d,0,0,m.useHTML).attr(b).css(k).add(c.labelGroup):null)},getLabelSize:function(){var a=this.label,b=this.axis;return a?a.getBBox()[b.horiz?"height":"width"]:0},getLabelSides:function(){var a=this.label.getBBox(),b=this.axis,c=b.horiz,d=b.options.labels,a=c?a.width:a.height,b=c?d.x-a*{left:0,center:.5,right:1}[b.labelAlign]:0;return[b,c?a+b:a]},handleOverflow:function(a,b){var c,d,e,f=!0,g=this.axis,h=this.isFirst,i=this.isLast,j=g.horiz?b.x:b.y,k=g.reversed,l=g.tickPositions,m=this.getLabelSides(),n=m[0],m=m[1],o=this.label.line||0;if(c=g.labelEdge,d=g.justifyLabels&&(h||i),c[o]===P||j+n>c[o]?c[o]=j+m:d||(f=!1),d){c=(d=g.justifyToPlot)?g.pos:0,d=d?c+g.len:g.chart.chartWidth;do a+=h?1:-1,e=g.ticks[l[a]];while(l[a]&&(!e||e.label.line!==o));g=e&&e.label.xy&&e.label.xy.x+e.getLabelSides()[h?0:1],h&&!k||i&&k?c>j+n&&(j=c-n,e&&j+m>g&&(f=!1)):j+m>d&&(j=d-m,e&&g>j+n&&(f=!1)),b.x=j}return f},getPosition:function(a,b,c,d){var e=this.axis,f=e.chart,g=d&&f.oldChartHeight||f.chartHeight;return{x:a?e.translate(b+c,null,null,d)+e.transB:e.left+e.offset+(e.opposite?(d&&f.oldChartWidth||f.chartWidth)-e.right-e.left:0),y:a?g-e.bottom+e.offset-(e.opposite?e.height:0):g-e.translate(b+c,null,null,d)-e.transB}},getLabelPosition:function(a,b,c,d,e,f,g,h){var i=this.axis,j=i.transA,k=i.reversed,m=i.staggerLines,n=i.chart.renderer.fontMetrics(e.style.fontSize).b,o=e.rotation,a=a+e.x-(f&&d?f*j*(k?-1:1):0),b=b+e.y-(f&&!d?f*j*(k?1:-1):0);return o&&2===i.side&&(b-=n-n*sb(o*vb)),!l(e.y)&&!o&&(b+=n-c.getBBox().height/2),m&&(c.line=g/(h||1)%m,b+=c.line*(i.labelOffset/m)),{x:a,y:b}},getMarkPath:function(a,b,c,d,e,f){return f.crispLine(["M",a,b,"L",a+(e?0:-c),b+(e?c:0)],d)},render:function(a,b,c){var d=this.axis,e=d.options,f=d.chart.renderer,g=d.horiz,h=this.type,i=this.label,j=this.pos,k=e.labels,l=this.gridLine,m=h?h+"Grid":"grid",n=h?h+"Tick":"tick",p=e[m+"LineWidth"],q=e[m+"LineColor"],r=e[m+"LineDashStyle"],s=e[n+"Length"],m=e[n+"Width"]||0,t=e[n+"Color"],u=e[n+"Position"],n=this.mark,v=k.step,w=!0,x=d.tickmarkOffset,y=this.getPosition(g,j,x,b),z=y.x,y=y.y,A=g&&z===d.pos+d.len||!g&&y===d.pos?-1:1;this.isActive=!0,p&&(j=d.getPlotLinePath(j+x,p*A,b,!0),l===P&&(l={stroke:q,"stroke-width":p},r&&(l.dashstyle=r),h||(l.zIndex=1),b&&(l.opacity=0),this.gridLine=l=p?f.path(j).attr(l).add(d.gridGroup):null),!b&&l&&j&&l[this.isNew?"attr":"animate"]({d:j,opacity:c})),m&&s&&("inside"===u&&(s=-s),d.opposite&&(s=-s),h=this.getMarkPath(z,y,s,m*A,g,f),n?n.animate({d:h,opacity:c}):this.mark=f.path(h).attr({stroke:t,"stroke-width":m,opacity:c}).add(d.axisGroup)),i&&!isNaN(z)&&(i.xy=y=this.getLabelPosition(z,y,i,g,k,x,a,v),this.isFirst&&!this.isLast&&!o(e.showFirstLabel,1)||this.isLast&&!this.isFirst&&!o(e.showLastLabel,1)?w=!1:!d.isRadial&&!k.step&&!k.rotation&&!b&&0!==c&&(w=this.handleOverflow(a,y)),v&&a%v&&(w=!1),w&&!isNaN(y.y)?(y.opacity=c,i[this.isNew?"attr":"animate"](y),this.isNew=!1):i.attr("y",-9999))},destroy:function(){C(this,this.axis)}},Rb.PlotLineOrBand=function(a,b){this.axis=a,b&&(this.options=b,this.id=b.id)},Rb.PlotLineOrBand.prototype={render:function(){var a,c=this,d=c.axis,e=d.horiz,f=(d.pointRange||0)/2,g=c.options,h=g.label,j=c.label,k=g.width,m=g.to,n=g.from,p=l(n)&&l(m),q=g.value,r=g.dashStyle,s=c.svgElem,t=[],u=g.color,v=g.zIndex,w=g.events,x={},y=d.chart.renderer;if(d.isLog&&(n=i(n),m=i(m),q=i(q)),k)t=d.getPlotLinePath(q,k),x={stroke:u,"stroke-width":k},r&&(x.dashstyle=r);else{if(!p)return;n=pb(n,d.min-f),m=qb(m,d.max+f),t=d.getPlotBandPath(n,m,g),u&&(x.fill=u),g.borderWidth&&(x.stroke=g.borderColor,x["stroke-width"]=g.borderWidth)}if(l(v)&&(x.zIndex=v),s)t?s.animate({d:t},null,s.onGetPath):(s.hide(),s.onGetPath=function(){s.show()},j&&(c.label=j=j.destroy()));else if(t&&t.length&&(c.svgElem=s=y.path(t).attr(x).add(),w))for(a in f=function(a){s.on(a,function(b){w[a].apply(c,[b])})},w)f(a);return h&&l(h.text)&&t&&t.length&&d.width>0&&d.height>0?(h=b({align:e&&p&&"center",x:e?!p&&4:10,verticalAlign:!e&&p&&"middle",y:e?p?16:10:p?6:-4,rotation:e&&!p&&90},h),j||(x={align:h.textAlign||h.align,rotation:h.rotation},l(v)&&(x.zIndex=v),c.label=j=y.text(h.text,0,0,h.useHTML).attr(x).css(h.style).add()),d=[t[1],t[4],o(t[6],t[1])],t=[t[2],t[5],o(t[7],t[2])],e=A(d),p=A(t),j.align(h,!1,{x:e,y:p,width:B(d)-e,height:B(t)-p}),j.show()):j&&j.hide(),c},destroy:function(){k(this.axis.plotLinesAndBands,this),delete this.axis,C(this)}},K.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Tb,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return s(this.total,-1)},style:Tb.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:20},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(a,b){var c=b.isX;this.horiz=a.inverted?!c:c,this.coll=(this.isXAxis=c)?"xAxis":"yAxis",this.opposite=b.opposite,this.side=b.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(b);var d=this.options,e=d.type;this.labelFormatter=d.labels.formatter||this.defaultLabelFormatter,this.userOptions=b,this.minPixelPadding=0,this.chart=a,this.reversed=d.reversed,this.zoomEnabled=d.zoomEnabled!==!1,this.categories=d.categories||"category"===e,this.names=[],this.isLog="logarithmic"===e,this.isDatetimeAxis="datetime"===e,this.isLinked=l(d.linkedTo),this.tickmarkOffset=this.categories&&"between"===d.tickmarkPlacement?.5:0,this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=d.minRange||d.maxZoom,this.range=d.range,this.offset=d.offset||0,this.stacks={},this.oldStacks={},this.min=this.max=null,this.crosshair=o(d.crosshair,n(a.options.tooltip.crosshairs)[c?0:1],!1);var f,d=this.options.events;-1===Wb(this,a.axes)&&(c&&!this.isColorAxis?a.axes.splice(a.xAxis.length,0,this):a.axes.push(this),a[this.coll].push(this)),this.series=this.series||[],a.inverted&&c&&this.reversed===P&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(f in d)_b(this,f,d[f]);this.isLog&&(this.val2lin=i,this.lin2val=j)},setOptions:function(a){this.options=b(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],b(T[this.coll],a))},defaultLabelFormatter:function(){var a,b=this.axis,c=this.value,d=b.categories,e=this.dateTimeLabelFormat,f=T.lang.numericSymbols,g=f&&f.length,h=b.options.labels.format,b=b.isLog?c:b.tickInterval;if(h)a=v(h,this);else if(d)a=c;else if(e)a=U(e,c);else if(g&&b>=1e3)for(;g--&&a===P;)d=Math.pow(1e3,g+1),b>=d&&null!==f[g]&&(a=s(c/d,-1)+f[g]);return a===P&&(a=rb(c)>=1e4?s(c,0):s(c,-1,P,"")),a},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1,a.dataMin=a.dataMax=null,a.buildStacks&&a.buildStacks(),Xb(a.series,function(c){if(c.visible||!b.options.chart.ignoreHiddenSeries){var d;d=c.options.threshold;var e;a.hasVisibleSeries=!0,a.isLog&&0>=d&&(d=null),a.isXAxis?(d=c.xData,d.length&&(a.dataMin=qb(o(a.dataMin,d[0]),A(d)),a.dataMax=pb(o(a.dataMax,d[0]),B(d)))):(c.getExtremes(),e=c.dataMax,c=c.dataMin,l(c)&&l(e)&&(a.dataMin=qb(o(a.dataMin,c),c),a.dataMax=pb(o(a.dataMax,e),e)),l(d)&&(a.dataMin>=d?(a.dataMin=d,a.ignoreMinPadding=!0):a.dataMax<d&&(a.dataMax=d,a.ignoreMaxPadding=!0)))}})},translate:function(a,b,c,d,e,f){var g=1,i=0,j=d?this.oldTransA:this.transA,d=d?this.oldMin:this.min,k=this.minPixelPadding,e=(this.options.ordinal||this.isLog&&e)&&this.lin2val;return j||(j=this.transA),c&&(g*=-1,i=this.len),this.reversed&&(g*=-1,i-=g*(this.sector||this.len)),b?(a=a*g+i,a-=k,a=a/j+d,e&&(a=this.lin2val(a))):(e&&(a=this.val2lin(a)),"between"===f&&(f=.5),a=g*(a-d)*j+i+g*k+(h(f)?j*f*this.pointRange:0)),a},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,b,c,d,e){var f,g,h,i=this.chart,j=this.left,k=this.top,l=c&&i.oldChartHeight||i.chartHeight,m=c&&i.oldChartWidth||i.chartWidth;return f=this.transB,e=o(e,this.translate(a,null,null,c)),a=c=mb(e+f),f=g=mb(l-e-f),isNaN(e)?h=!0:this.horiz?(f=k,g=l-this.bottom,(j>a||a>j+this.width)&&(h=!0)):(a=j,c=m-this.right,(k>f||f>k+this.height)&&(h=!0)),h&&!d?null:i.renderer.crispLine(["M",a,f,"L",c,g],b||1)},getLinearTickPositions:function(a,b,c){var d,e=F(nb(b/a)*a),f=F(ob(c/a)*a),g=[];if(b===c&&h(b))return[b];for(b=e;f>=b&&(g.push(b),b=F(b+a),b!==d);)d=b;return g},getMinorTickPositions:function(){var a,b=this.options,c=this.tickPositions,d=this.minorTickInterval,e=[];if(this.isLog)for(a=c.length,b=1;a>b;b++)e=e.concat(this.getLogTickPositions(d,c[b-1],c[b],!0));else if(this.isDatetimeAxis&&"auto"===b.minorTickInterval)e=e.concat(this.getTimeTicks(this.normalizeTimeTickInterval(d),this.min,this.max,b.startOfWeek)),e[0]<this.min&&e.shift();else for(c=this.min+(c[0]-this.min)%d;c<=this.max;c+=d)e.push(c);return e},adjustForMinRange:function(){var a,b,c,d,e,f,g=this.options,h=this.min,i=this.max,j=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===P&&!this.isLog&&(l(g.min)||l(g.max)?this.minRange=null:(Xb(this.series,function(a){for(e=a.xData,c=f=a.xIncrement?1:e.length-1;c>0;c--)d=e[c]-e[c-1],(b===P||b>d)&&(b=d)}),this.minRange=qb(5*b,this.dataMax-this.dataMin))),i-h<this.minRange){var k=this.minRange;a=(k-i+h)/2,a=[h-a,o(g.min,h-a)],j&&(a[2]=this.dataMin),h=B(a),i=[h+k,o(g.max,h+k)],j&&(i[2]=this.dataMax),i=A(i),k>i-h&&(a[0]=i-k,a[1]=o(g.min,i-k),h=B(a))}this.min=h,this.max=i},setAxisTranslation:function(a){var b,c=this,d=c.max-c.min,f=c.axisPointRange||0,g=0,h=0,i=c.linkedParent,j=!!c.categories,k=c.transA;(c.isXAxis||j||f)&&(i?(g=i.minPointOffset,h=i.pointRangePadding):Xb(c.series,function(a){var i=j?1:c.isXAxis?a.pointRange:c.axisPointRange||0,k=a.options.pointPlacement,m=a.closestPointRange;i>d&&(i=0),f=pb(f,i),g=pb(g,e(k)?0:i/2),h=pb(h,"on"===k?0:i),!a.noSharedTooltip&&l(m)&&(b=l(b)?qb(b,m):m)}),i=c.ordinalSlope&&b?c.ordinalSlope/b:1,c.minPointOffset=g*=i,c.pointRangePadding=h*=i,c.pointRange=qb(f,d),c.closestPointRange=b),a&&(c.oldTransA=k),c.translationSlope=c.transA=k=c.len/(d+h||1),c.transB=c.horiz?c.left:c.bottom,c.minPixelPadding=k*g},setTickPositions:function(a){var b,c=this,d=c.chart,e=c.options,f=c.isLog,g=c.isDatetimeAxis,j=c.isXAxis,k=c.isLinked,m=c.options.tickPositioner,n=e.maxPadding,p=e.minPadding,q=e.tickInterval,r=e.minTickInterval,s=e.tickPixelInterval,t=c.categories;k?(c.linkedParent=d[c.coll][e.linkedTo],d=c.linkedParent.getExtremes(),c.min=o(d.min,d.dataMin),c.max=o(d.max,d.dataMax),e.type!==c.linkedParent.options.type&&E(11,1)):(c.min=o(c.userMin,e.min,c.dataMin),c.max=o(c.userMax,e.max,c.dataMax)),f&&(!a&&qb(c.min,o(c.dataMin,c.min))<=0&&E(10,1),c.min=F(i(c.min)),c.max=F(i(c.max))),c.range&&l(c.max)&&(c.userMin=c.min=pb(c.min,c.max-c.range),c.userMax=c.max,c.range=null),c.beforePadding&&c.beforePadding(),c.adjustForMinRange(),t||c.axisPointRange||c.usePercentage||k||!l(c.min)||!l(c.max)||!(d=c.max-c.min)||(l(e.min)||l(c.userMin)||!p||!(c.dataMin<0)&&c.ignoreMinPadding||(c.min-=d*p),l(e.max)||l(c.userMax)||!n||!(c.dataMax>0)&&c.ignoreMaxPadding||(c.max+=d*n)),h(e.floor)&&(c.min=pb(c.min,e.floor)),h(e.ceiling)&&(c.max=qb(c.max,e.ceiling)),c.min===c.max||void 0===c.min||void 0===c.max?c.tickInterval=1:k&&!q&&s===c.linkedParent.options.tickPixelInterval?c.tickInterval=c.linkedParent.tickInterval:(c.tickInterval=o(q,t?1:(c.max-c.min)*s/pb(c.len,s)),!l(q)&&c.len<s&&!this.isRadial&&!this.isLog&&!t&&e.startOnTick&&e.endOnTick&&(b=!0,c.tickInterval/=4)),j&&!a&&Xb(c.series,function(a){a.processData(c.min!==c.oldMin||c.max!==c.oldMax)}),c.setAxisTranslation(!0),c.beforeSetTickPositions&&c.beforeSetTickPositions(),c.postProcessTickInterval&&(c.tickInterval=c.postProcessTickInterval(c.tickInterval)),c.pointRange&&(c.tickInterval=pb(c.pointRange,c.tickInterval)),!q&&c.tickInterval<r&&(c.tickInterval=r),g||f||q||(c.tickInterval=x(c.tickInterval,null,w(c.tickInterval),e)),c.minorTickInterval="auto"===e.minorTickInterval&&c.tickInterval?c.tickInterval/5:e.minorTickInterval,c.tickPositions=a=e.tickPositions?[].concat(e.tickPositions):m&&m.apply(c,[c.min,c.max]),a||(!c.ordinalPositions&&(c.max-c.min)/c.tickInterval>pb(2*c.len,200)&&E(19,!0),a=g?c.getTimeTicks(c.normalizeTimeTickInterval(c.tickInterval,e.units),c.min,c.max,e.startOfWeek,c.ordinalPositions,c.closestPointRange,!0):f?c.getLogTickPositions(c.tickInterval,c.min,c.max):c.getLinearTickPositions(c.tickInterval,c.min,c.max),b&&a.splice(1,a.length-2),c.tickPositions=a),k||(f=a[0],g=a[a.length-1],k=c.minPointOffset||0,e.startOnTick?c.min=f:c.min-k>f&&a.shift(),e.endOnTick?c.max=g:c.max+k<g&&a.pop(),1===a.length&&(e=rb(c.max)>1e13?1:.001,c.min-=e,c.max+=e))},setMaxTicks:function(){var a=this.chart,b=a.maxTicks||{},c=this.tickPositions,d=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&c&&c.length>(b[d]||0)&&this.options.alignTicks!==!1&&(b[d]=c.length),a.maxTicks=b},adjustTickAmount:function(){var a=this._maxTicksKey,b=this.tickPositions,c=this.chart.maxTicks;if(c&&c[a]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1&&this.min!==P){var d=this.tickAmount,e=b.length;if(this.tickAmount=a=c[a],a>e){for(;b.length<a;)b.push(F(b[b.length-1]+this.tickInterval));this.transA*=(e-1)/(a-1),this.max=b[b.length-1]}l(d)&&a!==d&&(this.isDirty=!0)}},setScale:function(){var a,b,c,d,e=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),d=this.len!==this.oldAxisLength,Xb(this.series,function(a){(a.isDirtyData||a.isDirty||a.xAxis.isDirty)&&(c=!0)}),d||c||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(a in e)for(b in e[a])e[a][b].total=null,e[a][b].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=d||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(a in e)for(b in e[a])e[a][b].cum=e[a][b].total}this.setMaxTicks()},setExtremes:function(b,c,d,e,f){var g=this,h=g.chart,d=o(d,!0),f=a(f,{min:b,max:c});bc(g,"setExtremes",f,function(){g.userMin=b,g.userMax=c,g.eventArgs=f,g.isDirtyExtremes=!0,d&&h.redraw(e)})},zoom:function(a,b){var c=this.dataMin,d=this.dataMax,e=this.options;return this.allowZoomOutside||(l(c)&&a<=qb(c,o(e.min,c))&&(a=P),l(d)&&b>=pb(d,o(e.max,d))&&(b=P)),this.displayBtn=a!==P||b!==P,this.setExtremes(a,b,!1,P,{trigger:"zoom"}),!0},setAxisSize:function(){var a=this.chart,b=this.options,c=b.offsetLeft||0,d=this.horiz,e=o(b.width,a.plotWidth-c+(b.offsetRight||0)),f=o(b.height,a.plotHeight),g=o(b.top,a.plotTop),b=o(b.left,a.plotLeft+c),c=/%$/;c.test(f)&&(f=parseInt(f,10)/100*a.plotHeight),c.test(g)&&(g=parseInt(g,10)/100*a.plotHeight+a.plotTop),this.left=b,this.top=g,this.width=e,this.height=f,this.bottom=a.chartHeight-f-g,this.right=a.chartWidth-e-b,this.len=pb(d?e:f,0),this.pos=d?b:g},getExtremes:function(){var a=this.isLog;return{min:a?F(j(this.min)):this.min,max:a?F(j(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var b=this.isLog,c=b?j(this.min):this.min,b=b?j(this.max):this.max;return c>a||null===a?a=c:a>b&&(a=b),this.translate(a,0,1,0,1)},autoLabelAlign:function(a){return a=(o(a,0)-90*this.side+720)%360,a>15&&165>a?"right":a>195&&345>a?"left":"center"},getOffset:function(){var a,b,c,d,e,f,g,h=this,i=h.chart,j=i.renderer,k=h.options,m=h.tickPositions,n=h.ticks,p=h.horiz,q=h.side,r=i.inverted?[1,0,3,2][q]:q,s=0,t=0,u=k.title,v=k.labels,w=0,x=i.axisOffset,y=i.clipOffset,z=[-1,1,1,-1][q],A=1,B=o(v.maxStaggerLines,5),C=2===q?j.fontMetrics(v.style.fontSize).b:0;if(h.hasData=a=h.hasVisibleSeries||l(h.min)&&l(h.max)&&!!m,h.showAxis=i=a||o(k.showEmpty,!0),h.staggerLines=h.horiz&&v.staggerLines,h.axisGroup||(h.gridGroup=j.g("grid").attr({zIndex:k.gridZIndex||1}).add(),h.axisGroup=j.g("axis").attr({zIndex:k.zIndex||2}).add(),h.labelGroup=j.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+h.coll.toLowerCase()+"-labels").add()),a||h.isLinked){if(h.labelAlign=o(v.align||h.autoLabelAlign(v.rotation)),Xb(m,function(a){n[a]?n[a].addLabel():n[a]=new J(h,a)}),h.horiz&&!h.staggerLines&&B&&!v.rotation){for(c=h.reversed?[].concat(m).reverse():m;B>A;){for(a=[],d=!1,v=0;v<c.length;v++)e=c[v],f=(f=n[e].label&&n[e].label.getBBox())?f.width:0,g=v%A,f&&(e=h.translate(e),a[g]!==P&&e<a[g]&&(d=!0),a[g]=e+f);if(!d)break;A++}A>1&&(h.staggerLines=A)}Xb(m,function(a){(0===q||2===q||{1:"left",3:"right"}[q]===h.labelAlign)&&(w=pb(n[a].getLabelSize(),w))}),h.staggerLines&&(w*=h.staggerLines,h.labelOffset=w)}else for(c in n)n[c].destroy(),delete n[c];u&&u.text&&u.enabled!==!1&&(h.axisTitle||(h.axisTitle=j.text(u.text,0,0,u.useHTML).attr({zIndex:7,rotation:u.rotation||0,align:u.textAlign||{low:"left",middle:"center",high:"right"}[u.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(u.style).add(h.axisGroup),h.axisTitle.isNew=!0),i&&(s=h.axisTitle.getBBox()[p?"height":"width"],t=o(u.margin,p?5:10),b=u.offset),h.axisTitle[i?"show":"hide"]()),h.offset=z*o(k.offset,x[q]),h.axisTitleMargin=o(b,w+t+(w&&z*k.labels[p?"y":"x"]-C)),x[q]=pb(x[q],h.axisTitleMargin+s+z*h.offset),y[r]=pb(y[r],2*nb(k.lineWidth/2))},getLinePath:function(a){var b=this.chart,c=this.opposite,d=this.offset,e=this.horiz,f=this.left+(c?this.width:0)+d,d=b.chartHeight-this.bottom-(c?this.height:0)+d;return c&&(a*=-1),b.renderer.crispLine(["M",e?this.left:f,e?d:this.top,"L",e?b.chartWidth-this.right:f,e?d:b.chartHeight-this.bottom],a)},getTitlePosition:function(){var a=this.horiz,b=this.left,c=this.top,e=this.len,f=this.options.title,g=a?b:c,h=this.opposite,i=this.offset,j=d(f.style.fontSize||12),e={low:g+(a?0:e),middle:g+e/2,high:g+(a?e:0)}[f.align],b=(a?c+this.height:b)+(a?1:-1)*(h?-1:1)*this.axisTitleMargin+(2===this.side?j:0);return{x:a?e:b+(h?this.width:0)+i+(f.x||0),y:a?b-(h?this.height:0)+i:e+(f.y||0)}},render:function(){var a,b,c,d=this,e=d.horiz,f=d.reversed,g=d.chart,h=g.renderer,i=d.options,k=d.isLog,m=d.isLinked,n=d.tickPositions,o=d.axisTitle,p=d.ticks,q=d.minorTicks,r=d.alternateBands,s=i.stackLabels,t=i.alternateGridColor,u=d.tickmarkOffset,v=i.lineWidth,w=g.hasRendered&&l(d.oldMin)&&!isNaN(d.oldMin),x=d.hasData,y=d.showAxis,z=i.labels.overflow,A=d.justifyLabels=e&&z!==!1;d.labelEdge.length=0,d.justifyToPlot="justify"===z,Xb([p,q,r],function(a){for(var b in a)a[b].isActive=!1}),(x||m)&&(d.minorTickInterval&&!d.categories&&Xb(d.getMinorTickPositions(),function(a){q[a]||(q[a]=new J(d,a,"minor")),w&&q[a].isNew&&q[a].render(null,!0),q[a].render(null,!1,1)}),n.length&&(a=n.slice(),(e&&f||!e&&!f)&&a.reverse(),A&&(a=a.slice(1).concat([a[0]])),Xb(a,function(b,c){A&&(c=c===a.length-1?0:c+1),(!m||b>=d.min&&b<=d.max)&&(p[b]||(p[b]=new J(d,b)),w&&p[b].isNew&&p[b].render(c,!0,.1),p[b].render(c,!1,1))}),u&&0===d.min&&(p[-1]||(p[-1]=new J(d,-1,null,!0)),p[-1].render(-1))),t&&Xb(n,function(a,e){e%2===0&&a<d.max&&(r[a]||(r[a]=new Rb.PlotLineOrBand(d)),b=a+u,c=n[e+1]!==P?n[e+1]+u:d.max,r[a].options={from:k?j(b):b,to:k?j(c):c,color:t},r[a].render(),r[a].isActive=!0)}),d._addedPlotLB||(Xb((i.plotLines||[]).concat(i.plotBands||[]),function(a){d.addPlotBandOrLine(a)}),d._addedPlotLB=!0)),Xb([p,q,r],function(a){var b,c,d=[],e=V?V.duration||500:0,f=function(){for(c=d.length;c--;)a[d[c]]&&!a[d[c]].isActive&&(a[d[c]].destroy(),delete a[d[c]])};for(b in a)a[b].isActive||(a[b].render(b,!1,0),a[b].isActive=!1,d.push(b));a!==r&&g.hasRendered&&e?e&&setTimeout(f,e):f()}),v&&(e=d.getLinePath(v),d.axisLine?d.axisLine.animate({d:e}):d.axisLine=h.path(e).attr({stroke:i.lineColor,"stroke-width":v,zIndex:7}).add(d.axisGroup),d.axisLine[y?"show":"hide"]()),o&&y&&(o[o.isNew?"attr":"animate"](d.getTitlePosition()),o.isNew=!1),s&&s.enabled&&d.renderStackTotals(),d.isDirty=!1},redraw:function(){var a=this.chart.pointer;a&&a.reset(!0),this.render(),Xb(this.plotLinesAndBands,function(a){a.render()}),Xb(this.series,function(a){a.isDirty=!0})},destroy:function(a){var b,c=this,d=c.stacks,e=c.plotLinesAndBands;a||ac(c);for(b in d)C(d[b]),d[b]=null;for(Xb([c.ticks,c.minorTicks,c.alternateBands],function(a){C(a)}),a=e.length;a--;)e[a].destroy();Xb("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(a){c[a]&&(c[a]=c[a].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(a,b){if(this.crosshair)if((l(b)||!o(this.crosshair.snap,!0))===!1)this.hideCrosshair();else{var c,d=this.crosshair,e=d.animation;o(d.snap,!0)?l(b)&&(c=this.chart.inverted!=this.horiz?b.plotX:this.len-b.plotY):c=this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos,c=this.isRadial?this.getPlotLinePath(this.isXAxis?b.x:o(b.stackY,b.y)):this.getPlotLinePath(null,null,null,null,c),null===c?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[e?"animate":"attr"]({d:c},e):(e={"stroke-width":d.width||1,stroke:d.color||"#C0C0C0",zIndex:d.zIndex||2},d.dashStyle&&(e.dashstyle=d.dashStyle),this.cross=this.chart.renderer.path(c).attr(e).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},a(K.prototype,{getPlotBandPath:function(a,b){var c=this.getPlotLinePath(b),d=this.getPlotLinePath(a);return d&&c?d.push(c[4],c[5],c[1],c[2]):d=null,d},addPlotBand:function(a){this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(a,b){var c=new Rb.PlotLineOrBand(this,a).render(),d=this.userOptions;return c&&(b&&(d[b]=d[b]||[],d[b].push(a)),this.plotLinesAndBands.push(c)),c},removePlotBandOrLine:function(a){for(var b=this.plotLinesAndBands,c=this.options,d=this.userOptions,e=b.length;e--;)b[e].id===a&&b[e].destroy();Xb([c.plotLines||[],d.plotLines||[],c.plotBands||[],d.plotBands||[]],function(b){for(e=b.length;e--;)b[e].id===a&&k(b,b[e])})}}),K.prototype.getTimeTicks=function(b,c,d,e){var f,g=[],h={},i=T.global.useUTC,j=new Date(c-Z),k=b.unitRange,m=b.count;if(l(c)){k>=X.second&&(j.setMilliseconds(0),j.setSeconds(k>=X.minute?0:m*nb(j.getSeconds()/m))),k>=X.minute&&j[eb](k>=X.hour?0:m*nb(j[$]()/m)),k>=X.hour&&j[fb](k>=X.day?0:m*nb(j[_]()/m)),k>=X.day&&j[gb](k>=X.month?1:m*nb(j[bb]()/m)),k>=X.month&&(j[hb](k>=X.year?0:m*nb(j[cb]()/m)),f=j[db]()),k>=X.year&&(f-=f%m,j[ib](f)),k===X.week&&j[gb](j[bb]()-j[ab]()+o(e,1)),c=1,Z&&(j=new Date(j.getTime()+Z)),f=j[db]();for(var e=j.getTime(),n=j[cb](),p=j[bb](),q=i?Z:(864e5+6e4*j.getTimezoneOffset())%864e5;d>e;)g.push(e),k===X.year?e=Y(f+c*m,0):k===X.month?e=Y(f,n+c*m):i||k!==X.day&&k!==X.week?e+=k*m:e=Y(f,n,p+c*m*(k===X.day?1:7)),c++;g.push(e),Xb(Yb(g,function(a){return k<=X.hour&&a%X.day===q}),function(a){h[a]="day"})}return g.info=a(b,{higherRanks:h,totalRange:k*m}),g},K.prototype.normalizeTimeTickInterval=function(a,b){var c,d=b||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],e=d[d.length-1],f=X[e[0]],g=e[1];for(c=0;c<d.length&&(e=d[c],f=X[e[0]],g=e[1],!(d[c+1]&&a<=(f*g[g.length-1]+X[d[c+1][0]])/2));c++);return f===X.year&&5*f>a&&(g=[1,2,5]),d=x(a/f,g,"year"===e[0]?pb(w(a/f),1):1),{unitRange:f,count:d,unitName:e[0]}},K.prototype.getLogTickPositions=function(a,b,c,d){var e=this.options,f=this.len,g=[];if(d||(this._minorAutoInterval=null),a>=.5)a=mb(a),g=this.getLinearTickPositions(a,b,c);else if(a>=.08)for(var h,k,l,m,n,f=nb(b),e=a>.3?[1,2,4]:a>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c+1>f&&!n;f++)for(k=e.length,h=0;k>h&&!n;h++)l=i(j(f)*e[h]),l>b&&(!d||c>=m)&&g.push(m),m>c&&(n=!0),m=l;else b=j(b),c=j(c),a=e[d?"minorTickInterval":"tickInterval"],a=o("auto"===a?null:a,this._minorAutoInterval,(c-b)*(e.tickPixelInterval/(d?5:1))/((d?f/this.tickPositions.length:f)||1)),a=x(a,null,w(a)),g=$b(this.getLinearTickPositions(a,b,c),i),d||(this._minorAutoInterval=a/5);return d||(this.tickInterval=a),g};var oc=Rb.Tooltip=function(){this.init.apply(this,arguments)
};oc.prototype={init:function(a,b){var c=b.borderWidth,e=b.style,f=d(e.padding);this.chart=a,this.options=b,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=a.renderer.label("",0,0,b.shape||"callout",null,null,b.useHTML,null,"tooltip").attr({padding:f,fill:b.backgroundColor,"stroke-width":c,r:b.borderRadius,zIndex:8}).css(e).css({padding:0}).add().attr({y:-9999}),Gb||this.label.shadow(b.shadow),this.shared=b.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(b,c,d,e){var f=this,g=f.now,h=f.options.animation!==!1&&!f.isHidden,i=f.followPointer||f.len>1;a(g,{x:h?(2*g.x+b)/3:b,y:h?(g.y+c)/2:c,anchorX:i?P:h?(2*g.anchorX+d)/3:d,anchorY:i?P:h?(g.anchorY+e)/2:e}),f.label.attr(g),h&&(rb(b-g.x)>1||rb(c-g.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){f&&f.move(b,c,d,e)},32))},hide:function(){var a,b=this;clearTimeout(this.hideTimer),this.isHidden||(a=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){b.label.fadeOut(),b.isHidden=!0},o(this.options.hideDelay,500)),a&&Xb(a,function(a){a.setState()}),this.chart.hoverPoints=null)},getAnchor:function(a,b){var c,d,e=this.chart,f=e.inverted,g=e.plotTop,h=0,i=0,a=n(a);return c=a[0].tooltipPos,this.followPointer&&b&&(b.chartX===P&&(b=e.pointer.normalize(b)),c=[b.chartX-e.plotLeft,b.chartY-g]),c||(Xb(a,function(a){d=a.series.yAxis,h+=a.plotX,i+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!f&&d?d.top-g:0)}),h/=a.length,i/=a.length,c=[f?e.plotWidth-i:h,this.shared&&!f&&a.length>1&&b?b.chartY-g:f?e.plotHeight-h:i]),$b(c,mb)},getPosition:function(a,b,c){var d,e=this.chart,f=this.distance,g={},h=["y",e.chartHeight,b,c.plotY+e.plotTop],i=["x",e.chartWidth,a,c.plotX+e.plotLeft],j=c.ttBelow||e.inverted&&!c.negative||!e.inverted&&c.negative,k=function(a,b,c,d){var e=d-f>c,b=b>d+f+c,c=d-f-c;if(d+=f,j&&b)g[a]=d;else if(!j&&e)g[a]=c;else if(e)g[a]=c;else{if(!b)return!1;g[a]=d}},l=function(a,b,c,d){return f>d||d>b-f?!1:void(g[a]=c/2>d?1:d>b-c/2?b-c-2:d-c/2)},m=function(a){var b=h;h=i,i=b,d=a},n=function(){k.apply(0,h)!==!1?l.apply(0,i)===!1&&!d&&(m(!0),n()):d?g.x=g.y=0:(m(!0),n())};return(e.inverted||this.len>1)&&m(),n(),g},defaultFormatter:function(a){var b,c=this.points||n(this),d=c[0].series;return b=[a.tooltipHeaderFormatter(c[0])],Xb(c,function(a){d=a.series,b.push(d.tooltipFormatter&&d.tooltipFormatter(a)||a.point.tooltipFormatter(d.tooltipOptions.pointFormat))}),b.push(a.options.footerFormat||""),b.join("")},refresh:function(a,b){var c,d,e,f=this.chart,g=this.label,h=this.options,i={},j=[];e=h.formatter||this.defaultFormatter;var k,i=f.hoverPoints,l=this.shared;clearTimeout(this.hideTimer),this.followPointer=n(a)[0].series.tooltipOptions.followPointer,d=this.getAnchor(a,b),c=d[0],d=d[1],!l||a.series&&a.series.noSharedTooltip?i=a.getLabelConfig():(f.hoverPoints=a,i&&Xb(i,function(a){a.setState()}),Xb(a,function(a){a.setState("hover"),j.push(a.getLabelConfig())}),i={x:a[0].category,y:a[0].y},i.points=j,this.len=j.length,a=a[0]),e=e.call(i,this),i=a.series,this.distance=o(i.tooltipOptions.distance,16),e===!1?this.hide():(this.isHidden&&(ec(g),g.attr("opacity",1).show()),g.attr({text:e}),k=h.borderColor||a.color||i.color||"#606060",g.attr({stroke:k}),this.updatePosition({plotX:c,plotY:d,negative:a.negative,ttBelow:a.ttBelow}),this.isHidden=!1),bc(f,"tooltipRefresh",{text:e,x:c+f.plotLeft,y:d+f.plotTop,borderColor:k})},updatePosition:function(a){var b=this.chart,c=this.label,c=(this.options.positioner||this.getPosition).call(this,c.width,c.height,a);this.move(mb(c.x),mb(c.y),a.plotX+b.plotLeft,a.plotY+b.plotTop)},tooltipHeaderFormatter:function(a){var b,c=a.series,d=c.tooltipOptions,e=d.dateTimeLabelFormats,f=d.xDateFormat,g=c.xAxis,i=g&&"datetime"===g.options.type&&h(a.key),d=d.headerFormat,g=g&&g.closestPointRange;if(i&&!f){if(g){for(b in X)if(X[b]>=g||X[b]<=X.day&&a.key%X[b]>0){f=e[b];break}}else f=e.day;f=f||e.year}return i&&f&&(d=d.replace("{point.key}","{point.key:"+f+"}")),v(d,{point:a,series:c})}};var pc;R=jb.documentElement.ontouchstart!==P;var qc=Rb.Pointer=function(a,b){this.init(a,b)};if(qc.prototype={init:function(a,b){var c,d=b.chart,e=d.events,f=Gb?"":d.zoomType,d=a.inverted;this.options=b,this.chart=a,this.zoomX=c=/x/.test(f),this.zoomY=f=/y/.test(f),this.zoomHor=c&&!d||f&&d,this.zoomVert=f&&!d||c&&d,this.hasZoom=c||f,this.runChartClick=e&&!!e.click,this.pinchDown=[],this.lastValidTouch={},Rb.Tooltip&&b.tooltip.enabled&&(a.tooltip=new oc(a,b.tooltip),this.followTouchMove=b.tooltip.followTouchMove),this.setDOMEvents()},normalize:function(b,c){var d,e,b=b||window.event,b=cc(b);return b.target||(b.target=b.srcElement),e=b.touches?b.touches.length?b.touches.item(0):b.changedTouches[0]:b,c||(this.chartPosition=c=Zb(this.chart.container)),e.pageX===P?(d=pb(b.x,b.clientX-c.left),e=b.y):(d=e.pageX-c.left,e=e.pageY-c.top),a(b,{chartX:mb(d),chartY:mb(e)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};return Xb(this.chart.axes,function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})}),b},getIndex:function(a){var b=this.chart;return b.inverted?b.plotHeight+b.plotTop-a.chartY:a.chartX-b.plotLeft},runPointActions:function(a){var b,c,d,e,f=this.chart,g=f.series,h=f.tooltip,i=f.hoverPoint,j=f.hoverSeries,k=f.chartWidth,l=this.getIndex(a);if(h&&this.options.tooltip.shared&&(!j||!j.noSharedTooltip)){for(c=[],d=g.length,e=0;d>e;e++)g[e].visible&&g[e].options.enableMouseTracking!==!1&&!g[e].noSharedTooltip&&g[e].singularTooltips!==!0&&g[e].tooltipPoints.length&&(b=g[e].tooltipPoints[l])&&b.series&&(b._dist=rb(l-b.clientX),k=qb(k,b._dist),c.push(b));for(d=c.length;d--;)c[d]._dist>k&&c.splice(d,1);c.length&&c[0].clientX!==this.hoverX&&(h.refresh(c,a),this.hoverX=c[0].clientX)}g=j&&j.tooltipOptions.followPointer,j&&j.tracker&&!g?(b=j.tooltipPoints[l])&&b!==i&&b.onMouseOver(a):h&&g&&!h.isHidden&&(j=h.getAnchor([{}],a),h.updatePosition({plotX:j[0],plotY:j[1]})),h&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(a){Kb[pc]&&Kb[pc].pointer.onDocumentMouseMove(a)},_b(jb,"mousemove",this._onDocumentMouseMove)),Xb(f.axes,function(c){c.drawCrosshair(a,o(b,i))})},reset:function(a){var b=this.chart,c=b.hoverSeries,d=b.hoverPoint,e=b.tooltip,f=e&&e.shared?b.hoverPoints:d;(a=a&&e&&f)&&n(f)[0].plotX===P&&(a=!1),a?(e.refresh(f),d&&d.setState(d.state,!0)):(d&&d.onMouseOut(),c&&c.onMouseOut(),e&&e.hide(),this._onDocumentMouseMove&&(ac(jb,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Xb(b.axes,function(a){a.hideCrosshair()}),this.hoverX=null)},scaleGroups:function(a,b){var c,d=this.chart;Xb(d.series,function(e){c=a||e.getPlotBox(),e.xAxis&&e.xAxis.zoomEnabled&&(e.group.attr(c),e.markerGroup&&(e.markerGroup.attr(c),e.markerGroup.clip(b?d.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(c))}),d.clipRect.attr(b||d.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type,b.cancelClick=!1,b.mouseDownX=this.mouseDownX=a.chartX,b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var b,c=this.chart,d=c.options.chart,e=a.chartX,f=a.chartY,g=this.zoomHor,h=this.zoomVert,i=c.plotLeft,j=c.plotTop,k=c.plotWidth,l=c.plotHeight,m=this.mouseDownX,n=this.mouseDownY;i>e?e=i:e>i+k&&(e=i+k),j>f?f=j:f>j+l&&(f=j+l),this.hasDragged=Math.sqrt(Math.pow(m-e,2)+Math.pow(n-f,2)),this.hasDragged>10&&(b=c.isInsidePlot(m-i,n-j),c.hasCartesianSeries&&(this.zoomX||this.zoomY)&&b&&!this.selectionMarker&&(this.selectionMarker=c.renderer.rect(i,j,g?1:k,h?1:l,0).attr({fill:d.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&g&&(e-=m,this.selectionMarker.attr({width:rb(e),x:(e>0?0:e)+m})),this.selectionMarker&&h&&(e=f-n,this.selectionMarker.attr({height:rb(e),y:(e>0?0:e)+n})),b&&!this.selectionMarker&&d.panning&&c.pan(a,d.panning))},drop:function(b){var c=this.chart,d=this.hasPinched;if(this.selectionMarker){var e,f={xAxis:[],yAxis:[],originalEvent:b.originalEvent||b},b=this.selectionMarker,g=b.attr?b.attr("x"):b.x,h=b.attr?b.attr("y"):b.y,i=b.attr?b.attr("width"):b.width,j=b.attr?b.attr("height"):b.height;(this.hasDragged||d)&&(Xb(c.axes,function(a){if(a.zoomEnabled){var b=a.horiz,c=a.toValue(b?g:h),b=a.toValue(b?g+i:h+j);!isNaN(c)&&!isNaN(b)&&(f[a.coll].push({axis:a,min:qb(c,b),max:pb(c,b)}),e=!0)}}),e&&bc(c,"selection",f,function(b){c.zoom(a(b,d?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),d&&this.scaleGroups()}c&&(p(c.container,{cursor:c._cursor}),c.cancelClick=this.hasDragged>10,c.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a),a.preventDefault&&a.preventDefault(),this.dragStart(a)},onDocumentMouseUp:function(a){Kb[pc]&&Kb[pc].pointer.drop(a)},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition,d=b.hoverSeries,a=this.normalize(a,c);c&&d&&!this.inClass(a.target,"highcharts-tracker")&&!b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&this.reset()},onContainerMouseLeave:function(){var a=Kb[pc];a&&(a.pointer.reset(),a.pointer.chartPosition=null)},onContainerMouseMove:function(a){var b=this.chart;pc=b.index,a=this.normalize(a),"mousedown"===b.mouseIsDown&&this.drag(a),(this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop))&&!b.openMenu&&this.runPointActions(a)},inClass:function(a,b){for(var c;a;){if(c=m(a,"class")){if(-1!==c.indexOf(b))return!0;if(-1!==c.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries,c=(a=a.relatedTarget||a.toElement)&&a.point&&a.point.series;!b||b.options.stickyTracking||this.inClass(a,"highcharts-tooltip")||c===b||b.onMouseOut()},onContainerClick:function(b){var c=this.chart,d=c.hoverPoint,e=c.plotLeft,f=c.plotTop,b=this.normalize(b);b.cancelBubble=!0,c.cancelClick||(d&&this.inClass(b.target,"highcharts-tracker")?(bc(d.series,"click",a(b,{point:d})),c.hoverPoint&&d.firePointEvent("click",b)):(a(b,this.getCoordinates(b)),c.isInsidePlot(b.chartX-e,b.chartY-f)&&bc(c,"click",b)))},setDOMEvents:function(){var a=this,b=a.chart.container;b.onmousedown=function(b){a.onContainerMouseDown(b)},b.onmousemove=function(b){a.onContainerMouseMove(b)},b.onclick=function(b){a.onContainerClick(b)},_b(b,"mouseleave",a.onContainerMouseLeave),1===Lb&&_b(jb,"mouseup",a.onDocumentMouseUp),R&&(b.ontouchstart=function(b){a.onContainerTouchStart(b)},b.ontouchmove=function(b){a.onContainerTouchMove(b)},1===Lb&&_b(jb,"touchend",a.onDocumentTouchEnd))},destroy:function(){var a;ac(this.chart.container,"mouseleave",this.onContainerMouseLeave),Lb||(ac(jb,"mouseup",this.onDocumentMouseUp),ac(jb,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(a in this)this[a]=null}},a(Rb.Pointer.prototype,{pinchTranslate:function(a,b,c,d,e,f){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,a,b,c,d,e,f),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,a,b,c,d,e,f)},pinchTranslateDirection:function(a,b,c,d,e,f,g,h){var i,j,k,l=this.chart,m=a?"x":"y",n=a?"X":"Y",o="chart"+n,p=a?"width":"height",q=l["plot"+(a?"Left":"Top")],r=h||1,s=l.inverted,t=l.bounds[a?"h":"v"],u=1===b.length,v=b[0][o],w=c[0][o],x=!u&&b[1][o],y=!u&&c[1][o],c=function(){!u&&rb(v-x)>20&&(r=h||rb(w-y)/rb(v-x)),j=(q-w)/r+v,i=l["plot"+(a?"Width":"Height")]/r};c(),b=j,b<t.min?(b=t.min,k=!0):b+i>t.max&&(b=t.max-i,k=!0),k?(w-=.8*(w-g[m][0]),u||(y-=.8*(y-g[m][1])),c()):g[m]=[w,y],s||(f[m]=j-q,f[p]=i),f=s?1/r:r,e[p]=i,e[m]=b,d[s?a?"scaleY":"scaleX":"scale"+n]=r,d["translate"+n]=f*q+(w-f*v)},pinch:function(b){var c=this,d=c.chart,e=c.pinchDown,f=c.followTouchMove,g=b.touches,h=g.length,i=c.lastValidTouch,j=c.hasZoom,k=c.selectionMarker,l={},m=1===h&&(c.inClass(b.target,"highcharts-tracker")&&d.runTrackerClick||d.runChartClick),n={};(j||f)&&!m&&b.preventDefault(),$b(g,function(a){return c.normalize(a)}),"touchstart"===b.type?(Xb(g,function(a,b){e[b]={chartX:a.chartX,chartY:a.chartY}}),i.x=[e[0].chartX,e[1]&&e[1].chartX],i.y=[e[0].chartY,e[1]&&e[1].chartY],Xb(d.axes,function(a){if(a.zoomEnabled){var b=d.bounds[a.horiz?"h":"v"],c=a.minPixelPadding,e=a.toPixels(a.dataMin),f=a.toPixels(a.dataMax),g=qb(e,f),e=pb(e,f);b.min=qb(a.pos,g-c),b.max=pb(a.pos+a.len,e+c)}})):e.length&&(k||(c.selectionMarker=k=a({destroy:Jb},d.plotBox)),c.pinchTranslate(e,g,l,k,n,i),c.hasPinched=j,c.scaleGroups(l,n),!j&&f&&1===h&&this.runPointActions(c.normalize(b)))},onContainerTouchStart:function(a){var b=this.chart;pc=b.index,1===a.touches.length?(a=this.normalize(a),b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)?(this.runPointActions(a),this.pinch(a)):this.reset()):2===a.touches.length&&this.pinch(a)},onContainerTouchMove:function(a){(1===a.touches.length||2===a.touches.length)&&this.pinch(a)},onDocumentTouchEnd:function(a){Kb[pc]&&Kb[pc].pointer.drop(a)}}),kb.PointerEvent||kb.MSPointerEvent){var rc={},sc=!!kb.PointerEvent,tc=function(){var a,b=[];b.item=function(a){return this[a]};for(a in rc)rc.hasOwnProperty(a)&&b.push({pageX:rc[a].pageX,pageY:rc[a].pageY,target:rc[a].target});return b},uc=function(a,b,c,d){a=a.originalEvent||a,"touch"!==a.pointerType&&a.pointerType!==a.MSPOINTER_TYPE_TOUCH||!Kb[pc]||(d(a),d=Kb[pc].pointer,d[b]({type:c,target:a.currentTarget,preventDefault:Jb,touches:tc()}))};a(qc.prototype,{onContainerPointerDown:function(a){uc(a,"onContainerTouchStart","touchstart",function(a){rc[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){uc(a,"onContainerTouchMove","touchmove",function(a){rc[a.pointerId]={pageX:a.pageX,pageY:a.pageY},rc[a.pointerId].target||(rc[a.pointerId].target=a.currentTarget)})},onDocumentPointerUp:function(a){uc(a,"onContainerTouchEnd","touchend",function(a){delete rc[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,sc?"pointerdown":"MSPointerDown",this.onContainerPointerDown),a(this.chart.container,sc?"pointermove":"MSPointerMove",this.onContainerPointerMove),a(jb,sc?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),u(qc.prototype,"init",function(a,b,c){a.call(this,b,c),(this.hasZoom||this.followTouchMove)&&p(b.container,{"-ms-touch-action":Nb,"touch-action":Nb})}),u(qc.prototype,"setDOMEvents",function(a){a.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(_b)}),u(qc.prototype,"destroy",function(a){this.batchMSEvents(ac),a.call(this)})}var vc=Rb.Legend=function(a,b){this.init(a,b)};vc.prototype={init:function(a,c){var e=this,f=c.itemStyle,g=o(c.padding,8),h=c.itemMarginTop||0;this.options=c,c.enabled&&(e.baseline=d(f.fontSize)+3+h,e.itemStyle=f,e.itemHiddenStyle=b(f,c.itemHiddenStyle),e.itemMarginTop=h,e.padding=g,e.initialItemX=g,e.initialItemY=g-5,e.maxItemWidth=0,e.chart=a,e.itemHeight=0,e.lastLineHeight=0,e.symbolWidth=o(c.symbolWidth,16),e.pages=[],e.render(),_b(e.chart,"endResize",function(){e.positionCheckboxes()}))},colorizeItem:function(a,b){var c,d=this.options,e=a.legendItem,f=a.legendLine,g=a.legendSymbol,h=this.itemHiddenStyle.color,d=b?d.itemStyle.color:h,i=b?a.legendColor||a.color||"#CCC":h,h=a.options&&a.options.marker,j={fill:i};if(e&&e.css({fill:d,color:d}),f&&f.attr({stroke:i}),g){if(h&&g.isMarker)for(c in j.stroke=i,h=a.convertAttribs(h))e=h[c],e!==P&&(j[c]=e);g.attr(j)}},positionItem:function(a){var b=this.options,c=b.symbolPadding,b=!b.rtl,d=a._legendItemPos,e=d[0],d=d[1],f=a.checkbox;a.legendGroup&&a.legendGroup.translate(b?e:this.legendWidth-e-2*c-4,d),f&&(f.x=e,f.y=d)},destroyItem:function(a){var b=a.checkbox;Xb(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())}),b&&D(a.checkbox)},destroy:function(){var a=this.group,b=this.box;b&&(this.box=b.destroy()),a&&(this.group=a.destroy())},positionCheckboxes:function(a){var b,c=this.group.alignAttr,d=this.clipHeight||this.legendHeight;c&&(b=c.translateY,Xb(this.allItems,function(e){var f,g=e.checkbox;g&&(f=b+g.y+(a||0)+3,p(g,{left:c.translateX+e.checkboxOffset+g.x-20+"px",top:f+"px",display:f>b-6&&b+d-6>f?"":Nb}))}))},renderTitle:function(){var a=this.padding,b=this.options.title,c=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,a-3,a-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(b.style).add(this.group)),a=this.title.getBBox(),c=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:c})),this.titleHeight=c},renderItem:function(a){var c=this.chart,d=c.renderer,e=this.options,f="horizontal"===e.layout,g=this.symbolWidth,h=e.symbolPadding,i=this.itemStyle,j=this.itemHiddenStyle,k=this.padding,l=f?o(e.itemDistance,20):0,m=!e.rtl,n=e.width,p=e.itemMarginBottom||0,q=this.itemMarginTop,r=this.initialItemX,s=a.legendItem,t=a.series&&a.series.drawLegendSymbol?a.series:a,u=t.options,u=this.createCheckboxForItem&&u&&u.showCheckbox,w=e.useHTML;s||(a.legendGroup=d.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),t.drawLegendSymbol(this,a),a.legendItem=s=d.text(e.labelFormat?v(e.labelFormat,a):e.labelFormatter.call(a),m?g+h:-h,this.baseline,w).css(b(a.visible?i:j)).attr({align:m?"left":"right",zIndex:2}).add(a.legendGroup),this.setItemEvents&&this.setItemEvents(a,s,w,i,j),this.colorizeItem(a,a.visible),u&&this.createCheckboxForItem(a)),d=s.getBBox(),g=a.checkboxOffset=e.itemWidth||a.legendItemWidth||g+h+d.width+l+(u?20:0),this.itemHeight=h=mb(a.legendItemHeight||d.height),f&&this.itemX-r+g>(n||c.chartWidth-2*k-r-e.x)&&(this.itemX=r,this.itemY+=q+this.lastLineHeight+p,this.lastLineHeight=0),this.maxItemWidth=pb(this.maxItemWidth,g),this.lastItemY=q+this.itemY+p,this.lastLineHeight=pb(h,this.lastLineHeight),a._legendItemPos=[this.itemX,this.itemY],f?this.itemX+=g:(this.itemY+=q+h+p,this.lastLineHeight=h),this.offsetWidth=n||pb((f?this.itemX-r-l:g)+k,this.offsetWidth)},getAllItems:function(){var a=[];return Xb(this.chart.series,function(b){var c=b.options;o(c.showInLegend,l(c.linkedTo)?!1:P,!0)&&(a=a.concat(b.legendItems||("point"===c.legendType?b.data:b)))}),a},render:function(){var b,c,d,e,f=this,g=f.chart,h=g.renderer,i=f.group,j=f.box,k=f.options,l=f.padding,m=k.borderWidth,n=k.backgroundColor;f.itemX=f.initialItemX,f.itemY=f.initialItemY,f.offsetWidth=0,f.lastItemY=0,i||(f.group=i=h.g("legend").attr({zIndex:7}).add(),f.contentGroup=h.g().attr({zIndex:1}).add(i),f.scrollGroup=h.g().add(f.contentGroup)),f.renderTitle(),b=f.getAllItems(),z(b,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)}),k.reversed&&b.reverse(),f.allItems=b,f.display=c=!!b.length,Xb(b,function(a){f.renderItem(a)}),d=k.width||f.offsetWidth,e=f.lastItemY+f.lastLineHeight+f.titleHeight,e=f.handleOverflow(e),(m||n)&&(d+=l,e+=l,j?d>0&&e>0&&(j[j.isNew?"attr":"animate"](j.crisp({width:d,height:e})),j.isNew=!1):(f.box=j=h.rect(0,0,d,e,k.borderRadius,m||0).attr({stroke:k.borderColor,"stroke-width":m||0,fill:n||Nb}).add(i).shadow(k.shadow),j.isNew=!0),j[c?"show":"hide"]()),f.legendWidth=d,f.legendHeight=e,Xb(b,function(a){f.positionItem(a)}),c&&i.align(a({width:d,height:e},k),!0,"spacingBox"),g.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var b,c,d=this,e=this.chart,f=e.renderer,g=this.options,h=g.y,h=e.spacingBox.height+("top"===g.verticalAlign?-h:h)-this.padding,i=g.maxHeight,j=this.clipRect,k=g.navigation,l=o(k.animation,!0),m=k.arrowSize||12,n=this.nav,p=this.pages,q=this.allItems;return"horizontal"===g.layout&&(h/=2),i&&(h=qb(h,i)),p.length=0,a>h&&!g.useHTML?(this.clipHeight=b=h-20-this.titleHeight-this.padding,this.currentPage=o(this.currentPage,1),this.fullHeight=a,Xb(q,function(a,d){var e=a._legendItemPos[1],f=mb(a.legendItem.getBBox().height),g=p.length;(!g||e-p[g-1]>b&&(c||e)!==p[g-1])&&(p.push(c||e),g++),d===q.length-1&&e+f-p[g-1]>b&&p.push(e),e!==c&&(c=e)}),j||(j=d.clipRect=f.clipRect(0,this.padding,9999,0),d.contentGroup.clip(j)),j.attr({height:b}),n||(this.nav=n=f.g().attr({zIndex:1}).add(this.group),this.up=f.symbol("triangle",0,0,m,m).on("click",function(){d.scroll(-1,l)}).add(n),this.pager=f.text("",15,10).css(k.style).add(n),this.down=f.symbol("triangle-down",0,0,m,m).on("click",function(){d.scroll(1,l)}).add(n)),d.scroll(0),a=h):n&&(j.attr({height:e.chartHeight}),n.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),a},scroll:function(a,b){var c=this.pages,d=c.length,e=this.currentPage+a,f=this.clipHeight,g=this.options.navigation,h=g.activeColor,g=g.inactiveColor,i=this.pager,j=this.padding;e>d&&(e=d),e>0&&(b!==P&&G(b,this.chart),this.nav.attr({translateX:j,translateY:f+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===e?g:h}).css({cursor:1===e?"default":"pointer"}),i.attr({text:e+"/"+d}),this.down.attr({x:18+this.pager.getBBox().width,fill:e===d?g:h}).css({cursor:e===d?"default":"pointer"}),c=-c[e-1]+this.initialItemY,this.scrollGroup.animate({translateY:c}),this.currentPage=e,this.positionCheckboxes(c))}},Tb=Rb.LegendSymbolMixin={drawRectangle:function(a,b){var c=a.options.symbolHeight||12;b.legendSymbol=this.chart.renderer.rect(0,a.baseline-5-c/2,a.symbolWidth,c,a.options.symbolRadius||0).attr({zIndex:3}).add(b.legendGroup)},drawLineMarker:function(a){var b,c=this.options,d=c.marker;b=a.symbolWidth;var e,f=this.chart.renderer,g=this.legendGroup,a=a.baseline-mb(.3*f.fontMetrics(a.options.itemStyle.fontSize).b);c.lineWidth&&(e={"stroke-width":c.lineWidth},c.dashStyle&&(e.dashstyle=c.dashStyle),this.legendLine=f.path(["M",0,a,"L",b,a]).attr(e).add(g)),d&&d.enabled!==!1&&(c=d.radius,this.legendSymbol=b=f.symbol(this.symbol,b/2-c,a-c,2*c,2*c).add(g),b.isMarker=!0)}},(/Trident\/7\.0/.test(wb)||Bb)&&u(vc.prototype,"positionItem",function(a,b){var c=this,d=function(){b._legendItemPos&&a.call(c,b)};d(),setTimeout(d)}),L.prototype={init:function(a,c){var d,e=a.series;a.series=null,d=b(T,a),d.series=a.series=e,this.userOptions=a,e=d.chart,this.margin=this.splashArray("margin",e),this.spacing=this.splashArray("spacing",e);var f=e.events;this.bounds={h:{},v:{}},this.callback=c,this.isResizing=0,this.options=d,this.axes=[],this.series=[],this.hasCartesianSeries=e.showAxes;var g,h=this;if(h.index=Kb.length,Kb.push(h),Lb++,e.reflow!==!1&&_b(h,"load",function(){h.initReflow()}),f)for(g in f)_b(h,g,f[g]);h.xAxis=[],h.yAxis=[],h.animation=Gb?!1:o(e.animation,!0),h.pointCount=0,h.counters=new y,h.firstRender()},initSeries:function(a){var b=this.options.chart;return(b=Qb[a.type||b.type||b.defaultSeriesType])||E(17,!0),b=new b,b.init(this,a),b},isInsidePlot:function(a,b,c){var d=c?b:a,a=c?a:b;return d>=0&&d<=this.plotWidth&&a>=0&&a<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&Xb(this.axes,function(a){a.adjustTickAmount()}),this.maxTicks=null},redraw:function(b){var c,d,e=this.axes,f=this.series,g=this.pointer,h=this.legend,i=this.isDirtyLegend,j=this.isDirtyBox,k=f.length,l=k,m=this.renderer,n=m.isHidden(),o=[];for(G(b,this),n&&this.cloneRenderTo(),this.layOutTitles();l--;)if(b=f[l],b.options.stacking&&(c=!0,b.isDirty)){d=!0;break}if(d)for(l=k;l--;)b=f[l],b.options.stacking&&(b.isDirty=!0);Xb(f,function(a){a.isDirty&&"point"===a.options.legendType&&(i=!0)}),i&&h.options.enabled&&(h.render(),this.isDirtyLegend=!1),c&&this.getStacks(),this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,Xb(e,function(a){a.setScale()})),this.adjustTickAmounts(),this.getMargins(),Xb(e,function(a){a.isDirty&&(j=!0)}),Xb(e,function(b){b.isDirtyExtremes&&(b.isDirtyExtremes=!1,o.push(function(){bc(b,"afterSetExtremes",a(b.eventArgs,b.getExtremes())),delete b.eventArgs})),(j||c)&&b.redraw()})),j&&this.drawChartBox(),Xb(f,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()}),g&&g.reset(!0),m.draw(),bc(this,"redraw"),n&&this.cloneRenderTo(!0),Xb(o,function(a){a.call()})},get:function(a){var b,c,d=this.axes,e=this.series;for(b=0;b<d.length;b++)if(d[b].options.id===a)return d[b];for(b=0;b<e.length;b++)if(e[b].options.id===a)return e[b];for(b=0;b<e.length;b++)for(c=e[b].points||[],d=0;d<c.length;d++)if(c[d].id===a)return c[d];return null},getAxes:function(){var a=this,b=this.options,c=b.xAxis=n(b.xAxis||{}),b=b.yAxis=n(b.yAxis||{});Xb(c,function(a,b){a.index=b,a.isX=!0}),Xb(b,function(a,b){a.index=b}),c=c.concat(b),Xb(c,function(b){new K(a,b)}),a.adjustTickAmounts()},getSelectedPoints:function(){var a=[];return Xb(this.series,function(b){a=a.concat(Yb(b.points||[],function(a){return a.selected}))}),a},getSelectedSeries:function(){return Yb(this.series,function(a){return a.selected})},getStacks:function(){var a=this;Xb(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)}),Xb(a.series,function(b){!b.options.stacking||b.visible!==!0&&a.options.chart.ignoreHiddenSeries!==!1||(b.stackKey=b.type+o(b.options.stack,""))})},setTitle:function(a,c,d){var e,f,g=this,h=g.options;f=h.title=b(h.title,a),e=h.subtitle=b(h.subtitle,c),h=e,Xb([["title",a,f],["subtitle",c,h]],function(a){var b=a[0],c=g[b],d=a[1],a=a[2];c&&d&&(g[b]=c=c.destroy()),a&&a.text&&!c&&(g[b]=g.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+b,zIndex:a.zIndex||4}).css(a.style).add())}),g.layOutTitles(d)},layOutTitles:function(b){var c=0,d=this.title,e=this.subtitle,f=this.options,g=f.title,f=f.subtitle,h=this.spacingBox.width-44;!d||(d.css({width:(g.width||h)+"px"}).align(a({y:15},g),!1,"spacingBox"),g.floating||g.verticalAlign)||(c=d.getBBox().height),e&&(e.css({width:(f.width||h)+"px"}).align(a({y:c+g.margin},f),!1,"spacingBox"),!f.floating&&!f.verticalAlign&&(c=ob(c+e.getBBox().height))),d=this.titleOffset!==c,this.titleOffset=c,!this.isDirtyBox&&d&&(this.isDirtyBox=d,this.hasRendered&&o(b,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var a=this.options.chart,b=a.width,a=a.height,c=this.renderToClone||this.renderTo;l(b)||(this.containerWidth=Ub(c,"width")),l(a)||(this.containerHeight=Ub(c,"height")),this.chartWidth=pb(0,b||this.containerWidth||600),this.chartHeight=pb(0,o(a,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(a){var b=this.renderToClone,c=this.container;a?b&&(this.renderTo.appendChild(c),D(b),delete this.renderToClone):(c&&c.parentNode===this.renderTo&&this.renderTo.removeChild(c),this.renderToClone=b=this.renderTo.cloneNode(0),p(b,{position:"absolute",top:"-9999px",display:"block"}),b.style.setProperty&&b.style.setProperty("display","block","important"),jb.body.appendChild(b),c&&b.appendChild(c))},getContainer:function(){var b,c,f,g,h=this.options.chart;this.renderTo=b=h.renderTo,g="highcharts-"+Ib++,e(b)&&(this.renderTo=b=jb.getElementById(b)),b||E(13,!0),c=d(m(b,"data-highcharts-chart")),!isNaN(c)&&Kb[c]&&Kb[c].hasRendered&&Kb[c].destroy(),m(b,"data-highcharts-chart",this.index),b.innerHTML="",!h.skipClone&&!b.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),c=this.chartWidth,f=this.chartHeight,this.container=b=q(Mb,{className:"highcharts-container"+(h.className?" "+h.className:""),id:g},a({position:"relative",overflow:"hidden",width:c+"px",height:f+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},h.style),this.renderToClone||b),this._cursor=b.style.cursor,this.renderer=h.forExport?new kc(b,c,f,h.style,!0):new Q(b,c,f,h.style),Gb&&this.renderer.create(this,b,c,f)},getMargins:function(){var a,b=this.spacing,c=this.legend,d=this.margin,e=this.options.legend,f=o(e.margin,20),g=e.x,h=e.y,i=e.align,j=e.verticalAlign,k=this.titleOffset;this.resetMargins(),a=this.axisOffset,k&&!l(d[0])&&(this.plotTop=pb(this.plotTop,k+this.options.title.margin+b[0])),c.display&&!e.floating&&("right"===i?l(d[1])||(this.marginRight=pb(this.marginRight,c.legendWidth-g+f+b[1])):"left"===i?l(d[3])||(this.plotLeft=pb(this.plotLeft,c.legendWidth+g+f+b[3])):"top"===j?l(d[0])||(this.plotTop=pb(this.plotTop,c.legendHeight+h+f+b[0])):"bottom"!==j||l(d[2])||(this.marginBottom=pb(this.marginBottom,c.legendHeight-h+f+b[2]))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&Xb(this.axes,function(a){a.getOffset()}),l(d[3])||(this.plotLeft+=a[3]),l(d[0])||(this.plotTop+=a[0]),l(d[2])||(this.marginBottom+=a[2]),l(d[1])||(this.marginRight+=a[1]),this.setChartSize()},reflow:function(a){var b=this,c=b.options.chart,d=b.renderTo,e=c.width||Ub(d,"width"),f=c.height||Ub(d,"height"),c=a?a.target:kb,d=function(){b.container&&(b.setSize(e,f,!1),b.hasUserSize=null)};b.hasUserSize||!e||!f||c!==kb&&c!==jb||((e!==b.containerWidth||f!==b.containerHeight)&&(clearTimeout(b.reflowTimeout),a?b.reflowTimeout=setTimeout(d,100):d()),b.containerWidth=e,b.containerHeight=f)},initReflow:function(){var a=this,b=function(b){a.reflow(b)};_b(kb,"resize",b),_b(a,"destroy",function(){ac(kb,"resize",b)})},setSize:function(a,b,c){var d,e,f,g=this;g.isResizing+=1,f=function(){g&&bc(g,"endResize",null,function(){g.isResizing-=1})},G(c,g),g.oldChartHeight=g.chartHeight,g.oldChartWidth=g.chartWidth,l(a)&&(g.chartWidth=d=pb(0,mb(a)),g.hasUserSize=!!d),l(b)&&(g.chartHeight=e=pb(0,mb(b))),(V?dc:p)(g.container,{width:d+"px",height:e+"px"},V),g.setChartSize(!0),g.renderer.setSize(d,e,c),g.maxTicks=null,Xb(g.axes,function(a){a.isDirty=!0,a.setScale()}),Xb(g.series,function(a){a.isDirty=!0}),g.isDirtyLegend=!0,g.isDirtyBox=!0,g.layOutTitles(),g.getMargins(),g.redraw(c),g.oldChartHeight=null,bc(g,"resize"),V===!1?f():setTimeout(f,V&&V.duration||500)},setChartSize:function(a){var b,c,d,e,f=this.inverted,g=this.renderer,h=this.chartWidth,i=this.chartHeight,j=this.options.chart,k=this.spacing,l=this.clipOffset;this.plotLeft=b=mb(this.plotLeft),this.plotTop=c=mb(this.plotTop),this.plotWidth=d=pb(0,mb(h-b-this.marginRight)),this.plotHeight=e=pb(0,mb(i-c-this.marginBottom)),this.plotSizeX=f?e:d,this.plotSizeY=f?d:e,this.plotBorderWidth=j.plotBorderWidth||0,this.spacingBox=g.spacingBox={x:k[3],y:k[0],width:h-k[3]-k[1],height:i-k[0]-k[2]},this.plotBox=g.plotBox={x:b,y:c,width:d,height:e},h=2*nb(this.plotBorderWidth/2),f=ob(pb(h,l[3])/2),g=ob(pb(h,l[0])/2),this.clipBox={x:f,y:g,width:nb(this.plotSizeX-pb(h,l[1])/2-f),height:nb(this.plotSizeY-pb(h,l[2])/2-g)},a||Xb(this.axes,function(a){a.setAxisSize(),a.setAxisTranslation()})},resetMargins:function(){var a=this.spacing,b=this.margin;this.plotTop=o(b[0],a[0]),this.marginRight=o(b[1],a[1]),this.marginBottom=o(b[2],a[2]),this.plotLeft=o(b[3],a[3]),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var a,b=this.options.chart,c=this.renderer,d=this.chartWidth,e=this.chartHeight,f=this.chartBackground,g=this.plotBackground,h=this.plotBorder,i=this.plotBGImage,j=b.borderWidth||0,k=b.backgroundColor,l=b.plotBackgroundColor,m=b.plotBackgroundImage,n=b.plotBorderWidth||0,o=this.plotLeft,p=this.plotTop,q=this.plotWidth,r=this.plotHeight,s=this.plotBox,t=this.clipRect,u=this.clipBox;a=j+(b.shadow?8:0),(j||k)&&(f?f.animate(f.crisp({width:d-a,height:e-a})):(f={fill:k||Nb},j&&(f.stroke=b.borderColor,f["stroke-width"]=j),this.chartBackground=c.rect(a/2,a/2,d-a,e-a,b.borderRadius,j).attr(f).addClass("highcharts-background").add().shadow(b.shadow))),l&&(g?g.animate(s):this.plotBackground=c.rect(o,p,q,r,0).attr({fill:l}).add().shadow(b.plotShadow)),m&&(i?i.animate(s):this.plotBGImage=c.image(m,o,p,q,r).add()),t?t.animate({width:u.width,height:u.height}):this.clipRect=c.clipRect(u),n&&(h?h.animate(h.crisp({x:o,y:p,width:q,height:r})):this.plotBorder=c.rect(o,p,q,r,0,-n).attr({stroke:b.plotBorderColor,"stroke-width":n,fill:Nb,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var a,b,c,d=this,e=d.options.chart,f=d.options.series;Xb(["inverted","angular","polar"],function(g){for(a=Qb[e.type||e.defaultSeriesType],c=d[g]||e[g]||a&&a.prototype[g],b=f&&f.length;!c&&b--;)(a=Qb[f[b].type])&&a.prototype[g]&&(c=!0);d[g]=c})},linkSeries:function(){var a=this,b=a.series;Xb(b,function(a){a.linkedSeries.length=0}),Xb(b,function(b){var c=b.options.linkedTo;e(c)&&(c=":previous"===c?a.series[b.index-1]:a.get(c))&&(c.linkedSeries.push(b),b.linkedParent=c)})},renderSeries:function(){Xb(this.series,function(a){a.translate(),a.setTooltipPoints&&a.setTooltipPoints(),a.render()
})},render:function(){var b,c=this,e=c.axes,f=c.renderer,g=c.options,h=g.labels,i=g.credits;c.setTitle(),c.legend=new vc(c,g.legend),c.getStacks(),Xb(e,function(a){a.setScale()}),c.getMargins(),c.maxTicks=null,Xb(e,function(a){a.setTickPositions(!0),a.setMaxTicks()}),c.adjustTickAmounts(),c.getMargins(),c.drawChartBox(),c.hasCartesianSeries&&Xb(e,function(a){a.render()}),c.seriesGroup||(c.seriesGroup=f.g("series-group").attr({zIndex:3}).add()),c.renderSeries(),h.items&&Xb(h.items,function(b){var e=a(h.style,b.style),g=d(e.left)+c.plotLeft,i=d(e.top)+c.plotTop+12;delete e.left,delete e.top,f.text(b.html,g,i).attr({zIndex:2}).css(e).add()}),i.enabled&&!c.credits&&(b=i.href,c.credits=f.text(i.text,0,0).on("click",function(){b&&(location.href=b)}).attr({align:i.position.align,zIndex:8}).css(i.style).add().align(i.position)),c.hasRendered=!0},destroy:function(){var a,b=this,c=b.axes,d=b.series,e=b.container,f=e&&e.parentNode;for(bc(b,"destroy"),Kb[b.index]=P,Lb--,b.renderTo.removeAttribute("data-highcharts-chart"),ac(b),a=c.length;a--;)c[a]=c[a].destroy();for(a=d.length;a--;)d[a]=d[a].destroy();Xb("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(a){var c=b[a];c&&c.destroy&&(b[a]=c.destroy())}),e&&(e.innerHTML="",ac(e),f&&D(e));for(a in b)delete b[a]},isReadyToRender:function(){var a=this;return!Eb&&kb==kb.top&&"complete"!==jb.readyState||Gb&&!kb.canvg?(Gb?nc.push(function(){a.firstRender()},a.options.global.canvasToolsURL):jb.attachEvent("onreadystatechange",function(){jb.detachEvent("onreadystatechange",a.firstRender),"complete"===jb.readyState&&a.firstRender()}),!1):!0},firstRender:function(){var a=this,b=a.options,c=a.callback;a.isReadyToRender()&&(a.getContainer(),bc(a,"init"),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),Xb(b.series||[],function(b){a.initSeries(b)}),a.linkSeries(),bc(a,"beforeRender"),Rb.Pointer&&(a.pointer=new qc(a,b)),a.render(),a.renderer.draw(),c&&c.apply(a,[a]),Xb(a.callbacks,function(b){b.apply(a,[a])}),a.cloneRenderTo(!0),bc(a,"load"))},splashArray:function(a,b){var c=b[a],c=f(c)?c:[c,c,c,c];return[o(b[a+"Top"],c[0]),o(b[a+"Right"],c[1]),o(b[a+"Bottom"],c[2]),o(b[a+"Left"],c[3])]}},L.prototype.callbacks=[],mc=Rb.CenteredSeriesMixin={getCenter:function(){var a,b,c=this.options,e=this.chart,f=2*(c.slicedOffset||0),g=e.plotWidth-2*f,h=e.plotHeight-2*f,e=c.center,c=[o(e[0],"50%"),o(e[1],"50%"),c.size||"100%",c.innerSize||0],i=qb(g,h);return $b(c,function(c,e){return b=/%$/.test(c),a=2>e||2===e&&b,(b?[g,h,i,i][e]*d(c)/100:c)+(a?f:0)})}};var wc=function(){};wc.prototype={init:function(a,b,c){return this.series=a,this.applyOptions(b,c),this.pointAttr={},a.options.colorByPoint&&(b=a.options.colors||a.chart.options.colors,this.color=this.color||b[a.colorCounter++],a.colorCounter===b.length)&&(a.colorCounter=0),a.chart.pointCount++,this},applyOptions:function(b,c){var d=this.series,e=d.pointValKey,b=wc.prototype.optionsToObject.call(this,b);return a(this,b),this.options=this.options?a(this.options,b):b,e&&(this.y=this[e]),this.x===P&&d&&(this.x=c===P?d.autoIncrement():c),this},optionsToObject:function(a){var b={},c=this.series,d=c.pointArrayMap||["y"],e=d.length,f=0,h=0;if("number"==typeof a||null===a)b[d[0]]=a;else if(g(a))for(a.length>e&&(c=typeof a[0],"string"===c?b.name=a[0]:"number"===c&&(b.x=a[0]),f++);e>h;)b[d[h++]]=a[f++];else"object"==typeof a&&(b=a,a.dataLabels&&(c._hasPointLabels=!0),a.marker&&(c._hasPointMarkers=!0));return b},destroy:function(){var a,b=this.series.chart,c=b.hoverPoints;b.pointCount--,c&&(this.setState(),k(c,this),!c.length)&&(b.hoverPoints=null),this===b.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(ac(this),this.destroyElements()),this.legendItem&&b.legend.destroyItem(this);for(a in this)this[a]=null},destroyElements:function(){for(var a,b="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),c=6;c--;)a=b[c],this[a]&&(this[a]=this[a].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var b=this.series,c=b.tooltipOptions,d=o(c.valueDecimals,""),e=c.valuePrefix||"",f=c.valueSuffix||"";return Xb(b.pointArrayMap||["y"],function(b){b="{point."+b,(e||f)&&(a=a.replace(b+"}",e+b+"}"+f)),a=a.replace(b+"}",b+":,."+d+"f}")}),v(a,{point:this,series:this.series})},firePointEvent:function(a,b,c){var d=this,e=this.series.options;(e.point.events[a]||d.options&&d.options.events&&d.options.events[a])&&this.importEvents(),"click"===a&&e.allowPointSelect&&(c=function(a){d.select(null,a.ctrlKey||a.metaKey||a.shiftKey)}),bc(this,a,b,c)}};var xc=function(){};xc.prototype={isCartesian:!0,type:"line",pointClass:wc,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(b,c){var d,e,f=this,g=b.series,h=function(a,b){return o(a.options.index,a._i)-o(b.options.index,b._i)};f.chart=b,f.options=c=f.setOptions(c),f.linkedSeries=[],f.bindAxes(),a(f,{name:c.name,state:"",pointAttr:{},visible:c.visible!==!1,selected:c.selected===!0}),Gb&&(c.animation=!1),e=c.events;for(d in e)_b(f,d,e[d]);(e&&e.click||c.point&&c.point.events&&c.point.events.click||c.allowPointSelect)&&(b.runTrackerClick=!0),f.getColor(),f.getSymbol(),Xb(f.parallelArrays,function(a){f[a+"Data"]=[]}),f.setData(c.data,!1),f.isCartesian&&(b.hasCartesianSeries=!0),g.push(f),f._i=g.length-1,z(g,h),this.yAxis&&z(this.yAxis.series,h),Xb(g,function(a,b){a.index=b,a.name=a.name||"Series "+(b+1)})},bindAxes:function(){var a,b=this,c=b.options,d=b.chart;Xb(b.axisTypes||[],function(e){Xb(d[e],function(d){a=d.options,(c[e]===a.index||c[e]!==P&&c[e]===a.id||c[e]===P&&0===a.index)&&(d.series.push(b),b[e]=d,d.isDirty=!0)}),!b[e]&&b.optionalAxis!==e&&E(18,!0)})},updateParallelArrays:function(a,b){var c=a.series,d=arguments;Xb(c.parallelArrays,"number"==typeof b?function(d){var e="y"===d&&c.toYData?c.toYData(a):a[d];c[d+"Data"][b]=e}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(d,2))})},autoIncrement:function(){var a=this.options,b=this.xIncrement,b=o(b,a.pointStart,0);return this.pointInterval=o(this.pointInterval,a.pointInterval,1),this.xIncrement=b+this.pointInterval,b},getSegments:function(){var a,b=-1,c=[],d=this.points,e=d.length;if(e)if(this.options.connectNulls){for(a=e;a--;)null===d[a].y&&d.splice(a,1);d.length&&(c=[d])}else Xb(d,function(a,f){null===a.y?(f>b+1&&c.push(d.slice(b+1,f)),b=f):f===e-1&&c.push(d.slice(b+1,f+1))});this.segments=c},setOptions:function(a){var c=this.chart,d=c.options.plotOptions,c=c.userOptions||{},e=c.plotOptions||{},f=d[this.type];return this.userOptions=a,d=b(f,d.series,a),this.tooltipOptions=b(T.tooltip,T.plotOptions[this.type].tooltip,c.tooltip,e.series&&e.series.tooltip,e[this.type]&&e[this.type].tooltip,a.tooltip),null===f.marker&&delete d.marker,d},getColor:function(){var a,b=this.options,c=this.userOptions,d=this.chart.options.colors,e=this.chart.counters;a=b.color||fc[this.type].color,a||b.colorByPoint||(l(c._colorIndex)?b=c._colorIndex:(c._colorIndex=e.color,b=e.color++),a=d[b]),this.color=a,e.wrapColor(d.length)},getSymbol:function(){var a=this.userOptions,b=this.options.marker,c=this.chart,d=c.options.symbols,c=c.counters;this.symbol=b.symbol,this.symbol||(l(a._symbolIndex)?a=a._symbolIndex:(a._symbolIndex=c.symbol,a=c.symbol++),this.symbol=d[a]),/^url/.test(this.symbol)&&(b.radius=0),c.wrapSymbol(d.length)},drawLegendSymbol:Tb.drawLineMarker,setData:function(a,b,c,d){var f,i=this,j=i.points,k=j&&j.length||0,l=i.options,m=i.chart,n=null,p=i.xAxis,q=p&&!!p.categories,r=i.tooltipPoints,s=l.turboThreshold,t=this.xData,u=this.yData,v=(f=i.pointArrayMap)&&f.length,a=a||[];if(f=a.length,b=o(b,!0),d===!1||!f||k!==f||i.cropped||i.hasGroupedData){if(i.xIncrement=null,i.pointRange=q?1:l.pointRange,i.colorCounter=0,Xb(this.parallelArrays,function(a){i[a+"Data"].length=0}),s&&f>s){for(c=0;null===n&&f>c;)n=a[c],c++;if(h(n)){for(q=o(l.pointStart,0),l=o(l.pointInterval,1),c=0;f>c;c++)t[c]=q,u[c]=a[c],q+=l;i.xIncrement=q}else if(g(n))if(v)for(c=0;f>c;c++)l=a[c],t[c]=l[0],u[c]=l.slice(1,v+1);else for(c=0;f>c;c++)l=a[c],t[c]=l[0],u[c]=l[1];else E(12)}else for(c=0;f>c;c++)a[c]!==P&&(l={series:i},i.pointClass.prototype.applyOptions.apply(l,[a[c]]),i.updateParallelArrays(l,c),q&&l.name)&&(p.names[l.x]=l.name);for(e(u[0])&&E(14,!0),i.data=[],i.options.data=a,c=k;c--;)j[c]&&j[c].destroy&&j[c].destroy();r&&(r.length=0),p&&(p.minRange=p.userMinRange),i.isDirty=i.isDirtyData=m.isDirtyBox=!0,c=!1}else Xb(a,function(a,b){j[b].update(a,!1)});b&&m.redraw(c)},processData:function(a){var b,c=this.xData,d=this.yData,e=c.length;b=0;var f,g,h,i,j=this.xAxis,k=this.options,l=k.cropThreshold,m=0,n=this.isCartesian;if(n&&!this.isDirty&&!j.isDirty&&!this.yAxis.isDirty&&!a)return!1;for(n&&this.sorted&&(!l||e>l||this.forceCrop)&&(h=j.min,i=j.max,c[e-1]<h||c[0]>i?(c=[],d=[]):(c[0]<h||c[e-1]>i)&&(b=this.cropData(this.xData,this.yData,h,i),c=b.xData,d=b.yData,b=b.start,f=!0,m=c.length)),e=c.length-1;e>=0;e--)a=c[e]-c[e-1],!f&&c[e]>h&&c[e]<i&&m++,a>0&&(g===P||g>a)?g=a:0>a&&this.requireSorting&&E(15);this.cropped=f,this.cropStart=b,this.processedXData=c,this.processedYData=d,this.activePointCount=m,null===k.pointRange&&(this.pointRange=g||1),this.closestPointRange=g},cropData:function(a,b,c,d){var e,f=a.length,g=0,h=f,i=o(this.cropShoulder,1);for(e=0;f>e;e++)if(a[e]>=c){g=pb(0,e-i);break}for(;f>e;e++)if(a[e]>d){h=e+i;break}return{xData:a.slice(g,h),yData:b.slice(g,h),start:g,end:h}},generatePoints:function(){var a,b,c,d,e=this.options.data,f=this.data,g=this.processedXData,h=this.processedYData,i=this.pointClass,j=g.length,k=this.cropStart||0,l=this.hasGroupedData,m=[];for(f||l||(f=[],f.length=e.length,f=this.data=f),d=0;j>d;d++)b=k+d,l?m[d]=(new i).init(this,[g[d]].concat(n(h[d]))):(f[b]?c=f[b]:e[b]!==P&&(f[b]=c=(new i).init(this,e[b],g[d])),m[d]=c);if(f&&(j!==(a=f.length)||l))for(d=0;a>d;d++)d===k&&!l&&(d+=j),f[d]&&(f[d].destroyElements(),f[d].plotX=P);this.data=f,this.points=m},getExtremes:function(a){var b,c=this.yAxis,d=this.processedXData,e=[],f=0;b=this.xAxis.getExtremes();var g,h,i,j,k=b.min,l=b.max,a=a||this.stackedYData||this.processedYData;for(b=a.length,j=0;b>j;j++)if(h=d[j],i=a[j],g=null!==i&&i!==P&&(!c.isLog||i.length||i>0),h=this.getExtremesFromAll||this.cropped||(d[j+1]||h)>=k&&(d[j-1]||h)<=l,g&&h)if(g=i.length)for(;g--;)null!==i[g]&&(e[f++]=i[g]);else e[f++]=i;this.dataMin=o(void 0,A(e)),this.dataMax=o(void 0,B(e))},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var a=this.options,b=a.stacking,c=this.xAxis,d=c.categories,e=this.yAxis,f=this.points,g=f.length,i=!!this.modifyValue,j=a.pointPlacement,k="between"===j||h(j),m=a.threshold,a=0;g>a;a++){var n=f[a],p=n.x,q=n.y,r=n.low,s=b&&e.stacks[(this.negStacks&&m>q?"-":"")+this.stackKey];e.isLog&&0>=q&&(n.y=q=null),n.plotX=c.translate(p,0,0,0,1,j,"flags"===this.type),b&&this.visible&&s&&s[p]&&(s=s[p],q=s.points[this.index+","+a],r=q[0],q=q[1],0===r&&(r=o(m,e.min)),e.isLog&&0>=r&&(r=null),n.total=n.stackTotal=s.total,n.percentage=s.total&&n.y/s.total*100,n.stackY=q,s.setOffset(this.pointXOffset||0,this.barW||0)),n.yBottom=l(r)?e.translate(r,0,1,0,1):null,i&&(q=this.modifyValue(q,n)),n.plotY="number"==typeof q&&1/0!==q?e.translate(q,0,1,0,1):P,n.clientX=k?c.translate(p,0,0,0,1):n.plotX,n.negative=n.y<(m||0),n.category=d&&d[n.x]!==P?d[n.x]:n.x}this.getSegments()},animate:function(b){var c,d=this.chart,e=d.renderer;c=this.options.animation;var g,h=this.clipBox||d.clipBox,i=d.inverted;c&&!f(c)&&(c=fc[this.type].animation),g=["_sharedClip",c.duration,c.easing,h.height].join(","),b?(b=d[g],c=d[g+"m"],b||(d[g]=b=e.clipRect(a(h,{width:0})),d[g+"m"]=c=e.clipRect(-99,i?-d.plotLeft:-d.plotTop,99,i?d.chartWidth:d.chartHeight)),this.group.clip(b),this.markerGroup.clip(c),this.sharedClipKey=g):((b=d[g])&&b.animate({width:d.plotSizeX},c),d[g+"m"]&&d[g+"m"].animate({width:d.plotSizeX+99},c),this.animate=null)},afterAnimate:function(){var a=this.chart,b=this.sharedClipKey,c=this.group,d=this.clipBox;c&&this.options.clip!==!1&&(b&&d||c.clip(d?a.renderer.clipRect(d):a.clipRect),this.markerGroup.clip()),bc(this,"afterAnimate"),setTimeout(function(){b&&a[b]&&(d||(a[b]=a[b].destroy()),a[b+"m"]&&(a[b+"m"]=a[b+"m"].destroy()))},100)},drawPoints:function(){var b,c,d,e,f,g,h,i,j,k=this.points,l=this.chart;c=this.options.marker;var m,n=this.pointAttr[""],p=this.markerGroup,q=o(c.enabled,this.activePointCount<.5*this.xAxis.len/c.radius);if(c.enabled!==!1||this._hasPointMarkers)for(e=k.length;e--;)f=k[e],c=nb(f.plotX),d=f.plotY,j=f.graphic,h=f.marker||{},b=q&&h.enabled===P||h.enabled,m=l.isInsidePlot(mb(c),d,l.inverted),b&&d!==P&&!isNaN(d)&&null!==f.y?(b=f.pointAttr[f.selected?"select":""]||n,g=b.r,h=o(h.symbol,this.symbol),i=0===h.indexOf("url"),j?j[m?"show":"hide"](!0).animate(a({x:c-g,y:d-g},j.symbolName?{width:2*g,height:2*g}:{})):m&&(g>0||i)&&(f.graphic=l.renderer.symbol(h,c-g,d-g,2*g,2*g).attr(b).add(p))):j&&(f.graphic=j.destroy())},convertAttribs:function(a,b,c,d){var e,f,g=this.pointAttrToOptions,h={},a=a||{},b=b||{},c=c||{},d=d||{};for(e in g)f=g[e],h[e]=o(a[f],b[e],c[e],d[e]);return h},getAttribs:function(){var b,c=this,d=c.options,e=fc[c.type].marker?d.marker:d,f=e.states,g=f.hover,h=c.color;b={stroke:h,fill:h};var i,j,k=c.points||[],m=[],n=c.pointAttrToOptions;j=c.hasPointSpecificOptions;var o=d.negativeColor,p=e.lineColor,q=e.fillColor;i=d.turboThreshold;var r;if(d.marker?(g.radius=g.radius||e.radius+2,g.lineWidth=g.lineWidth||e.lineWidth+1):g.color=g.color||jc(g.color||h).brighten(g.brightness).get(),m[""]=c.convertAttribs(e,b),Xb(["hover","select"],function(a){m[a]=c.convertAttribs(f[a],m[""])}),c.pointAttr=m,h=k.length,!i||i>h||j)for(;h--;){if(i=k[h],(e=i.options&&i.options.marker||i.options)&&e.enabled===!1&&(e.radius=0),i.negative&&o&&(i.color=i.fillColor=o),j=d.colorByPoint||i.color,i.options)for(r in n)l(e[n[r]])&&(j=!0);j?(e=e||{},j=[],f=e.states||{},b=f.hover=f.hover||{},d.marker||(b.color=b.color||!i.options.color&&g.color||jc(i.color).brighten(b.brightness||g.brightness).get()),b={color:i.color},q||(b.fillColor=i.color),p||(b.lineColor=i.color),j[""]=c.convertAttribs(a(b,e),m[""]),j.hover=c.convertAttribs(f.hover,m.hover,j[""]),j.select=c.convertAttribs(f.select,m.select,j[""])):j=m,i.pointAttr=j}},destroy:function(){var a,b,c,d,e,f=this,g=f.chart,h=/AppleWebKit\/533/.test(wb),i=f.data||[];for(bc(f,"destroy"),ac(f),Xb(f.axisTypes||[],function(a){(e=f[a])&&(k(e.series,f),e.isDirty=e.forceRedraw=!0)}),f.legendItem&&f.chart.legend.destroyItem(f),b=i.length;b--;)(c=i[b])&&c.destroy&&c.destroy();f.points=null,clearTimeout(f.animationTimeout),Xb("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(b){f[b]&&(a=h&&"group"===b?"hide":"destroy",f[b][a]())}),g.hoverSeries===f&&(g.hoverSeries=null),k(g.series,f);for(d in f)delete f[d]},getSegmentPath:function(a){var b=this,c=[],d=b.options.step;return Xb(a,function(e,f){var g,h=e.plotX,i=e.plotY;b.getPointSpline?c.push.apply(c,b.getPointSpline(a,e,f)):(c.push(f?"L":"M"),d&&f&&(g=a[f-1],"right"===d?c.push(g.plotX,i):"center"===d?c.push((g.plotX+h)/2,g.plotY,(g.plotX+h)/2,i):c.push(h,g.plotY)),c.push(e.plotX,e.plotY))}),c},getGraphPath:function(){var a,b=this,c=[],d=[];return Xb(b.segments,function(e){a=b.getSegmentPath(e),e.length>1?c=c.concat(a):d.push(e[0])}),b.singlePoints=d,b.graphPath=c},drawGraph:function(){var a=this,b=this.options,c=[["graph",b.lineColor||this.color]],d=b.lineWidth,e=b.dashStyle,f="square"!==b.linecap,g=this.getGraphPath(),h=b.negativeColor;h&&c.push(["graphNeg",h]),Xb(c,function(c,h){var i=c[0],j=a[i];j?(ec(j),j.animate({d:g})):d&&g.length&&(j={stroke:c[1],"stroke-width":d,fill:Nb,zIndex:1},e?j.dashstyle=e:f&&(j["stroke-linecap"]=j["stroke-linejoin"]="round"),a[i]=a.chart.renderer.path(g).attr(j).add(a.group).shadow(!h&&b.shadow))})},clipNeg:function(){var a,b=this.options,c=this.chart,d=c.renderer,e=b.negativeColor||b.negativeFillColor,f=this.graph,g=this.area,h=this.posClip,i=this.negClip;a=c.chartWidth;var j=c.chartHeight,k=pb(a,j),l=this.yAxis;e&&(f||g)&&(e=mb(l.toPixels(b.threshold||0,!0)),0>e&&(k-=e),b={x:0,y:0,width:k,height:e},k={x:0,y:e,width:k,height:k},c.inverted&&(b.height=k.y=c.plotWidth-e,d.isVML&&(b={x:c.plotWidth-e-c.plotLeft,y:0,width:a,height:j},k={x:e+c.plotLeft-a,y:0,width:c.plotLeft+e,height:a})),l.reversed?(c=k,a=b):(c=b,a=k),h?(h.animate(c),i.animate(a)):(this.posClip=h=d.clipRect(c),this.negClip=i=d.clipRect(a),f&&this.graphNeg&&(f.clip(h),this.graphNeg.clip(i)),g&&(g.clip(h),this.areaNeg.clip(i))))},invertGroups:function(){function a(){var a={width:b.yAxis.len,height:b.xAxis.len};Xb(["group","markerGroup"],function(c){b[c]&&b[c].attr(a).invert()})}var b=this,c=b.chart;b.xAxis&&(_b(c,"resize",a),_b(b,"destroy",function(){ac(c,"resize",a)}),a(),b.invertGroups=a)},plotGroup:function(a,b,c,d,e){var f=this[a],g=!f;return g&&(this[a]=f=this.chart.renderer.g(b).attr({visibility:c,zIndex:d||.1}).add(e)),f[g?"attr":"animate"](this.getPlotBox()),f},getPlotBox:function(){var a=this.chart,b=this.xAxis,c=this.yAxis;return a.inverted&&(b=c,c=this.xAxis),{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var a,b=this,c=b.chart,d=b.options,e=(a=d.animation)&&!!b.animate&&c.renderer.isSVG&&o(a.duration,500)||0,f=b.visible?"visible":"hidden",g=d.zIndex,h=b.hasRendered,i=c.seriesGroup;a=b.plotGroup("group","series",f,g,i),b.markerGroup=b.plotGroup("markerGroup","markers",f,g,i),e&&b.animate(!0),b.getAttribs(),a.inverted=b.isCartesian?c.inverted:!1,b.drawGraph&&(b.drawGraph(),b.clipNeg()),b.drawDataLabels&&b.drawDataLabels(),b.visible&&b.drawPoints(),b.drawTracker&&b.options.enableMouseTracking!==!1&&b.drawTracker(),c.inverted&&b.invertGroups(),d.clip!==!1&&!b.sharedClipKey&&!h&&a.clip(c.clipRect),e&&b.animate(),h||(e?b.animationTimeout=setTimeout(function(){b.afterAnimate()},e):b.afterAnimate()),b.isDirty=b.isDirtyData=!1,b.hasRendered=!0},redraw:function(){var a=this.chart,b=this.isDirtyData,c=this.group,d=this.xAxis,e=this.yAxis;c&&(a.inverted&&c.attr({width:a.plotWidth,height:a.plotHeight}),c.animate({translateX:o(d&&d.left,a.plotLeft),translateY:o(e&&e.top,a.plotTop)})),this.translate(),this.setTooltipPoints&&this.setTooltipPoints(!0),this.render(),b&&bc(this,"updatedData")}},M.prototype={destroy:function(){C(this,this.axis)},render:function(a){var b=this.options,c=b.format,c=c?v(c,this):b.formatter.call(this);this.label?this.label.attr({text:c,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(c,null,null,b.useHTML).css(b.style).attr({align:this.textAlign,rotation:b.rotation,visibility:"hidden"}).add(a)},setOffset:function(a,b){var c=this.axis,d=c.chart,e=d.inverted,f=this.isNegative,g=c.translate(c.usePercentage?100:this.total,0,0,0,1),c=c.translate(0),c=rb(g-c),h=d.xAxis[0].translate(this.x)+a,i=d.plotHeight,f={x:e?f?g:g-c:h,y:e?i-h-b:f?i-g-c:i-g,width:e?c:b,height:e?b:c};(e=this.label)&&(e.align(this.alignOptions,null,f),f=e.alignAttr,e[this.options.crop===!1||d.isInsidePlot(f.x,f.y)?"show":"hide"](!0))}},K.prototype.buildStacks=function(){var a=this.series,b=o(this.options.reversedStacks,!0),c=a.length;if(!this.isXAxis){for(this.usePercentage=!1;c--;)a[b?c:a.length-c-1].setStackedPoints();if(this.usePercentage)for(c=0;c<a.length;c++)a[c].setPercentStacks()}},K.prototype.renderStackTotals=function(){var a,b,c=this.chart,d=c.renderer,e=this.stacks,f=this.stackTotalGroup;f||(this.stackTotalGroup=f=d.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),f.translate(c.plotLeft,c.plotTop);for(a in e)for(b in c=e[a])c[b].render(f)},xc.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var a,b,c,d,e,f,g=this.processedXData,h=this.processedYData,i=[],j=h.length,k=this.options,l=k.threshold,m=k.stack,k=k.stacking,n=this.stackKey,o="-"+n,p=this.negStacks,q=this.yAxis,r=q.stacks,s=q.oldStacks;for(d=0;j>d;d++)e=g[d],f=h[d],c=this.index+","+d,b=(a=p&&l>f)?o:n,r[b]||(r[b]={}),r[b][e]||(s[b]&&s[b][e]?(r[b][e]=s[b][e],r[b][e].total=null):r[b][e]=new M(q,q.options.stackLabels,a,e,m)),b=r[b][e],b.points[c]=[b.cum||0],"percent"===k?(a=a?n:o,p&&r[a]&&r[a][e]?(a=r[a][e],b.total=a.total=pb(a.total,b.total)+rb(f)||0):b.total=F(b.total+(rb(f)||0))):b.total=F(b.total+(f||0)),b.cum=(b.cum||0)+(f||0),b.points[c].push(b.cum),i[d]=b.cum;"percent"===k&&(q.usePercentage=!0),this.stackedYData=i,q.oldStacks={}}},xc.prototype.setPercentStacks=function(){var a=this,b=a.stackKey,c=a.yAxis.stacks,d=a.processedXData;Xb([b,"-"+b],function(b){for(var e,f,g,h=d.length;h--;)f=d[h],e=(g=c[b]&&c[b][f])&&g.points[a.index+","+h],(f=e)&&(g=g.total?100/g.total:0,f[0]=F(f[0]*g),f[1]=F(f[1]*g),a.stackedYData[h]=f[1])})},a(L.prototype,{addSeries:function(a,b,c){var d,e=this;return a&&(b=o(b,!0),bc(e,"addSeries",{options:a},function(){d=e.initSeries(a),e.isDirtyLegend=!0,e.linkSeries(),b&&e.redraw(c)})),d},addAxis:function(a,c,d,e){var f=c?"xAxis":"yAxis",g=this.options;new K(this,b(a,{index:this[f].length,isX:c})),g[f]=n(g[f]||{}),g[f].push(a),o(d,!0)&&this.redraw(e)},showLoading:function(b){var c=this.options,d=this.loadingDiv,e=c.loading;d||(this.loadingDiv=d=q(Mb,{className:"highcharts-loading"},a(e.style,{zIndex:10,display:Nb}),this.container),this.loadingSpan=q("span",null,e.labelStyle,d)),this.loadingSpan.innerHTML=b||c.lang.loading,this.loadingShown||(p(d,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),dc(d,{opacity:e.style.opacity},{duration:e.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&dc(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){p(b,{display:Nb})}}),this.loadingShown=!1}}),a(wc.prototype,{update:function(a,b,c){var d,e=this,g=e.series,h=e.graphic,i=g.data,j=g.chart,k=g.options,b=o(b,!0);e.firePointEvent("update",{options:a},function(){e.applyOptions(a),f(a)&&(g.getAttribs(),h&&(a&&a.marker&&a.marker.symbol?e.graphic=h.destroy():h.attr(e.pointAttr[e.state||""])),a&&a.dataLabels&&e.dataLabel&&(e.dataLabel=e.dataLabel.destroy())),d=Wb(e,i),g.updateParallelArrays(e,d),k.data[d]=e.options,g.isDirty=g.isDirtyData=!0,!g.fixedBox&&g.hasCartesianSeries&&(j.isDirtyBox=!0),"point"===k.legendType&&j.legend.destroyItem(e),b&&j.redraw(c)})},remove:function(a,b){var c,d=this,e=d.series,f=e.points,g=e.chart,h=e.data;G(b,g),a=o(a,!0),d.firePointEvent("remove",null,function(){c=Wb(d,h),h.length===f.length&&f.splice(c,1),h.splice(c,1),e.options.data.splice(c,1),e.updateParallelArrays(d,"splice",c,1),d.destroy(),e.isDirty=!0,e.isDirtyData=!0,a&&g.redraw()})}}),a(xc.prototype,{addPoint:function(a,b,c,d){var e,f=this.options,g=this.data,h=this.graph,i=this.area,j=this.chart,k=this.xAxis&&this.xAxis.names,l=h&&h.shift||0,m=f.data,n=this.xData;if(G(d,j),c&&Xb([h,i,this.graphNeg,this.areaNeg],function(a){a&&(a.shift=l+1)}),i&&(i.isArea=!0),b=o(b,!0),d={series:this},this.pointClass.prototype.applyOptions.apply(d,[a]),h=d.x,i=n.length,this.requireSorting&&h<n[i-1])for(e=!0;i&&n[i-1]>h;)i--;this.updateParallelArrays(d,"splice",i,0,0),this.updateParallelArrays(d,i),k&&(k[h]=d.name),m.splice(i,0,a),e&&(this.data.splice(i,0,null),this.processData()),"point"===f.legendType&&this.generatePoints(),c&&(g[0]&&g[0].remove?g[0].remove(!1):(g.shift(),this.updateParallelArrays(d,"shift"),m.shift())),this.isDirtyData=this.isDirty=!0,b&&(this.getAttribs(),j.redraw())},remove:function(a,b){var c=this,d=c.chart,a=o(a,!0);c.isRemoving||(c.isRemoving=!0,bc(c,"remove",null,function(){c.destroy(),d.isDirtyLegend=d.isDirtyBox=!0,d.linkSeries(),a&&d.redraw(b)})),c.isRemoving=!1},update:function(c,d){var e,f=this.chart,g=this.type,h=Qb[g].prototype,c=b(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},c);this.remove(!1);for(e in h)h.hasOwnProperty(e)&&(this[e]=P);a(this,Qb[c.type||g].prototype),this.init(f,c),o(d,!0)&&f.redraw(!1)}}),a(K.prototype,{update:function(c,d){var e=this.chart,c=e.options[this.coll][this.options.index]=b(this.userOptions,c);this.destroy(!0),this._addedPlotLB=P,this.init(e,a(c,{events:P})),e.isDirtyBox=!0,o(d,!0)&&e.redraw()},remove:function(a){for(var b=this.chart,c=this.coll,d=this.series,e=d.length;e--;)d[e]&&d[e].remove(!1);k(b.axes,this),k(b[c],this),b.options[c].splice(this.options.index,1),Xb(b[c],function(a,b){a.options.index=b}),this.destroy(),b.isDirtyBox=!0,o(a,!0)&&b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}});var yc=r(xc);Qb.line=yc,fc.area=b(Sb,{threshold:0});var zc=r(xc,{type:"area",getSegments:function(){var a,b,c,d,e,f=[],g=[],h=[],i=this.xAxis,j=this.yAxis,k=j.stacks[this.stackKey],l={},m=this.points,n=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(d=0;d<m.length;d++)l[m[d].x]=m[d];for(e in k)null!==k[e].total&&h.push(+e);h.sort(function(a,b){return a-b}),Xb(h,function(d){(!n||l[d]&&null!==l[d].y)&&(l[d]?g.push(l[d]):(a=i.translate(d),c=k[d].percent?k[d].total?100*k[d].cum/k[d].total:0:k[d].cum,b=j.toPixels(c,!0),g.push({y:null,plotX:a,clientX:a,plotY:b,yBottom:b,onMouseOver:Jb})))}),g.length&&f.push(g)}else xc.prototype.getSegments.call(this),f=this.segments;this.segments=f},getSegmentPath:function(a){var b,c=xc.prototype.getSegmentPath.call(this,a),d=[].concat(c),e=this.options;b=c.length;var f,g=this.yAxis.getThreshold(e.threshold);if(3===b&&d.push("L",c[1],c[2]),e.stacking&&!this.closedStacks)for(b=a.length-1;b>=0;b--)f=o(a[b].yBottom,g),b<a.length-1&&e.step&&d.push(a[b+1].plotX,f),d.push(a[b].plotX,f);else this.closeSegment(d,a,g);return this.areaPath=this.areaPath.concat(d),c},closeSegment:function(a,b,c){a.push("L",b[b.length-1].plotX,c,"L",b[0].plotX,c)},drawGraph:function(){this.areaPath=[],xc.prototype.drawGraph.apply(this);var a=this,b=this.areaPath,c=this.options,d=c.negativeColor,e=c.negativeFillColor,f=[["area",this.color,c.fillColor]];(d||e)&&f.push(["areaNeg",d,e]),Xb(f,function(d){var e=d[0],f=a[e];f?f.animate({d:b}):a[e]=a.chart.renderer.path(b).attr({fill:o(d[2],jc(d[1]).setOpacity(o(c.fillOpacity,.75)).get()),zIndex:0}).add(a.group)})},drawLegendSymbol:Tb.drawRectangle});Qb.area=zc,fc.spline=b(Sb),yc=r(xc,{type:"spline",getPointSpline:function(a,b,c){var d,e,f,g,h=b.plotX,i=b.plotY,j=a[c-1],k=a[c+1];if(j&&k){a=j.plotY,f=k.plotX;var l,k=k.plotY;d=(1.5*h+j.plotX)/2.5,e=(1.5*i+a)/2.5,f=(1.5*h+f)/2.5,g=(1.5*i+k)/2.5,l=(g-e)*(f-h)/(f-d)+i-g,e+=l,g+=l,e>a&&e>i?(e=pb(a,i),g=2*i-e):a>e&&i>e&&(e=qb(a,i),g=2*i-e),g>k&&g>i?(g=pb(k,i),e=2*i-g):k>g&&i>g&&(g=qb(k,i),e=2*i-g),b.rightContX=f,b.rightContY=g}return c?(b=["C",j.rightContX||j.plotX,j.rightContY||j.plotY,d||h,e||i,h,i],j.rightContX=j.rightContY=null):b=["M",h,i],b}}),Qb.spline=yc,fc.areaspline=b(fc.area),zc=zc.prototype,yc=r(yc,{type:"areaspline",closedStacks:!0,getSegmentPath:zc.getSegmentPath,closeSegment:zc.closeSegment,drawGraph:zc.drawGraph,drawLegendSymbol:Tb.drawRectangle}),Qb.areaspline=yc,fc.column=b(Sb,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0}),yc=r(xc,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){xc.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&Xb(b.series,function(b){b.type===a.type&&(b.isDirty=!0)})},getColumnMetrics:function(){var a,b,c=this,d=c.options,e=c.xAxis,f=c.yAxis,g=e.reversed,h={},i=0;d.grouping===!1?i=1:Xb(c.chart.series,function(d){var e=d.options,g=d.yAxis;d.type===c.type&&d.visible&&f.len===g.len&&f.pos===g.pos&&(e.stacking?(a=d.stackKey,h[a]===P&&(h[a]=i++),b=h[a]):e.grouping!==!1&&(b=i++),d.columnIndex=b)});var e=qb(rb(e.transA)*(e.ordinalSlope||d.pointRange||e.closestPointRange||e.tickInterval||1),e.len),j=e*d.groupPadding,k=(e-2*j)/i,m=d.pointWidth,d=l(m)?(k-m)/2:k*d.pointPadding,m=o(m,k-2*d);return c.columnMetrics={width:m,offset:d+(j+((g?i-(c.columnIndex||0):c.columnIndex)||0)*k-e/2)*(g?-1:1)}},translate:function(){var a=this,b=a.chart,c=a.options,d=a.borderWidth=o(c.borderWidth,a.activePointCount>.5*a.xAxis.len?0:1),e=a.yAxis,f=a.translatedThreshold=e.getThreshold(c.threshold),g=o(c.minPointLength,5),c=a.getColumnMetrics(),h=c.width,i=a.barW=ob(pb(h,1+2*d)),j=a.pointXOffset=c.offset,k=-(d%2?.5:0),l=d%2?.5:1;b.renderer.isVML&&b.inverted&&(l+=1),xc.prototype.translate.apply(a),Xb(a.points,function(c){var d,m=o(c.yBottom,f),n=qb(pb(-999-m,c.plotY),e.len+999+m),p=c.plotX+j,q=i,r=qb(n,m);d=pb(n,m)-r,rb(d)<g&&g&&(d=g,r=mb(rb(r-f)>g?m-g:f-(e.translate(c.y,0,1,0,1)<=f?g:0))),c.barX=p,c.pointWidth=h,c.tooltipPos=b.inverted?[e.len-n,a.xAxis.len-p-q/2]:[p+q/2,n],m=rb(p)<.5,q=mb(p+q)+k,p=mb(p)+k,q-=p,n=rb(r)<.5,d=mb(r+d)+l,r=mb(r)+l,d-=r,m&&(p+=1,q-=1),n&&(r-=1,d+=1),c.shapeType="rect",c.shapeArgs={x:p,y:r,width:q,height:d}})},getSymbol:Jb,drawLegendSymbol:Tb.drawRectangle,drawGraph:Jb,drawPoints:function(){var a,c,d,e=this,f=this.chart,g=e.options,h=f.renderer,i=g.animationLimit||250;Xb(e.points,function(j){var k=j.plotY,m=j.graphic;k===P||isNaN(k)||null===j.y?m&&(j.graphic=m.destroy()):(a=j.shapeArgs,d=l(e.borderWidth)?{"stroke-width":e.borderWidth}:{},c=j.pointAttr[j.selected?"select":""]||e.pointAttr[""],m?(ec(m),m.attr(d)[f.pointCount<i?"animate":"attr"](b(a))):j.graphic=h[j.shapeType](a).attr(c).attr(d).add(e.group).shadow(g.shadow,null,g.stacking&&!g.borderRadius))})},animate:function(a){var b=this.yAxis,c=this.options,d=this.chart.inverted,e={};Eb&&(a?(e.scaleY=.001,a=qb(b.pos+b.len,pb(b.pos,b.toPixels(c.threshold))),d?e.translateX=a-b.len:e.translateY=a,this.group.attr(e)):(e.scaleY=1,e[d?"translateX":"translateY"]=b.pos,this.group.animate(e,this.options.animation),this.animate=null))},remove:function(){var a=this,b=a.chart;b.hasRendered&&Xb(b.series,function(b){b.type===a.type&&(b.isDirty=!0)}),xc.prototype.remove.apply(a,arguments)}}),Qb.column=yc,fc.bar=b(fc.column),zc=r(yc,{type:"bar",inverted:!0}),Qb.bar=zc,fc.scatter=b(Sb,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1}),zc=r(xc,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&xc.prototype.drawGraph.call(this)}}),Qb.scatter=zc,fc.pie=b(Sb,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Sb={type:"pie",isCartesian:!1,pointClass:r(wc,{init:function(){wc.prototype.init.apply(this,arguments);var b,c=this;return c.y<0&&(c.y=null),a(c,{visible:c.visible!==!1,name:o(c.name,"Slice")}),b=function(a){c.slice("select"===a.type)},_b(c,"select",b),_b(c,"unselect",b),c},setVisible:function(a){var b=this,c=b.series,d=c.chart;b.visible=b.options.visible=a=a===P?!b.visible:a,c.options.data[Wb(b,c.data)]=b.options,Xb(["graphic","dataLabel","connector","shadowGroup"],function(c){b[c]&&b[c][a?"show":"hide"](!0)}),b.legendItem&&d.legend.colorizeItem(b,a),!c.isDirty&&c.options.ignoreHiddenPoint&&(c.isDirty=!0,d.redraw())
},slice:function(a,b,c){var d=this.series;G(c,d.chart),o(b,!0),this.sliced=this.options.sliced=a=l(a)?a:!this.sliced,d.options.data[Wb(this,d.data)]=this.options,a=a?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(a),this.shadowGroup&&this.shadowGroup.animate(a)},haloPath:function(a){var b=this.shapeArgs,c=this.series.chart;return this.series.chart.renderer.symbols.arc(c.plotLeft+b.x,c.plotTop+b.y,b.r+a,b.r+a,{innerR:this.shapeArgs.r,start:b.start,end:b.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:Jb,animate:function(a){var b=this,c=b.points,d=b.startAngleRad;a||(Xb(c,function(a){var c=a.graphic,a=a.shapeArgs;c&&(c.attr({r:b.center[3]/2,start:d,end:d}),c.animate({r:a.r,start:a.start,end:a.end},b.options.animation))}),b.animate=null)},setData:function(a,b,c,d){xc.prototype.setData.call(this,a,!1,c,d),this.processData(),this.generatePoints(),o(b,!0)&&this.chart.redraw(c)},generatePoints:function(){var a,b,c,d,e=0,f=this.options.ignoreHiddenPoint;for(xc.prototype.generatePoints.call(this),b=this.points,c=b.length,a=0;c>a;a++)d=b[a],e+=f&&!d.visible?0:d.y;for(this.total=e,a=0;c>a;a++)d=b[a],d.percentage=e>0?d.y/e*100:0,d.total=e},translate:function(a){this.generatePoints();var b,c,d,e,f,g=0,h=this.options,i=h.slicedOffset,j=i+h.borderWidth,k=h.startAngle||0,l=this.startAngleRad=ub/180*(k-90),k=(this.endAngleRad=ub/180*(o(h.endAngle,k+360)-90))-l,m=this.points,n=h.dataLabels.distance,h=h.ignoreHiddenPoint,p=m.length;for(a||(this.center=a=this.getCenter()),this.getX=function(b,c){return d=lb.asin(qb((b-a[1])/(a[2]/2+n),1)),a[0]+(c?-1:1)*sb(d)*(a[2]/2+n)},e=0;p>e;e++)f=m[e],b=l+g*k,(!h||f.visible)&&(g+=f.percentage/100),c=l+g*k,f.shapeType="arc",f.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:mb(1e3*b)/1e3,end:mb(1e3*c)/1e3},d=(c+b)/2,d>1.5*ub?d-=2*ub:-ub/2>d&&(d+=2*ub),f.slicedTranslation={translateX:mb(sb(d)*i),translateY:mb(tb(d)*i)},b=sb(d)*a[2]/2,c=tb(d)*a[2]/2,f.tooltipPos=[a[0]+.7*b,a[1]+.7*c],f.half=-ub/2>d||d>ub/2?1:0,f.angle=d,j=qb(j,n/2),f.labelPos=[a[0]+b+sb(d)*n,a[1]+c+tb(d)*n,a[0]+b+sb(d)*j,a[1]+c+tb(d)*j,a[0]+b,a[1]+c,0>n?"center":f.half?"right":"left",d]},drawGraph:null,drawPoints:function(){var b,c,d,e,f=this,g=f.chart.renderer,h=f.options.shadow;h&&!f.shadowGroup&&(f.shadowGroup=g.g("shadow").add(f.group)),Xb(f.points,function(i){c=i.graphic,e=i.shapeArgs,d=i.shadowGroup,h&&!d&&(d=i.shadowGroup=g.g("shadow").add(f.shadowGroup)),b=i.sliced?i.slicedTranslation:{translateX:0,translateY:0},d&&d.attr(b),c?c.animate(a(e,b)):i.graphic=c=g[i.shapeType](e).setRadialReference(f.center).attr(i.pointAttr[i.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(b).add(f.group).shadow(h,d),void 0!==i.visible&&i.setVisible(i.visible)})},sortByAngle:function(a,b){a.sort(function(a,c){return void 0!==a.angle&&(c.angle-a.angle)*b})},drawLegendSymbol:Tb.drawRectangle,getCenter:mc.getCenter,getSymbol:Jb},Sb=r(xc,Sb),Qb.pie=Sb,xc.prototype.drawDataLabels=function(){var c,d,e,f,g=this,h=g.options,i=h.cursor,j=h.dataLabels,k=g.points;(j.enabled||g._hasPointLabels)&&(g.dlProcessOptions&&g.dlProcessOptions(j),f=g.plotGroup("dataLabelsGroup","data-labels","hidden",j.zIndex||6),!g.hasRendered&&o(j.defer,!0)&&(f.attr({opacity:0}),_b(g,"afterAnimate",function(){g.dataLabelsGroup.show()[h.animation?"animate":"attr"]({opacity:1},{duration:200})})),d=j,Xb(k,function(h){var k,m,n,p=h.dataLabel,q=h.connector,r=!0;if(c=h.options&&h.options.dataLabels,k=o(c&&c.enabled,d.enabled),p&&!k)h.dataLabel=p.destroy();else if(k){if(j=b(d,c),k=j.rotation,m=h.getLabelConfig(),e=j.format?v(j.format,m):j.formatter.call(m,j),j.style.color=o(j.color,j.style.color,g.color,"black"),p)l(e)?(p.attr({text:e}),r=!1):(h.dataLabel=p=p.destroy(),q&&(h.connector=q.destroy()));else if(l(e)){p={fill:j.backgroundColor,stroke:j.borderColor,"stroke-width":j.borderWidth,r:j.borderRadius||0,rotation:k,padding:j.padding,zIndex:1};for(n in p)p[n]===P&&delete p[n];p=h.dataLabel=g.chart.renderer[k?"text":"label"](e,0,-999,null,null,null,j.useHTML).attr(p).css(a(j.style,i&&{cursor:i})).add(f).shadow(j.shadow)}p&&g.alignDataLabel(h,p,j,null,r)}}))},xc.prototype.alignDataLabel=function(b,c,d,e,f){var g=this.chart,h=g.inverted,i=o(b.plotX,-999),j=o(b.plotY,-999),k=c.getBBox();(b=this.visible&&(b.series.forceDL||g.isInsidePlot(i,mb(j),h)||e&&g.isInsidePlot(i,h?e.x+1:e.y+e.height-1,h)))&&(e=a({x:h?g.plotWidth-j:i,y:mb(h?g.plotHeight-i:j),width:0,height:0},e),a(d,{width:k.width,height:k.height}),d.rotation?(h={align:d.align,x:e.x+d.x+e.width/2,y:e.y+d.y+e.height/2},c[f?"attr":"animate"](h)):(c.align(d,null,e),h=c.alignAttr,"justify"===o(d.overflow,"justify")?this.justifyDataLabel(c,d,h,k,e,f):o(d.crop,!0)&&(b=g.isInsidePlot(h.x,h.y)&&g.isInsidePlot(h.x+k.width,h.y+k.height)))),b||(c.attr({y:-999}),c.placed=!1)},xc.prototype.justifyDataLabel=function(a,b,c,d,e,f){var g,h,i=this.chart,j=b.align,k=b.verticalAlign;g=c.x,0>g&&("right"===j?b.align="left":b.x=-g,h=!0),g=c.x+d.width,g>i.plotWidth&&("left"===j?b.align="right":b.x=i.plotWidth-g,h=!0),g=c.y,0>g&&("bottom"===k?b.verticalAlign="top":b.y=-g,h=!0),g=c.y+d.height,g>i.plotHeight&&("top"===k?b.verticalAlign="bottom":b.y=i.plotHeight-g,h=!0),h&&(a.placed=!f,a.align(b,null,e))},Qb.pie&&(Qb.pie.prototype.drawDataLabels=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this,n=m.data,p=m.chart,q=m.options.dataLabels,r=o(q.connectorPadding,10),s=o(q.connectorWidth,1),t=p.plotWidth,p=p.plotHeight,u=o(q.softConnector,!0),v=q.distance,w=m.center,x=w[2]/2,y=w[1],z=v>0,A=[[],[]],C=[0,0,0,0],D=function(a,b){return b.y-a.y};if(m.visible&&(q.enabled||m._hasPointLabels)){for(xc.prototype.drawDataLabels.apply(m),Xb(n,function(a){a.dataLabel&&a.visible&&A[a.half].push(a)}),k=0;!g&&n[k];)g=n[k]&&n[k].dataLabel&&(n[k].dataLabel.getBBox().height||21),k++;for(k=2;k--;){var E,n=[],F=[],G=A[k],H=G.length;if(m.sortByAngle(G,k-.5),v>0){for(l=y-x-v;y+x+v>=l;l+=g)n.push(l);if(e=n.length,H>e){for(a=[].concat(G),a.sort(D),l=H;l--;)a[l].rank=l;for(l=H;l--;)G[l].rank>=e&&G.splice(l,1);H=G.length}for(l=0;H>l;l++){a=G[l],f=a.labelPos,a=9999;var I,J;for(J=0;e>J;J++)I=rb(n[J]-f[1]),a>I&&(a=I,E=J);if(l>E&&null!==n[l])E=l;else for(H-l+E>e&&null!==n[l]&&(E=e-H+l);null===n[E];)E++;F.push({i:E,y:n[E]}),n[E]=null}F.sort(D)}for(l=0;H>l;l++)a=G[l],f=a.labelPos,d=a.dataLabel,j=a.visible===!1?"hidden":"visible",a=f[1],v>0?(e=F.pop(),E=e.i,i=e.y,(a>i&&null!==n[E+1]||i>a&&null!==n[E-1])&&(i=a)):i=a,h=q.justify?w[0]+(k?-1:1)*(x+v):m.getX(0===E||E===n.length-1?a:i,k),d._attr={visibility:j,align:f[6]},d._pos={x:h+q.x+({left:r,right:-r}[f[6]]||0),y:i+q.y-10},d.connX=h,d.connY=i,null===this.options.size&&(e=d.width,r>h-e?C[3]=pb(mb(e-h+r),C[3]):h+e>t-r&&(C[1]=pb(mb(h+e-t+r),C[1])),0>i-g/2?C[0]=pb(mb(-i+g/2),C[0]):i+g/2>p&&(C[2]=pb(mb(i+g/2-p),C[2])))}(0===B(C)||this.verifyDataLabelOverflow(C))&&(this.placeDataLabels(),z&&s&&Xb(this.points,function(a){b=a.connector,f=a.labelPos,(d=a.dataLabel)&&d._pos?(j=d._attr.visibility,h=d.connX,i=d.connY,c=u?["M",h+("left"===f[6]?5:-5),i,"C",h,i,2*f[2]-f[4],2*f[3]-f[5],f[2],f[3],"L",f[4],f[5]]:["M",h+("left"===f[6]?5:-5),i,"L",f[2],f[3],"L",f[4],f[5]],b?(b.animate({d:c}),b.attr("visibility",j)):a.connector=b=m.chart.renderer.path(c).attr({"stroke-width":s,stroke:q.connectorColor||a.color||"#606060",visibility:j}).add(m.dataLabelsGroup)):b&&(a.connector=b.destroy())}))}},Qb.pie.prototype.placeDataLabels=function(){Xb(this.points,function(a){var b,a=a.dataLabel;a&&((b=a._pos)?(a.attr(a._attr),a[a.moved?"animate":"attr"](b),a.moved=!0):a&&a.attr({y:-999}))})},Qb.pie.prototype.alignDataLabel=Jb,Qb.pie.prototype.verifyDataLabelOverflow=function(a){var b,c=this.center,d=this.options,e=d.center,f=d=d.minSize||80;return null!==e[0]?f=pb(c[2]-pb(a[1],a[3]),d):(f=pb(c[2]-a[1]-a[3],d),c[0]+=(a[3]-a[1])/2),null!==e[1]?f=pb(qb(f,c[2]-pb(a[0],a[2])),d):(f=pb(qb(f,c[2]-a[0]-a[2]),d),c[1]+=(a[0]-a[2])/2),f<c[2]?(c[2]=f,this.translate(c),Xb(this.points,function(a){a.dataLabel&&(a.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):b=!0,b}),Qb.column&&(Qb.column.prototype.alignDataLabel=function(a,c,d,e,f){var g=this.chart,h=g.inverted,i=a.dlBox||a.shapeArgs,j=a.below||a.plotY>o(this.translatedThreshold,g.plotSizeY),k=o(d.inside,!!this.options.stacking);i&&(e=b(i),h&&(e={x:g.plotWidth-e.y-e.height,y:g.plotHeight-e.x-e.width,width:e.height,height:e.width}),!k)&&(h?(e.x+=j?0:e.width,e.width=0):(e.y+=j?e.height:0,e.height=0)),d.align=o(d.align,!h||k?"center":j?"right":"left"),d.verticalAlign=o(d.verticalAlign,h||k?"middle":j?"top":"bottom"),xc.prototype.alignDataLabel.call(this,a,c,d,e,f)});var Ac=Rb.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart,c=b.pointer,d=a.options.cursor,e=d&&{cursor:d},f=function(c){var d,e=c.target;for(b.hoverSeries!==a&&a.onMouseOver();e&&!d;)d=e.point,e=e.parentNode;d!==P&&d!==b.hoverPoint&&d.onMouseOver(c)};Xb(a.points,function(a){a.graphic&&(a.graphic.element.point=a),a.dataLabel&&(a.dataLabel.element.point=a)}),a._hasTracking||(Xb(a.trackerGroups,function(b){a[b]&&(a[b].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(a){c.onTrackerMouseOut(a)}).css(e),R)&&a[b].on("touchstart",f)}),a._hasTracking=!0)},drawTrackerGraph:function(){var a,b=this,c=b.options,d=c.trackByArea,e=[].concat(d?b.areaPath:b.graphPath),f=e.length,g=b.chart,h=g.pointer,i=g.renderer,j=g.options.tooltip.snap,k=b.tracker,l=c.cursor,m=l&&{cursor:l},l=b.singlePoints,n=function(){g.hoverSeries!==b&&b.onMouseOver()},o="rgba(192,192,192,"+(Eb?1e-4:.002)+")";if(f&&!d)for(a=f+1;a--;)"M"===e[a]&&e.splice(a+1,0,e[a+1]-j,e[a+2],"L"),(a&&"M"===e[a]||a===f)&&e.splice(a,0,"L",e[a-2]+j,e[a-1]);for(a=0;a<l.length;a++)f=l[a],e.push("M",f.plotX-j,f.plotY,"L",f.plotX+j,f.plotY);k?k.attr({d:e}):(b.tracker=i.path(e).attr({"stroke-linejoin":"round",visibility:b.visible?"visible":"hidden",stroke:o,fill:d?o:Nb,"stroke-width":c.lineWidth+(d?0:2*j),zIndex:2}).add(b.group),Xb([b.tracker,b.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(a){h.onTrackerMouseOut(a)}).css(m),R&&a.on("touchstart",n)}))}};Qb.column&&(yc.prototype.drawTracker=Ac.drawTrackerPoint),Qb.pie&&(Qb.pie.prototype.drawTracker=Ac.drawTrackerPoint),Qb.scatter&&(zc.prototype.drawTracker=Ac.drawTrackerPoint),a(vc.prototype,{setItemEvents:function(a,b,c,d,e){var f=this;(c?b:a.legendGroup).on("mouseover",function(){a.setState("hover"),b.css(f.options.itemHoverStyle)}).on("mouseout",function(){b.css(a.visible?d:e),a.setState()}).on("click",function(b){var c=function(){a.setVisible()},b={browserEvent:b};a.firePointEvent?a.firePointEvent("legendItemClick",b,c):bc(a,"legendItemClick",b,c)})},createCheckboxForItem:function(a){a.checkbox=q("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container),_b(a.checkbox,"click",function(b){bc(a,"checkboxClick",{checked:b.target.checked},function(){a.select()})})}}),T.legend.itemStyle.cursor="pointer",a(L.prototype,{showResetZoom:function(){var a=this,b=T.lang,c=a.options.chart.resetZoomButton,d=c.theme,e=d.states,f="chart"===c.relativeTo?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},d,e&&e.hover).attr({align:c.position.align,title:b.resetZoomTitle}).add().align(c.position,!1,f)},zoomOut:function(){var a=this;bc(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var b,c,d=this.pointer,e=!1;!a||a.resetSelection?Xb(this.axes,function(a){b=a.zoom()}):Xb(a.xAxis.concat(a.yAxis),function(a){var c=a.axis,f=c.isXAxis;(d[f?"zoomX":"zoomY"]||d[f?"pinchX":"pinchY"])&&(b=c.zoom(a.min,a.max),c.displayBtn&&(e=!0))}),c=this.resetZoomButton,e&&!c?this.showResetZoom():!e&&f(c)&&(this.resetZoomButton=c.destroy()),b&&this.redraw(o(this.options.chart.animation,a&&a.animation,this.pointCount<100))},pan:function(a,b){var c,d=this,e=d.hoverPoints;e&&Xb(e,function(a){a.setState()}),Xb("xy"===b?[1,0]:[1],function(b){var e=a[b?"chartX":"chartY"],f=d[b?"xAxis":"yAxis"][0],g=d[b?"mouseDownX":"mouseDownY"],h=(f.pointRange||0)/2,i=f.getExtremes(),j=f.toValue(g-e,!0)+h,g=f.toValue(g+d[b?"plotWidth":"plotHeight"]-e,!0)-h;f.series.length&&j>qb(i.dataMin,i.min)&&g<pb(i.dataMax,i.max)&&(f.setExtremes(j,g,!1,!1,{trigger:"pan"}),c=!0),d[b?"mouseDownX":"mouseDownY"]=e}),c&&d.redraw(!1),p(d.container,{cursor:"move"})}}),a(wc.prototype,{select:function(a,b){var c=this,d=c.series,e=d.chart,a=o(a,!c.selected);c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=c.options.selected=a,d.options.data[Wb(c,d.data)]=c.options,c.setState(a&&"select"),b||Xb(e.getSelectedPoints(),function(a){a.selected&&a!==c&&(a.selected=a.options.selected=!1,d.options.data[Wb(a,d.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))})})},onMouseOver:function(a){var b=this.series,c=b.chart,d=c.tooltip,e=c.hoverPoint;e&&e!==this&&e.onMouseOut(),this.firePointEvent("mouseOver"),d&&(!d.shared||b.noSharedTooltip)&&d.refresh(this,a),this.setState("hover"),c.hoverPoint=this},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;b&&-1!==Wb(this,b)||(this.firePointEvent("mouseOut"),this.setState(),a.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var a,c=b(this.series.options.point,this.options).events;this.events=c;for(a in c)_b(this,a,c[a]);this.hasImportedEvents=!0}},setState:function(c,d){var e,f=this.plotX,g=this.plotY,h=this.series,i=h.options.states,j=fc[h.type].marker&&h.options.marker,k=j&&!j.enabled,l=j&&j.states[c],m=l&&l.enabled===!1,n=h.stateMarkerGraphic,o=this.marker||{},p=h.chart,q=h.halo,c=c||"";e=this.pointAttr[c]||h.pointAttr[c],c===this.state&&!d||this.selected&&"select"!==c||i[c]&&i[c].enabled===!1||c&&(m||k&&l.enabled===!1)||c&&o.states&&o.states[c]&&o.states[c].enabled===!1||(this.graphic?(j=j&&this.graphic.symbolName&&e.r,this.graphic.attr(b(e,j?{x:f-j,y:g-j,width:2*j,height:2*j}:{})),n&&n.hide()):(c&&l&&(j=l.radius,o=o.symbol||h.symbol,n&&n.currentSymbol!==o&&(n=n.destroy()),n?n[d?"animate":"attr"]({x:f-j,y:g-j}):o&&(h.stateMarkerGraphic=n=p.renderer.symbol(o,f-j,g-j,2*j,2*j).attr(e).add(h.markerGroup),n.currentSymbol=o)),n&&n[c&&p.isInsidePlot(f,g,p.inverted)?"show":"hide"]()),(f=i[c]&&i[c].halo)&&f.size?(q||(h.halo=q=p.renderer.path().add(h.seriesGroup)),q.attr(a({fill:jc(this.color||h.color).setOpacity(f.opacity).get()},f.attributes))[d?"animate":"attr"]({d:this.haloPath(f.size)})):q&&q.attr({d:[]}),this.state=c)},haloPath:function(a){var b=this.series,c=b.chart,d=b.getPlotBox(),e=c.inverted;return c.renderer.symbols.circle(d.translateX+(e?b.yAxis.len-this.plotY:this.plotX)-a,d.translateY+(e?b.xAxis.len-this.plotX:this.plotY)-a,2*a,2*a)}}),a(xc.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;b&&b!==this&&b.onMouseOut(),this.options.events.mouseOver&&bc(this,"mouseOver"),this.setState("hover"),a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,d=b.hoverPoint;d&&d.onMouseOut(),this&&a.events.mouseOut&&bc(this,"mouseOut"),c&&!a.stickyTracking&&(!c.shared||this.noSharedTooltip)&&c.hide(),this.setState(),b.hoverSeries=null},setState:function(a){var b=this.options,c=this.graph,d=this.graphNeg,e=b.states,b=b.lineWidth,a=a||"";this.state!==a&&(this.state=a,e[a]&&e[a].enabled===!1||(a&&(b=e[a].lineWidth||b+1),c&&!c.dashstyle&&(a={"stroke-width":b},c.attr(a),d&&d.attr(a))))},setVisible:function(a,b){var c,d=this,e=d.chart,f=d.legendItem,g=e.options.chart.ignoreHiddenSeries,h=d.visible;c=(d.visible=a=d.userOptions.visible=a===P?!h:a)?"show":"hide",Xb(["group","dataLabelsGroup","markerGroup","tracker"],function(a){d[a]&&d[a][c]()}),e.hoverSeries===d&&d.onMouseOut(),f&&e.legend.colorizeItem(d,a),d.isDirty=!0,d.options.stacking&&Xb(e.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)}),Xb(d.linkedSeries,function(b){b.setVisible(a,!1)}),g&&(e.isDirtyBox=!0),b!==!1&&e.redraw(),bc(d,c)},setTooltipPoints:function(a){var b,c,d,e,f=[],g=this.xAxis,h=g&&g.getExtremes(),i=g?g.tooltipLen||g.len:this.chart.plotSizeX,j=[];if(this.options.enableMouseTracking!==!1&&!this.singularTooltips){for(a&&(this.tooltipPoints=null),Xb(this.segments||this.points,function(a){f=f.concat(a)}),g&&g.reversed&&(f=f.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(f),a=f.length,e=0;a>e;e++)if(g=f[e],b=g.x,b>=h.min&&b<=h.max)for(d=f[e+1],b=c===P?0:c+1,c=f[e+1]?qb(pb(0,nb((g.clientX+(d?d.wrappedClientX||d.clientX:i))/2)),i):i;b>=0&&c>=b;)j[b++]=g;this.tooltipPoints=j}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=a===P?!this.selected:a,this.checkbox&&(this.checkbox.checked=a),bc(this,a?"select":"unselect")},drawTracker:Ac.drawTrackerGraph}),u(xc.prototype,"init",function(a){var b;a.apply(this,Array.prototype.slice.call(arguments,1)),(b=this.xAxis)&&b.options.ordinal&&_b(this,"updatedData",function(){delete b.ordinalIndex})}),u(K.prototype,"getTimeTicks",function(a,b,c,d,e,f,g,h){var i,j,k,m,n=0,o=0,p={},q=[],r=-Number.MAX_VALUE,s=this.options.tickPixelInterval;if(!this.options.ordinal||!f||f.length<3||c===P)return a.call(this,b,c,d,e);for(k=f.length;k>o;o++){if(m=o&&f[o-1]>d,f[o]<c&&(n=o),o===k-1||f[o+1]-f[o]>5*g||m){if(f[o]>r){for(i=a.call(this,b,f[n],f[o],e);i.length&&i[0]<=r;)i.shift();i.length&&(r=i[i.length-1]),q=q.concat(i)}n=o+1}if(m)break}if(a=i.info,h&&a.unitRange<=X.hour){for(o=q.length-1,n=1;o>n;n++)new Date(q[n]-Z)[bb]()!==new Date(q[n-1]-Z)[bb]()&&(p[q[n]]="day",j=!0);j&&(p[q[0]]="day"),a.higherRanks=p}if(q.info=a,h&&l(s)){var t,h=a=q.length,o=[];for(j=[];h--;)n=this.translate(q[h]),t&&(j[h]=t-n),o[h]=t=n;for(j.sort(),j=j[nb(j.length/2)],.6*s>j&&(j=null),h=q[a-1]>d?a-1:a,t=void 0;h--;)n=o[h],d=t-n,t&&.8*s>d&&(null===j||.8*j>d)?(p[q[h]]&&!p[q[h+1]]?(d=h+1,t=n):d=h,q.splice(d,1)):t=n}return q}),a(K.prototype,{beforeSetTickPositions:function(){var a,b,c,d=[],e=!1,f=this.getExtremes(),g=f.min,f=f.max;if(this.options.ordinal){if(Xb(this.series,function(b,c){if(b.visible!==!1&&b.takeOrdinalPosition!==!1&&(d=d.concat(b.processedXData),a=d.length,d.sort(function(a,b){return a-b}),a))for(c=a-1;c--;)d[c]===d[c+1]&&d.splice(c,1)}),a=d.length,a>2){for(b=d[1]-d[0],c=a-1;c--&&!e;)d[c+1]-d[c]!==b&&(e=!0);!this.options.keepOrdinalPadding&&(d[0]-g>b||f-d[d.length-1]>b)&&(e=!0)}e?(this.ordinalPositions=d,e=this.val2lin(pb(g,d[0]),!0),b=this.val2lin(qb(f,d[d.length-1]),!0),this.ordinalSlope=f=(f-g)/(b-e),this.ordinalOffset=g-e*f):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=P}this.groupIntervalFactor=null},val2lin:function(a,b){var c=this.ordinalPositions;if(c){var d,e,f=c.length;for(d=f;d--;)if(c[d]===a){e=d;break}for(d=f-1;d--;)if(a>c[d]||0===d){c=(a-c[d])/(c[d+1]-c[d]),e=d+c;break}return b?e:this.ordinalSlope*(e||0)+this.ordinalOffset}return a},lin2val:function(a,b){var c=this.ordinalPositions;if(c){var d,e,f=this.ordinalSlope,g=this.ordinalOffset,h=c.length-1;if(b)0>a?a=c[0]:a>h?a=c[h]:(h=nb(a),e=a-h);else for(;h--;)if(d=f*h+g,a>=d){f=f*(h+1)+g,e=(a-d)/(f-d);break}return e!==P&&c[h]!==P?c[h]+(e?e*(c[h+1]-c[h]):0):a}return a},getExtendedPositions:function(){var a,b,c=this.chart,d=this.series[0].currentDataGrouping,e=this.ordinalIndex,f=d?d.count+d.unitName:"raw",g=this.getExtremes();return e||(e=this.ordinalIndex={}),e[f]||(a={series:[],getExtremes:function(){return{min:g.dataMin,max:g.dataMax}},options:{ordinal:!0},val2lin:K.prototype.val2lin},Xb(this.series,function(e){b={xAxis:a,xData:e.xData,chart:c,destroyGroupedData:Jb},b.options={dataGrouping:d?{enabled:!0,forced:!0,approximation:"open",units:[[d.unitName,[d.count]]]}:{enabled:!1}},e.processData.apply(b),a.series.push(b)}),this.beforeSetTickPositions.apply(a),e[f]=a.ordinalPositions),e[f]},getGroupIntervalFactor:function(a,b,c){var d=0,c=c.processedXData,e=c.length,f=[],g=this.groupIntervalFactor;if(!g){for(;e-1>d;d++)f[d]=c[d+1]-c[d];f.sort(function(a,b){return a-b}),d=f[nb(e/2)],a=pb(a,c[0]),b=qb(b,c[e-1]),this.groupIntervalFactor=g=e*d/(b-a)}return g},postProcessTickInterval:function(a){var b=this.ordinalSlope;return b?a/(b/this.closestPointRange):a}}),u(L.prototype,"pan",function(a,b){var c=this.xAxis[0],d=b.chartX,e=!1;if(c.options.ordinal&&c.series.length){var f,g=this.mouseDownX,h=c.getExtremes(),i=h.dataMax,j=h.min,k=h.max,l=this.hoverPoints,m=c.closestPointRange,g=(g-d)/(c.translationSlope*(c.ordinalSlope||m)),n={ordinalPositions:c.getExtendedPositions()},m=c.lin2val,o=c.val2lin;n.ordinalPositions?rb(g)>1&&(l&&Xb(l,function(a){a.setState()}),0>g?(l=n,f=c.ordinalPositions?c:n):(l=c.ordinalPositions?c:n,f=n),n=f.ordinalPositions,i>n[n.length-1]&&n.push(i),this.fixedRange=k-j,g=c.toFixedRange(null,null,m.apply(l,[o.apply(l,[j,!0])+g,!0]),m.apply(f,[o.apply(f,[k,!0])+g,!0])),g.min>=qb(h.dataMin,j)&&g.max<=pb(i,k)&&c.setExtremes(g.min,g.max,!0,!1,{trigger:"pan"}),this.mouseDownX=d,p(this.container,{cursor:"move"})):e=!0}else e=!0;e&&a.apply(this,Array.prototype.slice.call(arguments,1))}),u(xc.prototype,"getSegments",function(a){var b,c=this.options.gapSize,d=this.xAxis;a.apply(this,Array.prototype.slice.call(arguments,1)),c&&(b=this.segments,Xb(b,function(a,e){for(var f=a.length-1;f--;)a[f+1].x-a[f].x>d.closestPointRange*c&&b.splice(e+1,0,a.splice(f+1,a.length-f))}))});var Bc=xc.prototype,Sb=oc.prototype,Cc=Bc.processData,Dc=Bc.generatePoints,Ec=Bc.destroy,Fc=Sb.tooltipHeaderFormatter,Gc={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:c("millisecond",["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],"second",["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],"minute",["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],"hour",["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],"day",["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],"week",["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],"month",["%B %Y","%B","-%B %Y"],"year",["%Y","%Y","-%Y"])},Hc={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},Ic=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],Jc={sum:function(a){var b,c=a.length;if(!c&&a.hasNulls)b=null;else if(c)for(b=0;c--;)b+=a[c];return b},average:function(a){var b=a.length,a=Jc.sum(a);return"number"==typeof a&&b&&(a/=b),a},open:function(a){return a.length?a[0]:a.hasNulls?null:P},high:function(a){return a.length?B(a):a.hasNulls?null:P},low:function(a){return a.length?A(a):a.hasNulls?null:P},close:function(a){return a.length?a[a.length-1]:a.hasNulls?null:P},ohlc:function(a,b,c,d){return a=Jc.open(a),b=Jc.high(b),c=Jc.low(c),d=Jc.close(d),"number"==typeof a||"number"==typeof b||"number"==typeof c||"number"==typeof d?[a,b,c,d]:void 0},range:function(a,b){return a=Jc.low(a),b=Jc.high(b),"number"==typeof a||"number"==typeof b?[a,b]:void 0}};Bc.groupData=function(a,b,c,d){var e,f,g,h=this.data,i=this.options.data,j=[],k=[],l=a.length,m=!!b,n=[[],[],[],[]],d="function"==typeof d?d:Jc[d],o=this.pointArrayMap,p=o&&o.length;for(g=0;l>=g&&!(a[g]>=c[0]);g++);for(;l>=g;g++){for(;(c[1]!==P&&a[g]>=c[1]||g===l)&&(e=c.shift(),f=d.apply(0,n),f!==P&&(j.push(e),k.push(f)),n[0]=[],n[1]=[],n[2]=[],n[3]=[],g!==l););if(g===l)break;if(o){e=this.cropStart+g,e=h&&h[e]||this.pointClass.prototype.applyOptions.apply({series:this},[i[e]]);var q;for(f=0;p>f;f++)q=e[o[f]],"number"==typeof q?n[f].push(q):null===q&&(n[f].hasNulls=!0)}else e=m?b[g]:null,"number"==typeof e?n[0].push(e):null===e&&(n[0].hasNulls=!0)}return[j,k]},Bc.processData=function(){var a,b=this.chart,c=this.options,d=c.dataGrouping,e=d&&o(d.enabled,b.options._stock);if(this.forceCrop=e,this.groupPixelWidth=null,this.hasProcessed=!0,Cc.apply(this,arguments)!==!1&&e){this.destroyGroupedData();var f=this.processedXData,g=this.processedYData,h=b.plotSizeX,b=this.xAxis,i=b.options.ordinal,j=this.groupPixelWidth=b.getGroupPixelWidth&&b.getGroupPixelWidth(),e=this.pointRange;if(j){a=!0,this.points=null;var k=b.getExtremes(),e=k.min,k=k.max,i=i&&b.getGroupIntervalFactor(e,k,this)||1,h=j*(k-e)/h*i,j=b.getTimeTicks(b.normalizeTimeTickInterval(h,d.units||Ic),e,k,null,f,this.closestPointRange),g=Bc.groupData.apply(this,[f,g,j,d.approximation]),f=g[0],g=g[1];if(d.smoothed){for(d=f.length-1,f[d]=k;d--&&d>0;)f[d]+=h/2;f[0]=e}this.currentDataGrouping=j.info,null===c.pointRange&&(this.pointRange=j.info.totalRange),this.closestPointRange=j.info.totalRange,l(f[0])&&f[0]<b.dataMin&&(b.dataMin=f[0]),this.processedXData=f,this.processedYData=g}else this.currentDataGrouping=null,this.pointRange=e;this.hasGroupedData=a}},Bc.destroyGroupedData=function(){var a=this.groupedData;Xb(a||[],function(b,c){b&&(a[c]=b.destroy?b.destroy():null)}),this.groupedData=null},Bc.generatePoints=function(){Dc.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},Sb.tooltipHeaderFormatter=function(a){var b,c,d=a.series,e=d.tooltipOptions,f=d.options.dataGrouping,g=e.xDateFormat,i=d.xAxis;if(i&&"datetime"===i.options.type&&f&&h(a.key)){if(d=d.currentDataGrouping,f=f.dateTimeLabelFormats,d)i=f[d.unitName],1===d.count?g=i[0]:(g=i[1],b=i[2]);else if(!g&&f)for(c in X)if(X[c]>=i.closestPointRange||X[c]<=X.day&&a.key%X[c]>0){g=f[c][0];break}g=U(g,a.key),b&&(g+=U(b,a.key+d.totalRange-1)),a=e.headerFormat.replace("{point.key}",g)}else a=Fc.call(this,a);return a},Bc.destroy=function(){for(var a=this.groupedData||[],b=a.length;b--;)a[b]&&a[b].destroy();Ec.apply(this)},u(Bc,"setOptions",function(a,c){var d=a.call(this,c),e=this.type,f=this.chart.options.plotOptions,g=fc[e].dataGrouping;return Hc[e]&&(g||(g=b(Gc,Hc[e])),d.dataGrouping=b(g,f.series&&f.series.dataGrouping,f[e].dataGrouping,c.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),d}),u(K.prototype,"setScale",function(a){a.call(this),Xb(this.series,function(a){a.hasProcessed=!1})}),K.prototype.getGroupPixelWidth=function(){var a,b,c=this.series,d=c.length,e=0,f=!1;for(a=d;a--;)(b=c[a].options.dataGrouping)&&(e=pb(e,b.groupPixelWidth));for(a=d;a--;)(b=c[a].options.dataGrouping)&&c[a].hasProcessed&&(d=(c[a].processedXData||c[a].data).length,(c[a].groupPixelWidth||d>this.chart.plotSizeX/e||d&&b.forced)&&(f=!0));return f?e:0},fc.ohlc=b(fc.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null}),Sb=r(Qb.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(a){return[a.open,a.high,a.low,a.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){Qb.column.prototype.getAttribs.apply(this,arguments);var a=this.options,c=a.states,a=a.upColor||this.color,d=b(this.pointAttr),e=this.upColorProp;d[""][e]=a,d.hover[e]=c.hover.upColor||a,d.select[e]=c.select.upColor||a,Xb(this.points,function(a){a.open<a.close&&(a.pointAttr=d)})},translate:function(){var a=this.yAxis;Qb.column.prototype.translate.apply(this),Xb(this.points,function(b){null!==b.open&&(b.plotOpen=a.translate(b.open,0,1,0,1)),null!==b.close&&(b.plotClose=a.translate(b.close,0,1,0,1))})},drawPoints:function(){var a,b,c,d,e,f,g,h,i=this,j=i.chart;Xb(i.points,function(k){k.plotY!==P&&(g=k.graphic,a=k.pointAttr[k.selected?"selected":""]||i.pointAttr[""],d=a["stroke-width"]%2/2,h=mb(k.plotX)-d,e=mb(k.shapeArgs.width/2),f=["M",h,mb(k.yBottom),"L",h,mb(k.plotY)],null!==k.open&&(b=mb(k.plotOpen)+d,f.push("M",h,b,"L",h-e,b)),null!==k.close&&(c=mb(k.plotClose)+d,f.push("M",h,c,"L",h+e,c)),g?g.animate({d:f}):k.graphic=j.renderer.path(f).attr(a).add(i.group))})},animate:null}),Qb.ohlc=Sb,fc.candlestick=b(fc.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:fc.ohlc.tooltip,threshold:null,upColor:"white"}),Sb=r(Sb,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){Qb.ohlc.prototype.getAttribs.apply(this,arguments);var a=this.options,b=a.states,c=a.upLineColor||a.lineColor,d=b.hover.upLineColor||c,e=b.select.upLineColor||c;Xb(this.points,function(a){a.open<a.close&&(a.pointAttr[""].stroke=c,a.pointAttr.hover.stroke=d,a.pointAttr.select.stroke=e)})},drawPoints:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this,n=m.chart,o=m.pointAttr[""];Xb(m.points,function(p){j=p.graphic,p.plotY!==P&&(a=p.pointAttr[p.selected?"selected":""]||o,h=a["stroke-width"]%2/2,i=mb(p.plotX)-h,b=p.plotOpen,c=p.plotClose,d=lb.min(b,c),e=lb.max(b,c),l=mb(p.shapeArgs.width/2),f=mb(d)!==mb(p.plotY),g=e!==p.yBottom,d=mb(d)+h,e=mb(e)+h,k=["M",i-l,e,"L",i-l,d,"L",i+l,d,"L",i+l,e,"Z","M",i,d,"L",i,f?mb(p.plotY):d,"M",i,e,"L",i,g?mb(p.yBottom):e,"Z"],j?j.animate({d:k}):p.graphic=n.renderer.path(k).attr(a).add(m.group).shadow(m.options.shadow))})}}),Qb.candlestick=Sb;var Kc=kc.prototype.symbols;fc.flags=b(fc.column,{dataGrouping:null,fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),Qb.flags=r(Qb.column,{type:"flags",sorted:!1,noSharedTooltip:!0,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:xc.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){Qb.column.prototype.translate.apply(this);var a,b,c,d,e,f=this.chart,g=this.points,h=g.length-1,i=this.options.onSeries,i=(a=i&&f.get(i))&&a.options.step,j=a&&a.points,k=j&&j.length,l=this.xAxis,m=l.getExtremes();if(a&&a.visible&&k)for(a=a.currentDataGrouping,d=j[k-1].x+(a?a.totalRange:0),g.sort(function(a,b){return a.x-b.x});k--&&g[h]&&(a=g[h],c=j[k],!(c.x<=a.x&&c.plotY!==P&&(a.x<=d&&(a.plotY=c.plotY,c.x<a.x&&!i&&(e=j[k+1])&&e.plotY!==P&&(a.plotY+=(a.x-c.x)/(e.x-c.x)*(e.plotY-c.plotY))),h--,k++,0>h))););Xb(g,function(a,c){a.plotY===P&&(a.x>=m.min&&a.x<=m.max?a.plotY=f.chartHeight-l.bottom-(l.opposite?l.height:0)+l.offset-f.plotTop:a.shapeArgs={}),(b=g[c-1])&&b.plotX===a.plotX&&(b.stackIndex===P&&(b.stackIndex=0),a.stackIndex=b.stackIndex+1)})},drawPoints:function(){var a,c,d,e,f,g,h,i,j,k=this.pointAttr[""],l=this.points,m=this.chart.renderer,n=this.options,o=n.y,p=n.lineWidth%2/2;for(f=l.length;f--;)g=l[f],a=g.plotX>this.xAxis.len,c=g.plotX+(a?p:-p),h=g.stackIndex,e=g.options.shape||n.shape,d=g.plotY,d!==P&&(d=g.plotY+o+p-(h!==P&&h*n.stackDistance)),i=h?P:g.plotX+p,j=h?P:g.plotY,h=g.graphic,d!==P&&c>=0&&!a?(a=g.pointAttr[g.selected?"select":""]||k,h?h.attr({x:c,y:d,r:a.r,anchorX:i,anchorY:j}):g.graphic=m.label(g.options.title||n.title||"A",c,d,e,i,j,n.useHTML).css(b(n.style,g.style)).attr(a).attr({align:"flag"===e?"left":"center",width:n.width,height:n.height}).add(this.markerGroup).shadow(n.shadow),g.tooltipPos=[c,d]):h&&(g.graphic=h.destroy())},drawTracker:function(){var a=this.points;Ac.drawTrackerPoint.apply(this),Xb(a,function(b){var c=b.graphic;c&&_b(c.element,"mouseover",function(){b.stackIndex>0&&!b.raised&&(b._y=c.y,c.attr({y:b._y-8}),b.raised=!0),Xb(a,function(a){a!==b&&a.raised&&a.graphic&&(a.graphic.attr({y:a._y}),a.raised=!1)})})})},animate:Jb}),Kc.flag=function(a,b,c,d,e){var f=e&&e.anchorX||a,e=e&&e.anchorY||b;return["M",f,e,"L",a,b+d,a,b,a+c,b,a+c,b+d,a,b+d,"M",f,e,"Z"]},Xb(["circle","square"],function(a){Kc[a+"pin"]=function(b,c,d,e,f){var g=f&&f.anchorX,f=f&&f.anchorY,b=Kc[a](b,c,d,e);return g&&f&&b.push("M",g,c>f?c:c+e,"L",g,f),b}}),Q===Rb.VMLRenderer&&Xb(["flag","circlepin","squarepin"],function(a){lc.prototype.symbols[a]=Kc[a]}),Sb=[].concat(Ic),Sb[4]=["day",[1,2,3,4]],Sb[5]=["week",[1,2,3]],a(T,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:Qb.areaspline===P?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:Sb},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:Cb?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:Eb&&!Cb}}),N.prototype={drawHandle:function(a,b){var c,d=this.chart,e=d.renderer,f=this.elementsToDestroy,g=this.handles,h=this.navigatorOptions.handles,h={fill:h.backgroundColor,stroke:h.borderColor,"stroke-width":1};
this.rendered||(g[b]=e.g("navigator-handle-"+["left","right"][b]).css({cursor:"e-resize"}).attr({zIndex:4-b}).add(),c=e.rect(-4.5,0,9,16,0,1).attr(h).add(g[b]),f.push(c),c=e.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(h).add(g[b]),f.push(c)),g[b][d.isResizing?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(a,10),translateY:this.top+this.height/2-8})},drawScrollbarButton:function(a){var b,c=this.chart.renderer,d=this.elementsToDestroy,e=this.scrollbarButtons,f=this.scrollbarHeight,g=this.scrollbarOptions;this.rendered||(e[a]=c.g().add(this.scrollbarGroup),b=c.rect(-.5,-.5,f+1,f+1,g.buttonBorderRadius,g.buttonBorderWidth).attr({stroke:g.buttonBorderColor,"stroke-width":g.buttonBorderWidth,fill:g.buttonBackgroundColor}).add(e[a]),d.push(b),b=c.path(["M",f/2+(a?-1:1),f/2-3,"L",f/2+(a?-1:1),f/2+3,f/2+(a?2:-2),f/2]).attr({fill:g.buttonArrowColor}).add(e[a]),d.push(b)),a&&e[a].attr({translateX:this.scrollerWidth-f})},render:function(a,b,c,d){var e,f,g,h,i,j=this.chart,k=j.renderer,l=this.scrollbarGroup,m=this.navigatorGroup,n=this.scrollbar,m=this.xAxis,p=this.scrollbarTrack,q=this.scrollbarHeight,r=this.scrollbarEnabled,s=this.navigatorOptions,t=this.scrollbarOptions,u=t.minWidth,v=this.height,w=this.top,x=this.navigatorEnabled,y=s.outlineWidth,z=y/2,A=0,B=this.outlineHeight,C=t.barBorderRadius,D=t.barBorderWidth,E=w+z;isNaN(a)||(this.navigatorLeft=e=o(m.left,j.plotLeft+q),this.navigatorWidth=f=o(m.len,j.plotWidth-2*q),this.scrollerLeft=g=e-q,this.scrollerWidth=h=h=f+2*q,m.getExtremes&&(i=this.getUnionExtremes(!0))&&(i.dataMin!==m.min||i.dataMax!==m.max)&&m.setExtremes(i.dataMin,i.dataMax,!0,!1),c=o(c,m.translate(a)),d=o(d,m.translate(b)),(isNaN(c)||1/0===rb(c))&&(c=0,d=h),m.translate(d,!0)-m.translate(c,!0)<j.xAxis[0].minRange||(this.zoomedMax=qb(pb(c,d),f),this.zoomedMin=pb(this.fixedWidth?this.zoomedMax-this.fixedWidth:qb(c,d),0),this.range=this.zoomedMax-this.zoomedMin,c=mb(this.zoomedMax),b=mb(this.zoomedMin),a=c-b,this.rendered||(x&&(this.navigatorGroup=m=k.g("navigator").attr({zIndex:3}).add(),this.leftShade=k.rect().attr({fill:s.maskFill}).add(m),s.maskInside||(this.rightShade=k.rect().attr({fill:s.maskFill}).add(m)),this.outline=k.path().attr({"stroke-width":y,stroke:s.outlineColor}).add(m)),r&&(this.scrollbarGroup=l=k.g("scrollbar").add(),n=t.trackBorderWidth,this.scrollbarTrack=p=k.rect().attr({x:0,y:-n%2/2,fill:t.trackBackgroundColor,stroke:t.trackBorderColor,"stroke-width":n,r:t.trackBorderRadius||0,height:q}).add(l),this.scrollbar=n=k.rect().attr({y:-D%2/2,height:q,fill:t.barBackgroundColor,stroke:t.barBorderColor,"stroke-width":D,r:C}).add(l),this.scrollbarRifles=k.path().attr({stroke:t.rifleColor,"stroke-width":1}).add(l))),j=j.isResizing?"animate":"attr",x&&(this.leftShade[j](s.maskInside?{x:e+b,y:w,width:c-b,height:v}:{x:e,y:w,width:b,height:v}),this.rightShade&&this.rightShade[j]({x:e+c,y:w,width:f-c,height:v}),this.outline[j]({d:["M",g,E,"L",e+b+z,E,e+b+z,E+B,"L",e+c-z,E+B,"L",e+c-z,E,g+h,E].concat(s.maskInside?["M",e+b+z,E,"L",e+c-z,E]:[])}),this.drawHandle(b+z,0),this.drawHandle(c+z,1)),r&&l&&(this.drawScrollbarButton(0),this.drawScrollbarButton(1),l[j]({translateX:g,translateY:mb(E+v)}),p[j]({width:h}),e=q+b,f=a-D,u>f&&(A=(u-f)/2,f=u,e-=A),this.scrollbarPad=A,n[j]({x:nb(e)+D%2/2,width:f}),u=q+b+a/2-.5,this.scrollbarRifles.attr({visibility:a>12?"visible":"hidden"})[j]({d:["M",u-3,q/4,"L",u-3,2*q/3,"M",u,q/4,"L",u,2*q/3,"M",u+3,q/4,"L",u+3,2*q/3]})),this.scrollbarPad=A,this.rendered=!0))},addEvents:function(){var a,b=this.chart.container,c=this.mouseDownHandler,d=this.mouseMoveHandler,e=this.mouseUpHandler;a=[[b,"mousedown",c],[b,"mousemove",d],[document,"mouseup",e]],R&&a.push([b,"touchstart",c],[b,"touchmove",d],[document,"touchend",e]),Xb(a,function(a){_b.apply(null,a)}),this._events=a},removeEvents:function(){Xb(this._events,function(a){ac.apply(null,a)}),this._events=P,this.navigatorEnabled&&this.baseSeries&&ac(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var a,c,d,e,f,g=this,h=g.chart,i=g.scrollbarHeight,j=g.navigatorOptions,k=g.height,l=g.top,m=document.body.style,n=g.baseSeries;g.mouseDownHandler=function(b){var c,b=h.pointer.normalize(b),e=g.zoomedMin,i=g.zoomedMax,j=g.top,l=g.scrollbarHeight,n=g.scrollerLeft,o=g.scrollerWidth,p=g.navigatorLeft,q=g.navigatorWidth,r=g.scrollbarPad,s=g.range,t=b.chartX,u=b.chartY,b=h.xAxis[0],v=Cb?10:7;u>j&&j+k+l>u&&((j=!g.scrollbarEnabled||j+k>u)&&lb.abs(t-e-p)<v?(g.grabbedLeft=!0,g.otherHandlePos=i,g.fixedExtreme=b.max,h.fixedRange=null):j&&lb.abs(t-i-p)<v?(g.grabbedRight=!0,g.otherHandlePos=e,g.fixedExtreme=b.min,h.fixedRange=null):t>p+e-r&&p+i+r>t?(g.grabbedCenter=t,g.fixedWidth=s,h.renderer.isSVG&&(f=m.cursor,m.cursor="ew-resize"),d=t-e):t>n&&n+o>t&&(i=j?t-p-s/2:p>t?e-.2*s:t>n+o-l?e+.2*s:p+e>t?e-s:i,0>i?i=0:i+s>=q&&(i=q-s,c=a.dataMax),i!==e&&(g.fixedWidth=s,e=a.toFixedRange(i,i+s,null,c),b.setExtremes(e.min,e.max,!0,!1,{trigger:"navigator"}))))},g.mouseMoveHandler=function(a){var b,c=g.scrollbarHeight,f=g.navigatorLeft,i=g.navigatorWidth,j=g.scrollerLeft,k=g.scrollerWidth,l=g.range;0!==a.pageX&&(a=h.pointer.normalize(a),b=a.chartX,f>b?b=f:b>j+k-c&&(b=j+k-c),g.grabbedLeft?(e=!0,g.render(0,0,b-f,g.otherHandlePos)):g.grabbedRight?(e=!0,g.render(0,0,g.otherHandlePos,b-f)):g.grabbedCenter&&(e=!0,d>b?b=d:b>i+d-l&&(b=i+d-l),g.render(0,0,b-d,b-d+l)),e&&g.scrollbarOptions.liveRedraw&&setTimeout(function(){g.mouseUpHandler(a)},0))},g.mouseUpHandler=function(b){var c,i;e&&(g.zoomedMin===g.otherHandlePos?c=g.fixedExtreme:g.zoomedMax===g.otherHandlePos&&(i=g.fixedExtreme),c=a.toFixedRange(g.zoomedMin,g.zoomedMax,c,i),h.xAxis[0].setExtremes(c.min,c.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:b})),"mousemove"!==b.type&&(g.grabbedLeft=g.grabbedRight=g.grabbedCenter=g.fixedWidth=g.fixedExtreme=g.otherHandlePos=e=d=null,m.cursor=f||"")};var p=h.xAxis.length,q=h.yAxis.length;h.extraBottomMargin=g.outlineHeight+j.margin,g.navigatorEnabled?(g.xAxis=a=new K(h,b({ordinal:n&&n.xAxis.options.ordinal},j.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:p,height:k,offset:0,offsetLeft:i,offsetRight:-i,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),g.yAxis=c=new K(h,b(j.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:k,offset:0,index:q,zoomEnabled:!1})),n||j.series.data?g.addBaseSeries():0===h.series.length&&u(h,"redraw",function(a,b){h.series.length>0&&!g.series&&(g.setBaseSeries(),h.redraw=a),a.call(h,b)})):g.xAxis=a={translate:function(a,b){var c=h.xAxis[0].getExtremes(),d=h.plotWidth-2*i,e=c.dataMin,c=c.dataMax-e;return b?a*c/d+e:d*(a-e)/c},toFixedRange:K.prototype.toFixedRange},u(h,"getMargins",function(b){var d=this.legend,e=d.options;b.call(this),g.top=l=g.navigatorOptions.top||this.chartHeight-g.height-g.scrollbarHeight-this.spacing[2]-("bottom"===e.verticalAlign&&e.enabled&&!e.floating?d.legendHeight+o(e.margin,10):0),a&&c&&(a.options.top=c.options.top=l,a.setAxisSize(),c.setAxisSize())}),g.addEvents()},getUnionExtremes:function(a){var b=this.chart.xAxis[0],c=this.xAxis,d=c.options;return a&&null===b.dataMin?void 0:{dataMin:o(d&&d.min,(l(b.dataMin)&&l(c.dataMin)?qb:o)(b.dataMin,c.dataMin)),dataMax:o(d&&d.max,(l(b.dataMax)&&l(c.dataMax)?pb:o)(b.dataMax,c.dataMax))}},setBaseSeries:function(a){var b=this.chart,a=a||b.options.navigator.baseSeries;this.series&&this.series.remove(),this.baseSeries=b.series[a]||"string"==typeof a&&b.get(a)||b.series[0],this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var c,d=this.baseSeries,e=d?d.options:{},f=e.data,g=this.navigatorOptions.series;c=g.data,this.hasNavigatorData=!!c,e=b(e,g,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0}),e.data=c||f,this.series=this.chart.initSeries(e),d&&this.navigatorOptions.adaptToUpdatedData!==!1&&(_b(d,"updatedData",this.updatedDataHandler),d.userOptions.events=a(d.userOptions.event,{updatedData:this.updatedDataHandler}))},updatedDataHandler:function(){var a,b,c,d,e,f=this.chart.scroller,g=f.baseSeries,h=g.xAxis,i=h.getExtremes(),j=i.min,k=i.max,l=i.dataMin,i=i.dataMax,m=k-j,n=f.series;a=n.xData;var o=!!h.setExtremes;b=k>=a[a.length-1]-(this.closestPointRange||0),a=l>=j,f.hasNavigatorData||(n.options.pointStart=g.xData[0],n.setData(g.options.data,!1),e=!0),a&&(d=l,c=d+m),b&&(c=i,a||(d=pb(c-m,n.xData[0]))),o&&(a||b)?isNaN(d)||h.setExtremes(d,c,!0,!1,{trigger:"updatedData"}):(e&&this.chart.redraw(!1),f.render(pb(j,l),qb(k,i)))},destroy:function(){this.removeEvents(),Xb([this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline,this.scrollbarTrack,this.scrollbarRifles,this.scrollbarGroup,this.scrollbar],function(a){a&&a.destroy&&a.destroy()}),this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=this.scrollbarTrack=this.scrollbarRifles=this.scrollbarGroup=this.scrollbar=null,Xb([this.scrollbarButtons,this.handles,this.elementsToDestroy],function(a){C(a)})}},Rb.Scroller=N,u(K.prototype,"zoom",function(a,b,c){var d,e=this.chart,f=e.options,g=f.chart.zoomType,h=f.navigator,f=f.rangeSelector;return this.isXAxis&&(h&&h.enabled||f&&f.enabled)&&("x"===g?e.resetZoomButton="blocked":"y"===g?d=!1:"xy"===g&&(e=this.previousZoom,l(b)?this.previousZoom=[this.min,this.max]:e&&(b=e[0],c=e[1],delete this.previousZoom))),d!==P?d:a.call(this,b,c)}),u(L.prototype,"init",function(a,b,c){_b(this,"beforeRender",function(){var a=this.options;(a.navigator.enabled||a.scrollbar.enabled)&&(this.scroller=new N(this))}),a.call(this,b,c)}),u(xc.prototype,"addPoint",function(a,b,c,d,e){var h=this.options.turboThreshold;h&&this.xData.length>h&&f(b)&&!g(b)&&this.chart.scroller&&E(20,!0),a.call(this,b,c,d,e)}),a(T,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),T.lang=b(T.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),O.prototype={clickButton:function(a,c){var d,e,f=this,g=f.selected,h=f.chart,i=f.buttons,j=f.buttonOptions[a],k=h.xAxis[0],l=h.scroller&&h.scroller.getUnionExtremes()||k||{},m=l.dataMin,n=l.dataMax,p=k&&mb(qb(k.max,o(n,k.max))),q=new Date(p),r=j.type,s=j.count,l=j._range;if(null!==m&&null!==n&&a!==f.selected){if("month"===r||"year"===r)d={month:"Month",year:"FullYear"}[r],q["set"+d](q["get"+d]()-s),d=q.getTime(),m=o(m,Number.MIN_VALUE),isNaN(d)||m>d?(d=m,p=qb(d+l,n)):l=p-d;else if(l)d=pb(p-l,m),p=qb(d+l,n);else if("ytd"===r){if(!k)return void _b(h,"beforeRender",function(){f.clickButton(a)});n===P&&(m=Number.MAX_VALUE,n=Number.MIN_VALUE,Xb(h.series,function(a){a=a.xData,m=qb(a[0],m),n=pb(a[a.length-1],n)}),c=!1),p=new Date(n),e=p.getFullYear(),d=e=pb(m||0,Date.UTC(e,0,1)),p=p.getTime(),p=qb(n||p,p)}else"all"===r&&k&&(d=m,p=n);i[g]&&i[g].setState(0),i[a]&&i[a].setState(2),h.fixedRange=l,k?k.setExtremes(d,p,o(c,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:j}):(g=h.options.xAxis,g[0]=b(g[0],{range:l,min:e})),f.setSelected(a)}},setSelected:function(a){this.selected=this.options.selected=a},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(a){var b=this,c=a.options.rangeSelector,d=c.buttons||[].concat(b.defaultButtons),e=c.selected,f=b.blurInputs=function(){var a=b.minInput,c=b.maxInput;a&&a.blur(),c&&c.blur()};b.chart=a,b.options=c,b.buttons=[],a.extraTopMargin=35,b.buttonOptions=d,_b(a.container,"mousedown",f),_b(a,"resize",f),Xb(d,b.computeButtonRange),e!==P&&d[e]&&this.clickButton(e,!1),_b(a,"load",function(){_b(a.xAxis[0],"afterSetExtremes",function(){b.updateButtonStates(!0)})})},updateButtonStates:function(a){var b=this,c=this.chart,d=c.xAxis[0],e=c.scroller&&c.scroller.getUnionExtremes()||d,f=e.dataMin,g=e.dataMax,h=b.selected,i=b.buttons;a&&c.fixedRange!==mb(d.max-d.min)&&(i[h]&&i[h].setState(0),b.setSelected(null)),Xb(b.buttonOptions,function(a,c){var e=a._range,j=e>g-f,k=e<d.minRange,l="all"===a.type&&d.max-d.min>=g-f&&2!==i[c].state,m="ytd"===a.type&&U("%Y",f)===U("%Y",g);e===mb(d.max-d.min)&&c!==h?(b.setSelected(c),i[c].setState(2)):j||k||l||m?i[c].setState(3):3===i[c].state&&i[c].setState(0)})},computeButtonRange:function(a){var b=a.type,c=a.count||1,d={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};d[b]?a._range=d[b]*c:("month"===b||"year"===b)&&(a._range=864e5*{month:30,year:365}[b]*c)},setInputValue:function(a,b){var c=this.chart.options.rangeSelector;l(b)&&(this[a+"Input"].HCTime=b),this[a+"Input"].value=U(c.inputEditDateFormat||"%Y-%m-%d",this[a+"Input"].HCTime),this[a+"DateBox"].attr({text:U(c.inputDateFormat||"%b %e, %Y",this[a+"Input"].HCTime)})},drawInput:function(c){var e,f,g,h=this,i=h.chart,j=i.renderer.style,k=i.renderer,l=i.options.rangeSelector,m=h.div,n="min"===c,o=this.inputGroup;this[c+"Label"]=f=k.label(T.lang[n?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(b(j,l.labelStyle)).add(o),o.offset+=f.width+5,this[c+"DateBox"]=g=k.label("",o.offset).attr({padding:2,width:l.inputBoxWidth||90,height:l.inputBoxHeight||17,stroke:l.inputBoxBorderColor||"silver","stroke-width":1}).css(b({textAlign:"center",color:"#444"},j,l.inputStyle)).on("click",function(){h[c+"Input"].focus()}).add(o),o.offset+=g.width+(n?10:0),this[c+"Input"]=e=q("input",{name:c,className:"highcharts-range-selector",type:"text"},a({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:j.fontSize,fontFamily:j.fontFamily,top:i.plotTop+"px"},l.inputStyle),m),e.onfocus=function(){p(this,{left:o.translateX+g.x+"px",top:o.translateY+"px",width:g.width-2+"px",height:g.height-2+"px",border:"2px solid silver"})},e.onblur=function(){p(this,{border:0,width:"1px",height:"1px"}),h.setInputValue(c)},e.onchange=function(){var a=e.value,b=(l.inputDateParser||Date.parse)(a),c=i.xAxis[0],f=c.dataMin,g=c.dataMax;isNaN(b)&&(b=a.split("-"),b=Date.UTC(d(b[0]),d(b[1])-1,d(b[2]))),isNaN(b)||(T.global.useUTC||(b+=6e4*(new Date).getTimezoneOffset()),n?b>h.maxInput.HCTime?b=P:f>b&&(b=f):b<h.minInput.HCTime?b=P:b>g&&(b=g),b!==P&&i.xAxis[0].setExtremes(n?b:c.min,n?c.max:b,P,P,{trigger:"rangeSelectorInput"}))}},render:function(b,c){var d,e=this,f=e.chart,g=f.renderer,h=f.container,i=f.options,j=i.exporting&&i.navigation&&i.navigation.buttonOptions,k=i.rangeSelector,l=e.buttons,i=T.lang,m=e.div,m=e.inputGroup,n=k.buttonTheme,p=k.inputEnabled!==!1,r=n&&n.states,s=f.plotLeft;!e.rendered&&(e.zoomText=g.text(i.rangeSelectorZoom,s,f.plotTop-20).css(k.labelStyle).add(),d=s+e.zoomText.getBBox().width+5,Xb(e.buttonOptions,function(a,b){l[b]=g.button(a.text,d,f.plotTop-35,function(){e.clickButton(b),e.isActive=!0},n,r&&r.hover,r&&r.select).css({textAlign:"center"}).add(),d+=l[b].width+o(k.buttonSpacing,5),e.selected===b&&l[b].setState(2)}),e.updateButtonStates(),p)&&(e.div=m=q("div",null,{position:"relative",height:0,zIndex:1}),h.parentNode.insertBefore(m,h),e.inputGroup=m=g.g("input-group").add(),m.offset=0,e.drawInput("min"),e.drawInput("max")),p&&(h=f.plotTop-45,m.align(a({y:h,width:m.offset,x:j&&h<(j.y||0)+j.height-f.spacing[0]?-40:0},k.inputPosition),!0,f.spacingBox),e.setInputValue("min",b),e.setInputValue("max",c)),e.rendered=!0},destroy:function(){var a,b=this.minInput,c=this.maxInput,d=this.chart,e=this.blurInputs;ac(d.container,"mousedown",e),ac(d,"resize",e),C(this.buttons),b&&(b.onfocus=b.onblur=b.onchange=null),c&&(c.onfocus=c.onblur=c.onchange=null);for(a in this)this[a]&&"chart"!==a&&(this[a].destroy?this[a].destroy():this[a].nodeType&&D(this[a])),this[a]=null}},K.prototype.toFixedRange=function(a,b,c,d){var e=this.chart&&this.chart.fixedRange,a=o(c,this.translate(a,!0)),b=o(d,this.translate(b,!0)),c=e&&(b-a)/e;return c>.7&&1.3>c&&(d?a=b-e:b=a+e),{min:a,max:b}},u(L.prototype,"init",function(a,b,c){_b(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new O(this))}),a.call(this,b,c)}),Rb.RangeSelector=O,L.prototype.callbacks.push(function(a){function b(){f=a.xAxis[0].getExtremes(),g.render(f.min,f.max)}function c(){f=a.xAxis[0].getExtremes(),isNaN(f.min)||h.render(f.min,f.max)}function d(a){"navigator-drag"!==a.triggerOp&&g.render(a.min,a.max)}function e(a){h.render(a.min,a.max)}var f,g=a.scroller,h=a.rangeSelector;g&&(_b(a.xAxis[0],"afterSetExtremes",d),u(a,"drawChartBox",function(a){var c=this.isDirtyBox;a.call(this),c&&b()}),b()),h&&(_b(a.xAxis[0],"afterSetExtremes",e),_b(a,"resize",c),c()),_b(a,"destroy",function(){g&&ac(a.xAxis[0],"afterSetExtremes",d),h&&(ac(a,"resize",c),ac(a.xAxis[0],"afterSetExtremes",e))})}),Rb.StockChart=function(a,c){var d,e=a.series,f=o(a.navigator&&a.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,g={marker:{enabled:!1,radius:2},states:{hover:{lineWidth:2}}},h={shadow:!1,borderWidth:0};return a.xAxis=$b(n(a.xAxis||{}),function(a){return b({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},a,{type:"datetime",categories:null},f)}),a.yAxis=$b(n(a.yAxis||{}),function(a){return d=o(a.opposite,!0),b({labels:{y:-2},opposite:d,showLastLabel:!1,title:{text:null}},a)}),a.series=null,a=b({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:g,spline:g,area:g,areaspline:g,arearange:g,areasplinerange:g,column:h,columnrange:h,candlestick:h,ohlc:h}},a,{_stock:!0,chart:{inverted:!1}}),a.series=e,new L(a,c)},u(qc.prototype,"init",function(a,b,c){var d=c.chart.pinchType||"";a.call(this,b,c),this.pinchX=this.pinchHor=-1!==d.indexOf("x"),this.pinchY=this.pinchVert=-1!==d.indexOf("y"),this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert}),u(K.prototype,"autoLabelAlign",function(a){return this.chart.options._stock&&"yAxis"===this.coll&&0===Wb(this,this.chart.yAxis)?(15===this.options.labels.x&&(this.options.labels.x=0),"right"):a.call(this)}),K.prototype.getPlotLinePath=function(a,b,c,d,e){var f,g,h,i,j,k,m=this,n=this.isLinked&&!this.series?this.linkedParent.series:this.series,p=m.chart,q=p.renderer,r=m.left,s=m.top,t=[];return j=m.isXAxis?l(m.options.yAxis)?[p.yAxis[m.options.yAxis]]:$b(n,function(a){return a.yAxis}):l(m.options.xAxis)?[p.xAxis[m.options.xAxis]]:$b(n,function(a){return a.xAxis}),Xb(m.isXAxis?p.yAxis:p.xAxis,function(a){if(l(a.options.id)?-1===a.options.id.indexOf("navigator"):1){var b=a.isXAxis?"yAxis":"xAxis",b=l(a.options[b])?p[b][a.options[b]]:p[b][0];m===b&&j.push(a)}}),k=j.length?[]:[m],Xb(j,function(a){-1===Wb(a,k)&&k.push(a)}),e=o(e,m.translate(a,null,null,c)),isNaN(e)||(m.horiz?Xb(k,function(a){g=a.top,i=g+a.len,f=h=mb(e+m.transB),(f>=r&&f<=r+m.width||d)&&t.push("M",f,g,"L",h,i)}):Xb(k,function(a){f=a.left,h=f+a.width,g=i=mb(s+m.height-e),(g>=s&&g<=s+m.height||d)&&t.push("M",f,g,"L",h,i)})),t.length>0?q.crispPolyLine(t,b||1):void 0},K.prototype.getPlotBandPath=function(a,b){var c,d=this.getPlotLinePath(b),e=this.getPlotLinePath(a),f=[];if(e&&d)for(c=0;c<e.length;c+=6)f.push("M",e[c+1],e[c+2],"L",e[c+4],e[c+5],d[c+4],d[c+5],d[c+1],d[c+2]);else f=null;return f},kc.prototype.crispPolyLine=function(a,b){var c;for(c=0;c<a.length;c+=6)a[c+1]===a[c+4]&&(a[c+1]=a[c+4]=mb(a[c+1])-b%2/2),a[c+2]===a[c+5]&&(a[c+2]=a[c+5]=mb(a[c+2])+b%2/2);return a},Q===Rb.VMLRenderer&&(lc.prototype.crispPolyLine=kc.prototype.crispPolyLine),u(K.prototype,"hideCrosshair",function(a,b){a.call(this,b),l(this.crossLabelArray)&&(l(b)?this.crossLabelArray[b]&&this.crossLabelArray[b].hide():Xb(this.crossLabelArray,function(a){a.hide()}))}),u(K.prototype,"drawCrosshair",function(b,c,d){var e,f;if(b.call(this,c,d),l(this.crosshair.label)&&this.crosshair.label.enabled&&l(d)){var g,h,b=this.chart,i=this.options.crosshair.label,j=this.isXAxis?"x":"y",c=this.horiz,k=this.opposite,m=this.left,n=this.top,p=this.crossLabel,q=i.format,r="";p||(p=this.crossLabel=b.renderer.label().attr({align:i.align||(c?"center":k?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center"),zIndex:12,height:c?16:P,fill:i.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:o(i.padding,2),stroke:i.borderColor||null,"stroke-width":i.borderWidth||0}).css(a({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},i.style)).add()),c?(g=d.plotX+m,h=n+(k?0:this.height)):(g=k?this.width+m:0,h=d.plotY+n),n>h||h>n+this.height?this.hideCrosshair():(!q&&!i.formatter&&(this.isDatetimeAxis&&(r="%b %d, %Y"),q="{value"+(r?":"+r:"")+"}"),p.attr({text:q?v(q,{value:d[j]}):i.formatter.call(this,d[j]),x:g,y:h,visibility:"visible"}),d=p.getBBox(),c?("inside"===this.options.tickPosition&&!k||"inside"!==this.options.tickPosition&&k)&&(h=p.y-d.height):h=p.y-d.height/2,c?(e=m-d.x,f=m+this.width-d.x):(e="left"===this.labelAlign?m:0,f="right"===this.labelAlign?m+this.width:b.chartWidth),p.translateX<e&&(g+=e-p.translateX),p.translateX+d.width>=f&&(g-=p.translateX+d.width-f),p.attr({x:g,y:h,visibility:"visible"}))}});var Lc=Bc.init,Mc=Bc.processData,Nc=wc.prototype.tooltipFormatter;Bc.init=function(){Lc.apply(this,arguments),this.setCompare(this.options.compare)},Bc.setCompare=function(a){this.modifyValue="value"===a||"percent"===a?function(b,c){var d=this.compareValue;return b!==P&&(b="value"===a?b-d:b=100*(b/d)-100,c)&&(c.change=b),b}:null,this.chart.hasRendered&&(this.isDirty=!0)},Bc.processData=function(){var a,b,c,d=0;if(Mc.apply(this,arguments),this.xAxis&&this.processedYData)for(a=this.processedXData,b=this.processedYData,c=b.length;c>d;d++)if("number"==typeof b[d]&&a[d]>=this.xAxis.min){this.compareValue=b[d];break}},u(Bc,"getExtremes",function(a){a.call(this),this.modifyValue&&(this.dataMax=this.modifyValue(this.dataMax),this.dataMin=this.modifyValue(this.dataMin))}),K.prototype.setCompare=function(a,b){this.isXAxis||(Xb(this.series,function(b){b.setCompare(a)}),o(b,!0)&&this.chart.redraw())},wc.prototype.tooltipFormatter=function(a){return a=a.replace("{point.change}",(this.change>0?"+":"")+s(this.change,o(this.series.tooltipOptions.changeDecimals,2))),Nc.apply(this,[a])},u(xc.prototype,"render",function(a){this.isCartesian&&this.chart.options._stock&&(this.clipBox?this.chart[this.sharedClipKey]&&this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}):(this.clipBox=b(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len)),a.call(this)}),a(Rb,{Axis:K,Chart:L,Color:jc,Point:wc,Tick:J,Renderer:Q,Series:xc,SVGElement:I,SVGRenderer:kc,arrayMin:A,arrayMax:B,charts:Kb,dateFormat:U,format:v,pathAnim:W,getOptions:function(){return T},hasBidiBug:Fb,isTouchDevice:Cb,numberFormat:s,seriesTypes:Qb,setOptions:function(a){return T=b(!0,T,a),H(),T},addEvent:_b,removeEvent:ac,createElement:q,discardElement:D,css:p,each:Xb,extend:a,map:$b,merge:b,pick:o,splat:n,extendClass:r,pInt:d,wrap:u,svg:Eb,canvas:Gb,vml:!Eb&&!Gb,product:"Highstock",version:"2.0.1"})}(),function(a,b,c){"use strict";function d(a){return function(){var b,c,d=arguments[0],e="["+(a?a+":":"")+d+"] ",f=arguments[1],g=arguments,h=function(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof a?"undefined":"string"!=typeof a?JSON.stringify(a):a};for(b=e+f.replace(/\{\d+\}/g,function(a){var b,c=+a.slice(1,-1);return c+2<g.length?(b=g[c+2],"function"==typeof b?b.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof b?"undefined":"string"!=typeof b?Q(b):b):a}),b=b+"\nhttp://errors.angularjs.org/1.2.23/"+(a?a+"/":"")+d,c=2;c<arguments.length;c++)b=b+(2==c?"?":"&")+"p"+(c-2)+"="+encodeURIComponent(h(arguments[c]));return new Error(b)}}function e(a){if(null==a||z(a))return!1;var b=a.length;return 1===a.nodeType&&b?!0:u(a)||Cd(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function f(a,b,c){var d;if(a)if(x(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d);else if(Cd(a)||e(a))for(d=0;d<a.length;d++)b.call(c,a[d],d);else if(a.forEach&&a.forEach!==f)a.forEach(b,c);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d);return a}function g(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function h(a,b,c){for(var d=g(a),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function i(a){return function(b,c){a(c,b)}}function j(){for(var a,b=Bd.length;b;){if(b--,a=Bd[b].charCodeAt(0),57==a)return Bd[b]="A",Bd.join("");if(90!=a)return Bd[b]=String.fromCharCode(a+1),Bd.join("");Bd[b]="0"}return Bd.unshift("0"),Bd.join("")}function k(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function l(a){var b=a.$$hashKey;return f(arguments,function(b){b!==a&&f(b,function(b,c){a[c]=b})}),k(a,b),a}function m(a){return parseInt(a,10)}function n(a,b){return l(new(l(function(){},{prototype:a})),b)}function o(){}function p(a){return a}function q(a){return function(){return a}}function r(a){return"undefined"==typeof a}function s(a){return"undefined"!=typeof a}function t(a){return null!=a&&"object"==typeof a}function u(a){return"string"==typeof a}function v(a){return"number"==typeof a}function w(a){return"[object Date]"===yd.call(a)}function x(a){return"function"==typeof a}function y(a){return"[object RegExp]"===yd.call(a)}function z(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function A(a){return a&&a.$evalAsync&&a.$watch}function B(a){return"[object File]"===yd.call(a)}function C(a){return"[object Blob]"===yd.call(a)}function D(a){return a&&x(a.then)}function E(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function F(a,b,c){var d=[];return f(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d}function G(a,b){return-1!=H(a,b)}function H(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}function I(a,b){var c=H(a,b);return c>=0&&a.splice(c,1),b}function J(a,b,c,d){if(z(a)||A(a))throw zd("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(b){if(a===b)throw zd("cpi","Can't copy! Source and destination are identical.");if(c=c||[],d=d||[],t(a)){var e=H(c,a);if(-1!==e)return d[e];c.push(a),d.push(b)}var g;if(Cd(a)){b.length=0;for(var h=0;h<a.length;h++)g=J(a[h],null,c,d),t(a[h])&&(c.push(a[h]),d.push(g)),b.push(g)}else{var i=b.$$hashKey;Cd(b)?b.length=0:f(b,function(a,c){delete b[c]});for(var j in a)g=J(a[j],null,c,d),t(a[j])&&(c.push(a[j]),d.push(g)),b[j]=g;k(b,i)}}else b=a,a&&(Cd(a)?b=J(a,[],c,d):w(a)?b=new Date(a.getTime()):y(a)?(b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex):t(a)&&(b=J(a,{},c,d)));return b}function K(a,b){if(Cd(a)){b=b||[];for(var c=0;c<a.length;c++)b[c]=a[c]}else if(t(a)){b=b||{};for(var d in a)!nd.call(a,d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(b[d]=a[d])}return b||a}function L(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d,e,f,g=typeof a,h=typeof b;if(g==h&&"object"==g){if(!Cd(a)){if(w(a))return w(b)?isNaN(a.getTime())&&isNaN(b.getTime())||a.getTime()===b.getTime():!1;if(y(a)&&y(b))return a.toString()==b.toString();if(A(a)||A(b)||z(a)||z(b)||Cd(b))return!1;f={};for(e in a)if("$"!==e.charAt(0)&&!x(a[e])){if(!L(a[e],b[e]))return!1;f[e]=!0}for(e in b)if(!f.hasOwnProperty(e)&&"$"!==e.charAt(0)&&b[e]!==c&&!x(b[e]))return!1;return!0}if(!Cd(b))return!1;if((d=a.length)==b.length){for(e=0;d>e;e++)if(!L(a[e],b[e]))return!1;return!0}}return!1}function M(a,b,c){return a.concat(wd.call(b,c))}function N(a,b){return wd.call(a,b||0)}function O(a,b){var c=arguments.length>2?N(arguments,2):[];return!x(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,c.concat(wd.call(arguments,0))):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function P(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)?e=c:z(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":A(d)&&(e="$SCOPE"),e}function Q(a,b){return"undefined"==typeof a?c:JSON.stringify(a,P,b?"  ":null)}function R(a){return u(a)?JSON.parse(a):a}function S(a){if("function"==typeof a)a=!0;else if(a&&0!==a.length){var b=md(""+a);a=!("f"==b||"0"==b||"false"==b||"no"==b||"n"==b||"[]"==b)}else a=!1;return a}function T(a){a=sd(a).clone();try{a.empty()}catch(b){}var c=3,d=sd("<div>").append(a).html();try{return a[0].nodeType===c?md(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+md(b)})}catch(b){return md(d)}}function U(a){try{return decodeURIComponent(a)}catch(b){}}function V(a){var b,c,d={};return f((a||"").split("&"),function(a){if(a&&(b=a.replace(/\+/g,"%20").split("="),c=U(b[0]),s(c))){var e=s(b[1])?U(b[1]):!0;nd.call(d,c)?Cd(d[c])?d[c].push(e):d[c]=[d[c],e]:d[c]=e}}),d}function W(a){var b=[];return f(a,function(a,c){Cd(a)?f(a,function(a){b.push(Y(c,!0)+(a===!0?"":"="+Y(a,!0)))}):b.push(Y(c,!0)+(a===!0?"":"="+Y(a,!0)))}),b.length?b.join("&"):""}function X(a){return Y(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function Z(a,c){function d(a){a&&h.push(a)}var e,g,h=[a],i=["ng:app","ng-app","x-ng-app","data-ng-app"],j=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;f(i,function(c){i[c]=!0,d(b.getElementById(c)),c=c.replace(":","\\:"),a.querySelectorAll&&(f(a.querySelectorAll("."+c),d),f(a.querySelectorAll("."+c+"\\:"),d),f(a.querySelectorAll("["+c+"]"),d))}),f(h,function(a){if(!e){var b=" "+a.className+" ",c=j.exec(b);c?(e=a,g=(c[2]||"").replace(/\s+/g,",")):f(a.attributes,function(b){!e&&i[b.name]&&(e=a,g=b.value)})}}),e&&c(e,g?[g]:[])}function $(c,d){var e=function(){if(c=sd(c),c.injector()){var a=c[0]===b?"document":T(c);throw zd("btstrpd","App Already Bootstrapped with this Element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),d.unshift("ng");var e=Hb(d);return e.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),e},g=/^NG_DEFER_BOOTSTRAP!/;return a&&!g.test(a.name)?e():(a.name=a.name.replace(g,""),void(Ad.resumeBootstrap=function(a){f(a,function(a){d.push(a)}),e()}))}function _(a,b){return b=b||"_",a.replace(Fd,function(a,c){return(c?b:"")+a.toLowerCase()})}function ab(){td=a.jQuery,td&&td.fn.on?(sd=td,l(td.fn,{scope:Td.scope,isolateScope:Td.isolateScope,controller:Td.controller,injector:Td.injector,inheritedData:Td.inheritedData}),kb("remove",!0,!0,!1),kb("empty",!1,!1,!1),kb("html",!1,!1,!0)):sd=ob,Ad.element=sd}function bb(a,b,c){if(!a)throw zd("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function cb(a,b,c){return c&&Cd(a)&&(a=a[a.length-1]),bb(x(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function db(a,b){if("hasOwnProperty"===a)throw zd("badname","hasOwnProperty is not a valid {0} name",b)}function eb(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&x(a)?O(f,a):a}function fb(a){var b=a[0],c=a[a.length-1];if(b===c)return sd(b);var d=b,e=[d];do{if(d=d.nextSibling,!d)break;e.push(d)}while(d!==c);return sd(e)}function gb(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng"),f=b(a,"angular",Object);return f.$$minErr=f.$$minErr||d,b(f,"module",function(){var a={};return function(d,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,c,d){return function(){return b[d||"push"]([a,c,arguments]),i}}if(!f)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);
var b=[],e=[],h=a("$injector","invoke"),i={_invokeQueue:b,_runBlocks:e,requires:f,name:d,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:h,run:function(a){return e.push(a),this}};return g&&h(g),i})}})}function hb(b){l(b,{bootstrap:$,copy:J,extend:l,equals:L,element:sd,forEach:f,injector:Hb,noop:o,bind:O,toJson:Q,fromJson:R,identity:p,isUndefined:r,isDefined:s,isString:u,isFunction:x,isObject:t,isNumber:v,isElement:E,isArray:Cd,version:Gd,isDate:w,lowercase:md,uppercase:od,callbacks:{counter:0},$$minErr:d,$$csp:Ed}),ud=gb(a);try{ud("ngLocale")}catch(c){ud("ngLocale",[]).provider("$locale",cc)}ud("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Cc}),a.provider("$compile",Ob).directive({a:Ce,input:Ne,textarea:Ne,form:Ge,script:vf,select:yf,style:Af,option:zf,ngBind:Ze,ngBindHtml:_e,ngBindTemplate:$e,ngClass:af,ngClassEven:cf,ngClassOdd:bf,ngCloak:df,ngController:ef,ngForm:He,ngHide:pf,ngIf:gf,ngInclude:hf,ngInit:kf,ngNonBindable:lf,ngPluralize:mf,ngRepeat:nf,ngShow:of,ngStyle:qf,ngSwitch:rf,ngSwitchWhen:sf,ngSwitchDefault:tf,ngOptions:xf,ngTransclude:uf,ngModel:Te,ngList:We,ngChange:Ue,required:Ve,ngRequired:Ve,ngValue:Ye}).directive({ngInclude:jf}).directive(De).directive(ff),a.provider({$anchorScroll:Ib,$animate:ae,$browser:Lb,$cacheFactory:Mb,$controller:Rb,$document:Sb,$exceptionHandler:Tb,$filter:Nc,$interpolate:ac,$interval:bc,$http:Yb,$httpBackend:$b,$location:pc,$log:qc,$parse:xc,$rootScope:Bc,$q:yc,$sce:Hc,$sceDelegate:Gc,$sniffer:Ic,$templateCache:Nb,$timeout:Jc,$window:Mc,$$rAF:Ac,$$asyncCallback:Jb})}])}function ib(){return++Id}function jb(a){return a.replace(Ld,function(a,b,c,d){return d?c.toUpperCase():c}).replace(Md,"Moz$1")}function kb(a,b,c,d){function e(a){var e,g,h,i,j,k,l,m=c&&a?[this.filter(a)]:[this],n=b;if(!d||null!=a)for(;m.length;)for(e=m.shift(),g=0,h=e.length;h>g;g++)for(i=sd(e[g]),n?i.triggerHandler("$destroy"):n=!n,j=0,k=(l=i.children()).length;k>j;j++)m.push(td(l[j]));return f.apply(this,arguments)}var f=td.fn[a];f=f.$original||f,e.$original=f,td.fn[a]=e}function lb(a){return!Pd.test(a)}function mb(a,b){var c,d,e,f,g,h,i=b.createDocumentFragment(),j=[];if(lb(a))j.push(b.createTextNode(a));else{for(c=i.appendChild(b.createElement("div")),d=(Qd.exec(a)||["",""])[1].toLowerCase(),e=Sd[d]||Sd._default,c.innerHTML="<div>&#160;</div>"+e[1]+a.replace(Rd,"<$1></$2>")+e[2],c.removeChild(c.firstChild),f=e[0];f--;)c=c.lastChild;for(g=0,h=c.childNodes.length;h>g;++g)j.push(c.childNodes[g]);c=i.firstChild,c.textContent=""}return i.textContent="",i.innerHTML="",j}function nb(a,c){c=c||b;var d;return(d=Od.exec(a))?[c.createElement(d[1])]:mb(a,c)}function ob(a){if(a instanceof ob)return a;if(u(a)&&(a=Dd(a)),!(this instanceof ob)){if(u(a)&&"<"!=a.charAt(0))throw Nd("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ob(a)}if(u(a)){yb(this,nb(a));var c=sd(b.createDocumentFragment());c.append(this)}else yb(this,a)}function pb(a){return a.cloneNode(!0)}function qb(a){sb(a);for(var b=0,c=a.childNodes||[];b<c.length;b++)qb(c[b])}function rb(a,b,c,d){if(s(d))throw Nd("offargs","jqLite#off() does not support the `selector` argument");var e=tb(a,"events"),g=tb(a,"handle");g&&(r(b)?f(e,function(b,c){Kd(a,c,b),delete e[c]}):f(b.split(" "),function(b){r(c)?(Kd(a,b,e[b]),delete e[b]):I(e[b]||[],c)}))}function sb(a,b){var d=a.ng339,e=Hd[d];if(e){if(b)return void delete Hd[d].data[b];e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),rb(a)),delete Hd[d],a.ng339=c}}function tb(a,b,c){var d=a.ng339,e=Hd[d||-1];return s(c)?(e||(a.ng339=d=ib(),e=Hd[d]={}),void(e[b]=c)):e&&e[b]}function ub(a,b,c){var d=tb(a,"data"),e=s(c),f=!e&&s(b),g=f&&!t(b);if(d||g||tb(a,"data",d={}),e)d[b]=c;else{if(!f)return d;if(g)return d&&d[b];l(d,b)}}function vb(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function wb(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",Dd((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Dd(b)+" "," ")))})}function xb(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=Dd(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",Dd(c))}}function yb(a,b){if(b){b=b.nodeName||!s(b.length)||z(b)?[b]:b;for(var c=0;c<b.length;c++)a.push(b[c])}}function zb(a,b){return Ab(a,"$"+(b||"ngController")+"Controller")}function Ab(a,b,d){9==a.nodeType&&(a=a.documentElement);for(var e=Cd(b)?b:[b];a;){for(var f=0,g=e.length;g>f;f++)if((d=sd.data(a,e[f]))!==c)return d;a=a.parentNode||11===a.nodeType&&a.host}}function Bb(a){for(var b=0,c=a.childNodes;b<c.length;b++)qb(c[b]);for(;a.firstChild;)a.removeChild(a.firstChild)}function Cb(a,b){var c=Ud[b.toLowerCase()];return c&&Vd[a.nodeName]&&c}function Db(a,c){var d=function(d,e){if(d.preventDefault||(d.preventDefault=function(){d.returnValue=!1}),d.stopPropagation||(d.stopPropagation=function(){d.cancelBubble=!0}),d.target||(d.target=d.srcElement||b),r(d.defaultPrevented)){var g=d.preventDefault;d.preventDefault=function(){d.defaultPrevented=!0,g.call(d)},d.defaultPrevented=!1}d.isDefaultPrevented=function(){return d.defaultPrevented||d.returnValue===!1};var h=K(c[e||d.type]||[]);f(h,function(b){b.call(a,d)}),8>=rd?(d.preventDefault=null,d.stopPropagation=null,d.isDefaultPrevented=null):(delete d.preventDefault,delete d.stopPropagation,delete d.isDefaultPrevented)};return d.elem=a,d}function Eb(a,b){var d,e=typeof a;return"function"==e||"object"==e&&null!==a?"function"==typeof(d=a.$$hashKey)?d=a.$$hashKey():d===c&&(d=a.$$hashKey=(b||j)()):d=a,e+":"+d}function Fb(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function Gb(a){var b,c,d,e;return"function"==typeof a?(b=a.$inject)||(b=[],a.length&&(c=a.toString().replace(Zd,""),d=c.match(Wd),f(d[1].split(Xd),function(a){a.replace(Yd,function(a,c,d){b.push(d)})})),a.$inject=b):Cd(a)?(e=a.length-1,cb(a[e],"fn"),b=a.slice(0,e)):cb(a,"fn",!0),b}function Hb(a){function b(a){return function(b,c){return t(b)?void f(b,i(a)):a(b,c)}}function c(a,b){if(db(a,"service"),(x(b)||Cd(b))&&(b=v.instantiate(b)),!b.$get)throw $d("pget","Provider '{0}' must define $get factory method.",a);return s[a+n]=b}function d(a,b){return c(a,{$get:b})}function e(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}function g(a,b){return d(a,q(b))}function h(a,b){db(a,"constant"),s[a]=b,w[a]=b}function j(a,b){var c=v.get(a+n),d=c.$get;c.$get=function(){var a=y.invoke(d,c);return y.invoke(b,null,{$delegate:a})}}function k(a){var b,c,d,e,g=[];return f(a,function(a){if(!r.get(a)){r.put(a,!0);try{if(u(a))for(b=ud(a),g=g.concat(k(b.requires)).concat(b._runBlocks),c=b._invokeQueue,d=0,e=c.length;e>d;d++){var f=c[d],h=v.get(f[0]);h[f[1]].apply(h,f[2])}else x(a)?g.push(v.invoke(a)):Cd(a)?g.push(v.invoke(a)):cb(a,"module")}catch(i){throw Cd(a)&&(a=a[a.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),$d("modulerr","Failed to instantiate module {0} due to:\n{1}",a,i.stack||i.message||i)}}}),g}function l(a,b){function c(c){if(a.hasOwnProperty(c)){if(a[c]===m)throw $d("cdep","Circular dependency found: {0}",c+" <- "+p.join(" <- "));return a[c]}try{return p.unshift(c),a[c]=m,a[c]=b(c)}catch(d){throw a[c]===m&&delete a[c],d}finally{p.shift()}}function d(a,b,d){var e,f,g,h=[],i=Gb(a);for(f=0,e=i.length;e>f;f++){if(g=i[f],"string"!=typeof g)throw $d("itkn","Incorrect injection token! Expected service name as string, got {0}",g);h.push(d&&d.hasOwnProperty(g)?d[g]:c(g))}return Cd(a)&&(a=a[e]),a.apply(b,h)}function e(a,b){var c,e,f=function(){};return f.prototype=(Cd(a)?a[a.length-1]:a).prototype,c=new f,e=d(a,c,b),t(e)||x(e)?e:c}return{invoke:d,instantiate:e,get:c,annotate:Gb,has:function(b){return s.hasOwnProperty(b+n)||a.hasOwnProperty(b)}}}var m={},n="Provider",p=[],r=new Fb([],!0),s={$provide:{provider:b(c),factory:b(d),service:b(e),value:b(g),constant:b(h),decorator:j}},v=s.$injector=l(s,function(){throw $d("unpr","Unknown provider: {0}",p.join(" <- "))}),w={},y=w.$injector=l(w,function(a){var b=v.get(a+n);return y.invoke(b.$get,b)});return f(k(a),function(a){y.invoke(a||o)}),y}function Ib(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return f(a,function(a){b||"a"!==md(a.nodeName)||(b=a)}),b}function g(){var a,d=c.hash();d?(a=h.getElementById(d))?a.scrollIntoView():(a=e(h.getElementsByName(d)))?a.scrollIntoView():"top"===d&&b.scrollTo(0,0):b.scrollTo(0,0)}var h=b.document;return a&&d.$watch(function(){return c.hash()},function(){d.$evalAsync(g)}),g}]}function Jb(){this.$get=["$$rAF","$timeout",function(a,b){return a.supported?function(b){return a(b)}:function(a){return b(a,0,!1)}}]}function Kb(a,b,d,e){function g(a){try{a.apply(null,N(arguments,1))}finally{if(s--,0===s)for(;t.length;)try{t.pop()()}catch(b){d.error(b)}}}function h(a,b){!function c(){f(w,function(a){a()}),v=b(c,a)}()}function i(){z=null,x!=j.url()&&(x=j.url(),f(A,function(a){a(j.url())}))}var j=this,k=b[0],l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,q={};j.isMock=!1;var s=0,t=[];j.$$completeOutstandingRequest=g,j.$$incOutstandingRequestCount=function(){s++},j.notifyWhenNoOutstandingRequests=function(a){f(w,function(a){a()}),0===s?a():t.push(a)};var v,w=[];j.addPollFn=function(a){return r(v)&&h(100,n),w.push(a),a};var x=l.href,y=b.find("base"),z=null;j.url=function(b,c){if(l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){if(x==b)return;return x=b,e.history?c?m.replaceState(null,"",b):(m.pushState(null,"",b),y.attr("href",y.attr("href"))):(z=b,c?l.replace(b):l.href=b),j}return z||l.href.replace(/%27/g,"'")};var A=[],B=!1;j.onUrlChange=function(b){return B||(e.history&&sd(a).on("popstate",i),e.hashchange?sd(a).on("hashchange",i):j.addPollFn(i),B=!0),A.push(b),b},j.baseHref=function(){var a=y.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var C={},D="",E=j.baseHref();j.cookies=function(a,b){var e,f,g,h,i;if(!a){if(k.cookie!==D)for(D=k.cookie,f=D.split("; "),C={},h=0;h<f.length;h++)g=f[h],i=g.indexOf("="),i>0&&(a=unescape(g.substring(0,i)),C[a]===c&&(C[a]=unescape(g.substring(i+1))));return C}b===c?k.cookie=escape(a)+"=;path="+E+";expires=Thu, 01 Jan 1970 00:00:00 GMT":u(b)&&(e=(k.cookie=escape(a)+"="+escape(b)+";path="+E).length+1,e>4096&&d.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!"))},j.defer=function(a,b){var c;return s++,c=n(function(){delete q[c],g(a)},b||0),q[c]=!0,c},j.defer.cancel=function(a){return q[a]?(delete q[a],p(a),g(o),!0):!1}}function Lb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Kb(a,d,b,c)}]}function Mb(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=l({},c,{id:a}),i={},j=c&&c.capacity||Number.MAX_VALUE,k={},m=null,n=null;return b[a]={put:function(a,b){if(j<Number.MAX_VALUE){var c=k[a]||(k[a]={key:a});e(c)}if(!r(b))return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b},get:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete k[a]}delete i[a],g--},removeAll:function(){i={},g=0,k={},m=n=null},destroy:function(){i=null,h=null,k=null,delete b[a]},info:function(){return l({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function Nb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Ob(a,d){var e={},g="Directive",h=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,j=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,k=/^(on[a-z]+|formaction)$/;this.directive=function m(b,c){return db(b,"directive"),u(b)?(bb(c,"directiveFactory"),e.hasOwnProperty(b)||(e[b]=[],a.factory(b+g,["$injector","$exceptionHandler",function(a,c){var d=[];return f(e[b],function(e,f){try{var g=a.invoke(e);x(g)?g={compile:q(g)}:!g.compile&&g.link&&(g.compile=q(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||b,g.require=g.require||g.controller&&g.name,g.restrict=g.restrict||"A",d.push(g)}catch(h){c(h)}}),d}])),e[b].push(c)):f(b,i(m)),this},this.aHrefSanitizationWhitelist=function(a){return s(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,d,i,m,o,q,r,s,v,w,y,z){function A(a,b,c,d,e){a instanceof sd||(a=sd(a)),f(a,function(b,c){3==b.nodeType&&b.nodeValue.match(/\S+/)&&(a[c]=b=sd(b).wrap("<span></span>").parent()[0])});var g=C(a,b,a,c,d,e);return B(a,"ng-scope"),function(b,c,d,e){bb(b,"scope");var h=c?Td.clone.call(a):a;f(d,function(a,b){h.data("$"+b+"Controller",a)});for(var i=0,j=h.length;j>i;i++){var k=h[i],l=k.nodeType;(1===l||9===l)&&h.eq(i).data("$scope",b)}return c&&c(h,b),g&&g(b,h,h,e),h}}function B(a,b){try{a.addClass(b)}catch(c){}}function C(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,m,n,p=d.length,q=new Array(p);for(k=0;p>k;k++)q[k]=d[k];for(k=0,m=0,l=o.length;l>k;m++)i=q[m],g=o[k++],h=o[k++],g?(g.scope?(j=a.$new(),sd.data(i,"$scope",j)):j=a,n=g.transcludeOnThisElement?D(a,g.transclude,f):!g.templateOnThisElement&&f?f:!f&&b?D(a,b):null,g(h,j,i,e,n)):h&&h(a,i.childNodes,c,f)}for(var i,j,k,l,m,n,o=[],p=0;p<a.length;p++)i=new X,j=E(a[p],[],i,0===p?e:c,f),k=j.length?H(j,a[p],i,b,d,null,[],[],g):null,k&&k.scope&&B(i.$$element,"ng-scope"),m=k&&k.terminal||!(l=a[p].childNodes)||!l.length?null:C(l,k?(k.transcludeOnThisElement||!k.templateOnThisElement)&&k.transclude:b),o.push(k,m),n=n||k||m,g=null;return n?h:null}function D(a,b,c){var d=function(d,e,f){var g=!1;d||(d=a.$new(),d.$$transcluded=!0,g=!0);var h=b(d,e,f,c);return g&&h.on("$destroy",function(){d.$destroy()}),h};return d}function E(a,b,c,d,e){var f,g,i=a.nodeType,k=c.$attr;switch(i){case 1:J(b,Pb(vd(a).toLowerCase()),"E",d,e);for(var l,m,n,o,p,q,r=a.attributes,s=0,t=r&&r.length;t>s;s++){var v=!1,w=!1;if(l=r[s],!rd||rd>=8||l.specified){m=l.name,p=Dd(l.value),o=Pb(m),(q=ab.test(o))&&(m=_(o.substr(6),"-"));var x=o.replace(/(Start|End)$/,"");o===x+"Start"&&(v=m,w=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),n=Pb(m.toLowerCase()),k[n]=m,(q||!c.hasOwnProperty(n))&&(c[n]=p,Cb(a,n)&&(c[n]=!0)),U(a,b,p,n),J(b,n,"A",d,e,v,w)}}if(g=a.className,u(g)&&""!==g)for(;f=j.exec(g);)n=Pb(f[2]),J(b,n,"C",d,e)&&(c[n]=Dd(f[3])),g=g.substr(f.index+f[0].length);break;case 3:R(b,a.nodeValue);break;case 8:try{f=h.exec(a.nodeValue),f&&(n=Pb(f[1]),J(b,n,"M",d,e)&&(c[n]=Dd(f[2])))}catch(y){}}return b.sort(P),b}function F(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw be("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return sd(d)}function G(a,b,c){return function(d,e,f,g,h){return e=F(e[0],b,c),a(d,e,f,g,h)}}function H(a,e,g,h,j,k,l,m,n){function o(a,b,c,d){a&&(c&&(a=G(a,c,d)),a.require=w.require,a.directiveName=y,(P===w||w.$$isolateScope)&&(a=W(a,{isolateScope:!0})),l.push(a)),b&&(c&&(b=G(b,c,d)),b.require=w.require,b.directiveName=y,(P===w||w.$$isolateScope)&&(b=W(b,{isolateScope:!0})),m.push(b))}function p(a,b,c,d){var e,g="data",h=!1;if(u(b)){for(;"^"==(e=b.charAt(0))||"?"==e;)b=b.substr(1),"^"==e&&(g="inheritedData"),h=h||"?"==e;if(e=null,d&&"data"===g&&(e=d[b]),e=e||c[g]("$"+b+"Controller"),!e&&!h)throw be("ctreq","Controller '{0}', required by directive '{1}', can't be found!",b,a);return e}return Cd(b)&&(e=[],f(b,function(b){e.push(p(a,b,c,d))})),e}function s(a,b,h,j,k){function n(a,b){var d;return arguments.length<2&&(b=a,a=c),Z&&(d=z),k(a,b,d)}var o,s,t,u,v,w,x,y,z={};if(o=e===h?g:K(g,new X(sd(h),g.$attr)),s=o.$$element,P){var A=/^\s*([@=&])(\??)\s*(\w*)\s*$/;x=b.$new(!0),!R||R!==P&&R!==P.$$originalDirective?s.data("$isolateScopeNoTemplate",x):s.data("$isolateScope",x),B(s,"ng-isolate-scope"),f(P.scope,function(a,c){var e,f,g,h,i=a.match(A)||[],j=i[3]||c,k="?"==i[2],l=i[1];switch(x.$$isolateBindings[c]=l+j,l){case"@":o.$observe(j,function(a){x[c]=a}),o.$$observers[j].$$scope=b,o[j]&&(x[c]=d(o[j])(b));break;case"=":if(k&&!o[j])return;f=q(o[j]),h=f.literal?L:function(a,b){return a===b||a!==a&&b!==b},g=f.assign||function(){throw e=x[c]=f(b),be("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",o[j],P.name)},e=x[c]=f(b),x.$watch(function(){var a=f(b);return h(a,x[c])||(h(a,e)?g(b,a=x[c]):x[c]=a),e=a},null,f.literal);break;case"&":f=q(o[j]),x[c]=function(a){return f(b,a)};break;default:throw be("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",P.name,c,a)}})}for(y=k&&n,J&&f(J,function(a){var c,d={$scope:a===P||a.$$isolateScope?x:b,$element:s,$attrs:o,$transclude:y};w=a.controller,"@"==w&&(w=o[a.name]),c=r(w,d),z[a.name]=c,Z||s.data("$"+a.name+"Controller",c),a.controllerAs&&(d.$scope[a.controllerAs]=c)}),t=0,u=l.length;u>t;t++)try{v=l[t],v(v.isolateScope?x:b,s,o,v.require&&p(v.directiveName,v.require,s,z),y)}catch(C){i(C,T(s))}var D=b;for(P&&(P.template||null===P.templateUrl)&&(D=x),a&&a(D,h.childNodes,c,k),t=m.length-1;t>=0;t--)try{v=m[t],v(v.isolateScope?x:b,s,o,v.require&&p(v.directiveName,v.require,s,z),y)}catch(C){i(C,T(s))}}n=n||{};for(var v,w,y,z,C,D,H=-Number.MAX_VALUE,J=n.controllerDirectives,P=n.newIsolateScopeDirective,R=n.templateDirective,S=n.nonTlbTranscludeDirective,U=!1,Y=!1,Z=n.hasElementTranscludeDirective,_=g.$$element=sd(e),ab=k,bb=h,cb=0,db=a.length;db>cb;cb++){w=a[cb];var eb=w.$$start,fb=w.$$end;if(eb&&(_=F(e,eb,fb)),z=c,H>w.priority)break;if((D=w.scope)&&(v=v||w,w.templateUrl||(Q("new/isolated scope",P,w,_),t(D)&&(P=w))),y=w.name,!w.templateUrl&&w.controller&&(D=w.controller,J=J||{},Q("'"+y+"' controller",J[y],w,_),J[y]=w),(D=w.transclude)&&(U=!0,w.$$tlb||(Q("transclusion",S,w,_),S=w),"element"==D?(Z=!0,H=w.priority,z=_,_=g.$$element=sd(b.createComment(" "+y+": "+g[y]+" ")),e=_[0],V(j,N(z),e),bb=A(z,h,H,ab&&ab.name,{nonTlbTranscludeDirective:S})):(z=sd(pb(e)).contents(),_.empty(),bb=A(z,h))),w.template)if(Y=!0,Q("template",R,w,_),R=w,D=x(w.template)?w.template(_,g):w.template,D=$(D),w.replace){if(ab=w,z=lb(D)?[]:sd(Dd(D)),e=z[0],1!=z.length||1!==e.nodeType)throw be("tplrt","Template for directive '{0}' must have exactly one root element. {1}",y,"");V(j,_,e);var gb={$attr:{}},hb=E(e,[],gb),ib=a.splice(cb+1,a.length-(cb+1));P&&I(hb),a=a.concat(hb).concat(ib),M(g,gb),db=a.length}else _.html(D);if(w.templateUrl)Y=!0,Q("template",R,w,_),R=w,w.replace&&(ab=w),s=O(a.splice(cb,a.length-cb),_,g,j,U&&bb,l,m,{controllerDirectives:J,newIsolateScopeDirective:P,templateDirective:R,nonTlbTranscludeDirective:S}),db=a.length;else if(w.compile)try{C=w.compile(_,g,bb),x(C)?o(null,C,eb,fb):C&&o(C.pre,C.post,eb,fb)}catch(jb){i(jb,T(_))}w.terminal&&(s.terminal=!0,H=Math.max(H,w.priority))}return s.scope=v&&v.scope===!0,s.transcludeOnThisElement=U,s.templateOnThisElement=Y,s.transclude=bb,n.hasElementTranscludeDirective=Z,s}function I(a){for(var b=0,c=a.length;c>b;b++)a[b]=n(a[b],{$$isolateScope:!0})}function J(b,d,f,h,j,k,l){if(d===j)return null;var m=null;if(e.hasOwnProperty(d))for(var o,p=a.get(d+g),q=0,r=p.length;r>q;q++)try{o=p[q],(h===c||h>o.priority)&&-1!=o.restrict.indexOf(f)&&(k&&(o=n(o,{$$start:k,$$end:l})),b.push(o),m=o)}catch(s){i(s)}return m}function M(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(B(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function O(a,b,c,d,e,g,h,i){var j,k,n=[],p=b[0],q=a.shift(),r=l({},q,{templateUrl:null,transclude:null,replace:null,$$originalDirective:q}),s=x(q.templateUrl)?q.templateUrl(b,c):q.templateUrl;return b.empty(),m.get(w.getTrustedResourceUrl(s),{cache:o}).success(function(l){var m,o,u,v;if(l=$(l),q.replace){if(u=lb(l)?[]:sd(Dd(l)),m=u[0],1!=u.length||1!==m.nodeType)throw be("tplrt","Template for directive '{0}' must have exactly one root element. {1}",q.name,s);o={$attr:{}},V(d,b,m);var w=E(m,[],o);t(q.scope)&&I(w),a=w.concat(a),M(c,o)}else m=p,b.html(l);for(a.unshift(r),j=H(a,m,c,e,b,q,g,h,i),f(d,function(a,c){a==m&&(d[c]=b[0])}),k=C(b[0].childNodes,e);n.length;){var x=n.shift(),y=n.shift(),z=n.shift(),A=n.shift(),F=b[0];if(y!==p){var G=y.className;i.hasElementTranscludeDirective&&q.replace||(F=pb(m)),V(z,sd(y),F),B(sd(F),G)}v=j.transcludeOnThisElement?D(x,j.transclude,A):A,j(k,x,F,d,v)}n=null}).error(function(a,b,c,d){throw be("tpload","Failed to load template: {0}",d.url)}),function(a,b,c,d,e){var f=e;n?(n.push(b),n.push(c),n.push(d),n.push(f)):(j.transcludeOnThisElement&&(f=D(b,j.transclude,e)),j(k,b,c,d,f))}}function P(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Q(a,b,c,d){if(b)throw be("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",b.name,c.name,a,T(d))}function R(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){var b=a.parent(),d=b.length;return d&&B(a.parent(),"ng-binding"),function(a,b){var e=b.parent(),f=e.data("$binding")||[];f.push(c),e.data("$binding",f),d||B(e,"ng-binding"),a.$watch(c,function(a){b[0].nodeValue=a})}}})}function S(a,b){if("srcdoc"==b)return w.HTML;var c=vd(a);return"xlinkHref"==b||"FORM"==c&&"action"==b||"IMG"!=c&&("src"==b||"ngSrc"==b)?w.RESOURCE_URL:void 0}function U(a,b,c,e){var f=d(c,!0);if(f){if("multiple"===e&&"SELECT"===vd(a))throw be("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",T(a));b.push({priority:100,compile:function(){return{pre:function(b,c,g){var h=g.$$observers||(g.$$observers={});if(k.test(e))throw be("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");f=d(g[e],!0,S(a,e)),f&&(g[e]=f(b),(h[e]||(h[e]=[])).$$inter=!0,(g.$$observers&&g.$$observers[e].$$scope||b).$watch(f,function(a,b){"class"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function V(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;f>e;e++)if(a[e]==g){a[e++]=d;for(var j=e,k=j+h-1,l=a.length;l>j;j++,k++)l>k?a[j]=a[k]:delete a[j];a.length-=h-1;break}i&&i.replaceChild(d,g);var m=b.createDocumentFragment();m.appendChild(g),d[sd.expando]=g[sd.expando];for(var n=1,o=c.length;o>n;n++){var p=c[n];sd(p).remove(),m.appendChild(p),delete c[n]}c[0]=d,c.length=1}function W(a,b){return l(function(){return a.apply(null,arguments)},a,b)}var X=function(a,b){this.$$element=a,this.$attr=b||{}};X.prototype={$normalize:Pb,$addClass:function(a){a&&a.length>0&&y.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&y.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Qb(a,b),d=Qb(b,a);0===c.length?y.removeClass(this.$$element,d):0===d.length?y.addClass(this.$$element,c):y.setClass(this.$$element,c,d)},$set:function(a,b,d,e){var g,h=Cb(this.$$element[0],a);h&&(this.$$element.prop(a,b),e=h),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a],e||(this.$attr[a]=e=_(a,"-"))),g=vd(this.$$element),("A"===g&&"href"===a||"IMG"===g&&"src"===a)&&(this[a]=b=z(b,"src"===a)),d!==!1&&(null===b||b===c?this.$$element.removeAttr(e):this.$$element.attr(e,b));var j=this.$$observers;j&&f(j[a],function(a){try{a(b)}catch(c){i(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);return e.push(b),s.$evalAsync(function(){e.$$inter||b(c[a])}),b}};var Y=d.startSymbol(),Z=d.endSymbol(),$="{{"==Y||"}}"==Z?p:function(a){return a.replace(/\{\{/g,Y).replace(/}}/g,Z)},ab=/^ngAttr[A-Z]/;return A}]}function Pb(a){return jb(a.replace(ce,""))}function Qb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function Rb(){var a={},b=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,c){db(b,"controller"),t(b)?l(a,b):a[b]=c},this.$get=["$injector","$window",function(c,e){return function(f,g){var h,i,j,k;if(u(f)&&(i=f.match(b),j=i[1],k=i[3],f=a.hasOwnProperty(j)?a[j]:eb(g.$scope,j,!0)||eb(e,j,!0),cb(f,j,!0)),h=c.instantiate(f,g),k){if(!g||"object"!=typeof g.$scope)throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",j||f.name,k);g.$scope[k]=h}return h}}]}function Sb(){this.$get=["$window",function(a){return sd(a.document)}]}function Tb(){this.$get=["$log",function(a){return function(){a.error.apply(a,arguments)}}]}function Ub(a){var b,c,d,e={};return a?(f(a.split("\n"),function(a){d=a.indexOf(":"),b=md(Dd(a.substr(0,d))),c=Dd(a.substr(d+1)),b&&(e[b]=e[b]?e[b]+", "+c:c)}),e):e}function Vb(a){var b=t(a)?a:c;return function(c){return b||(b=Ub(a)),c?b[md(c)]||null:b}}function Wb(a,b,c){return x(c)?c(a,b):(f(c,function(c){a=c(a,b)}),a)}function Xb(a){return a>=200&&300>a}function Yb(){var a=/^\s*(\[|\{[^\{])/,b=/[\}\]]\s*$/,d=/^\)\]\}',?\n/,e={"Content-Type":"application/json;charset=utf-8"},g=this.defaults={transformResponse:[function(c){return u(c)&&(c=c.replace(d,""),a.test(c)&&b.test(c)&&(c=R(c))),c}],transformRequest:[function(a){return!t(a)||B(a)||C(a)?a:Q(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:K(e),put:K(e),patch:K(e)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},i=this.interceptors=[],j=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,d,e,k,m){function n(a){function b(a){var b=l({},a,{data:Wb(a.data,a.headers,e.transformResponse)});return Xb(a.status)?b:k.reject(b)}function d(a){function b(a){var b;f(a,function(c,d){x(c)&&(b=c(),null!=b?a[d]=b:delete a[d])})}var c,d,e,h=g.headers,i=l({},a.headers);h=l({},h.common,h[md(a.method)]);a:for(c in h){d=md(c);for(e in i)if(md(e)===d)continue a;i[c]=h[c]}return b(i),i}var e={method:"get",transformRequest:g.transformRequest,transformResponse:g.transformResponse},h=d(a);l(e,a),e.headers=h,e.method=od(e.method);var i=function(a){h=a.headers;var c=Wb(a.data,Vb(h),a.transformRequest);return r(c)&&f(h,function(a,b){"content-type"===md(b)&&delete h[b]}),r(a.withCredentials)&&!r(g.withCredentials)&&(a.withCredentials=g.withCredentials),q(a,c,h).then(b,b)},j=[i,c],m=k.when(e);for(f(z,function(a){(a.request||a.requestError)&&j.unshift(a.request,a.requestError),(a.response||a.responseError)&&j.push(a.response,a.responseError)});j.length;){var n=j.shift(),o=j.shift();m=m.then(n,o)}return m.success=function(a){return m.then(function(b){a(b.data,b.status,b.headers,e)}),m},m.error=function(a){return m.then(null,function(b){a(b.data,b.status,b.headers,e)}),m},m}function o(){f(arguments,function(a){n[a]=function(b,c){return n(l(c||{},{method:a,url:b}))}})}function p(){f(arguments,function(a){n[a]=function(b,c,d){return n(l(d||{},{method:a,url:b,data:c}))}})}function q(d,f,h){function i(a,b,c,d){m&&(Xb(a)?m.put(u,[a,b,Ub(c),d]):m.remove(u)),j(b,a,c,d),e.$$phase||e.$apply()}function j(a,b,c,e){b=Math.max(b,0),(Xb(b)?p.resolve:p.reject)({data:a,status:b,headers:Vb(c),config:d,statusText:e})}function l(){var a=H(n.pendingRequests,d);-1!==a&&n.pendingRequests.splice(a,1)}var m,o,p=k.defer(),q=p.promise,u=v(d.url,d.params);if(n.pendingRequests.push(d),q.then(l,l),!d.cache&&!g.cache||d.cache===!1||"GET"!==d.method&&"JSONP"!==d.method||(m=t(d.cache)?d.cache:t(g.cache)?g.cache:y),m)if(o=m.get(u),s(o)){if(D(o))return o.then(l,l),o;Cd(o)?j(o[1],o[0],K(o[2]),o[3]):j(o,200,{},"OK")}else m.put(u,q);if(r(o)){var w=Lc(d.url)?b.cookies()[d.xsrfCookieName||g.xsrfCookieName]:c;w&&(h[d.xsrfHeaderName||g.xsrfHeaderName]=w),a(d.method,u,f,i,h,d.timeout,d.withCredentials,d.responseType)}return q}function v(a,b){if(!b)return a;var c=[];return h(b,function(a,b){null===a||r(a)||(Cd(a)||(a=[a]),f(a,function(a){t(a)&&(w(a)?a=a.toISOString():t(a)&&(a=Q(a))),c.push(Y(b)+"="+Y(a))}))}),c.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&")),a}var y=d("$http"),z=[];return f(i,function(a){z.unshift(u(a)?m.get(a):m.invoke(a))}),f(j,function(a,b){var c=u(a)?m.get(a):m.invoke(a);z.splice(b,0,{response:function(a){return c(k.when(a))},responseError:function(a){return c(k.reject(a))}})}),n.pendingRequests=[],o("get","delete","head","jsonp"),p("post","put"),n.defaults=g,n}]}function Zb(b){if(8>=rd&&(!b.match(/^(get|post|head|put|delete|options)$/i)||!a.XMLHttpRequest))return new a.ActiveXObject("Microsoft.XMLHTTP");if(a.XMLHttpRequest)return new a.XMLHttpRequest;throw d("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function $b(){this.$get=["$browser","$window","$document",function(a,b,c){return _b(a,Zb,a.defer,b.angular.callbacks,c[0])}]}function _b(a,b,c,d,e){function g(a,b,c){var f=e.createElement("script"),g=null;return f.type="text/javascript",f.src=a,f.async=!0,g=function(a){Kd(f,"load",g),Kd(f,"error",g),e.body.removeChild(f),f=null;var h=-1,i="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},Jd(f,"load",g),Jd(f,"error",g),8>=rd&&(f.onreadystatechange=function(){u(f.readyState)&&/loaded|complete/.test(f.readyState)&&(f.onreadystatechange=null,g({type:"load"}))}),e.body.appendChild(f),g}var h=-1;return function(e,i,j,k,l,m,n,p){function q(){t=h,v&&v(),w&&w.abort()}function r(b,d,e,f,g){y&&c.cancel(y),v=w=null,0===d&&(d=e?200:"file"==Kc(i).protocol?404:0),d=1223===d?204:d,g=g||"",b(d,e,f,g),a.$$completeOutstandingRequest(o)}var t;if(a.$$incOutstandingRequestCount(),i=i||a.url(),"jsonp"==md(e)){var u="_"+(d.counter++).toString(36);d[u]=function(a){d[u].data=a,d[u].called=!0};var v=g(i.replace("JSON_CALLBACK","angular.callbacks."+u),u,function(a,b){r(k,a,d[u].data,"",b),d[u]=o})}else{var w=b(e);if(w.open(e,i,!0),f(l,function(a,b){s(a)&&w.setRequestHeader(b,a)}),w.onreadystatechange=function(){if(w&&4==w.readyState){var a=null,b=null,c="";t!==h&&(a=w.getAllResponseHeaders(),b="response"in w?w.response:w.responseText),t===h&&10>rd||(c=w.statusText),r(k,t||w.status,b,a,c)}},n&&(w.withCredentials=!0),p)try{w.responseType=p}catch(x){if("json"!==p)throw x}w.send(j||null)}if(m>0)var y=c(q,m);else D(m)&&m.then(q)}}function ac(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(f,i,j){for(var k,l,m,n,o=0,p=[],q=f.length,r=!1,s=[];q>o;)-1!=(k=f.indexOf(a,o))&&-1!=(l=f.indexOf(b,k+g))?(o!=k&&p.push(f.substring(o,k)),p.push(m=c(n=f.substring(k+g,l))),m.exp=n,o=l+h,r=!0):(o!=q&&p.push(f.substring(o)),o=q);if((q=p.length)||(p.push(""),q=1),j&&p.length>1)throw de("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",f);return!i||r?(s.length=q,m=function(a){try{for(var b,c=0,g=q;g>c;c++){if("function"==typeof(b=p[c]))if(b=b(a),b=j?e.getTrusted(j,b):e.valueOf(b),null==b)b="";else switch(typeof b){case"string":break;case"number":b=""+b;
break;default:b=Q(b)}s[c]=b}return s.join("")}catch(h){var i=de("interr","Can't interpolate: {0}\n{1}",f,h.toString());d(i)}},m.exp=f,m.parts=p,m):void 0}var g=a.length,h=b.length;return f.startSymbol=function(){return a},f.endSymbol=function(){return b},f}]}function bc(){this.$get=["$rootScope","$window","$q",function(a,b,c){function d(d,f,g,h){var i=b.setInterval,j=b.clearInterval,k=c.defer(),l=k.promise,m=0,n=s(h)&&!h;return g=s(g)?g:0,l.then(null,null,d),l.$$intervalId=i(function(){k.notify(m++),g>0&&m>=g&&(k.resolve(m),j(l.$$intervalId),delete e[l.$$intervalId]),n||a.$apply()},f),e[l.$$intervalId]=k,l}var e={};return d.cancel=function(a){return a&&a.$$intervalId in e?(e[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete e[a.$$intervalId],!0):!1},d}]}function cc(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(a){return 1===a?"one":"other"}}}}function dc(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=X(b[c]);return b.join("/")}function ec(a,b,c){var d=Kc(a,c);b.$$protocol=d.protocol,b.$$host=d.hostname,b.$$port=m(d.port)||fe[d.protocol]||null}function fc(a,b,c){var d="/"!==a.charAt(0);d&&(a="/"+a);var e=Kc(a,c);b.$$path=decodeURIComponent(d&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname),b.$$search=V(e.search),b.$$hash=decodeURIComponent(e.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function gc(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function hc(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function ic(a){return a.substr(0,hc(a).lastIndexOf("/")+1)}function jc(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function kc(a,b){this.$$html5=!0,b=b||"";var d=ic(a);ec(a,this,a),this.$$parse=function(b){var c=gc(d,b);if(!u(c))throw ge("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',b,d);fc(c,this,a),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=W(this.$$search),b=this.$$hash?"#"+X(this.$$hash):"";this.$$url=dc(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=d+this.$$url.substr(1)},this.$$rewrite=function(e){var f,g;return(f=gc(a,e))!==c?(g=f,(f=gc(b,f))!==c?d+(gc("/",f)||f):a+g):(f=gc(d,e))!==c?d+f:d==e+"/"?d:void 0}}function lc(a,b){var c=ic(a);ec(a,this,a),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f=gc(a,d)||gc(c,d),g="#"==f.charAt(0)?gc(b,f):this.$$html5?f:"";if(!u(g))throw ge("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',d,b);fc(g,this,a),this.$$path=e(this.$$path,g,a),this.$$compose()},this.$$compose=function(){var c=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=dc(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+(this.$$url?b+this.$$url:"")},this.$$rewrite=function(b){return hc(a)==hc(b)?b:void 0}}function mc(a,b){this.$$html5=!0,lc.apply(this,arguments);var c=ic(a);this.$$rewrite=function(d){var e;return a==hc(d)?d:(e=gc(c,d))?a+b+e:c===d+"/"?c:void 0},this.$$compose=function(){var c=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=dc(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+b+this.$$url}}function nc(a){return function(){return this[a]}}function oc(a,b){return function(c){return r(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function pc(){var b="",c=!1;this.hashPrefix=function(a){return s(a)?(b=a,this):b},this.html5Mode=function(a){return s(a)?(c=a,this):c},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(d,e,f,g){function h(a){d.$broadcast("$locationChangeSuccess",i.absUrl(),a)}var i,j,k,l=e.baseHref(),m=e.url();c?(k=jc(m)+(l||"/"),j=f.history?kc:mc):(k=hc(m),j=lc),i=new j(k,"#"+b),i.$$parse(i.$$rewrite(m));var n=/^\s*(javascript|mailto):/i;g.on("click",function(c){if(!c.ctrlKey&&!c.metaKey&&2!=c.which){for(var f=sd(c.target);"a"!==md(f[0].nodeName);)if(f[0]===g[0]||!(f=f.parent())[0])return;var h=f.prop("href");if(t(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Kc(h.animVal).href),!n.test(h)){if(j===mc){var l=f.attr("href")||f.attr("xlink:href");if(l&&l.indexOf("://")<0){var m="#"+b;if("/"==l[0])h=k+m+l;else if("#"==l[0])h=k+m+(i.path()||"/")+l;else{var o=i.path().split("/"),p=l.split("/");2!==o.length||o[1]||(o.length=1);for(var q=0;q<p.length;q++)"."!=p[q]&&(".."==p[q]?o.pop():p[q].length&&o.push(p[q]));h=k+m+o.join("/")}}}var r=i.$$rewrite(h);h&&!f.attr("target")&&r&&!c.isDefaultPrevented()&&(c.preventDefault(),r!=e.url()&&(i.$$parse(r),d.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),i.absUrl()!=m&&e.url(i.absUrl(),!0),e.onUrlChange(function(a){i.absUrl()!=a&&(d.$evalAsync(function(){var b=i.absUrl();i.$$parse(a),d.$broadcast("$locationChangeStart",a,b).defaultPrevented?(i.$$parse(b),e.url(b)):h(b)}),d.$$phase||d.$digest())});var o=0;return d.$watch(function(){var a=e.url(),b=i.$$replace;return o&&a==i.absUrl()||(o++,d.$evalAsync(function(){d.$broadcast("$locationChangeStart",i.absUrl(),a).defaultPrevented?i.$$parse(a):(e.url(i.absUrl(),b),h(a))})),i.$$replace=!1,o}),i}]}function qc(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||o,g=!1;try{g=!!e.apply}catch(h){}return g?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function rc(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw ie("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function sc(a,b){if(a){if(a.constructor===a)throw ie("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.document&&a.location&&a.alert&&a.setInterval)throw ie("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw ie("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw ie("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function tc(a,b){if(a){if(a.constructor===a)throw ie("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===ke||a===le||me&&a===me)throw ie("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function uc(a,b,d,e,f){f=f||{};for(var g,h=b.split("."),i=0;h.length>1;i++){g=rc(h.shift(),e);var j=a[g];j||(j={},a[g]=j),a=j,a.then&&f.unwrapPromises&&(he(e),"$$v"in a||!function(a){a.then(function(b){a.$$v=b})}(a),a.$$v===c&&(a.$$v={}),a=a.$$v)}return g=rc(h.shift(),e),sc(a,e),sc(a[g],e),a[g]=d,d}function vc(a,b,d,e,f,g,h){return rc(a,g),rc(b,g),rc(d,g),rc(e,g),rc(f,g),h.unwrapPromises?function(h,i){var j,k=i&&i.hasOwnProperty(a)?i:h;return null==k?k:(k=k[a],k&&k.then&&(he(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),b?null==k?c:(k=k[b],k&&k.then&&(he(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),d?null==k?c:(k=k[d],k&&k.then&&(he(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),e?null==k?c:(k=k[e],k&&k.then&&(he(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),f?null==k?c:(k=k[f],k&&k.then&&(he(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),k):k):k):k):k)}:function(g,h){var i=h&&h.hasOwnProperty(a)?h:g;return null==i?i:(i=i[a],b?null==i?c:(i=i[b],d?null==i?c:(i=i[d],e?null==i?c:(i=i[e],f?null==i?c:i=i[f]:i):i):i):i)}}function wc(a,b,d){if(re.hasOwnProperty(a))return re[a];var e,g=a.split("."),h=g.length;if(b.csp)e=6>h?vc(g[0],g[1],g[2],g[3],g[4],d,b):function(a,e){var f,i=0;do f=vc(g[i++],g[i++],g[i++],g[i++],g[i++],d,b)(a,e),e=c,a=f;while(h>i);return f};else{var i="var p;\n";f(g,function(a,c){rc(a,d),i+="if(s == null) return undefined;\ns="+(c?"s":'((k&&k.hasOwnProperty("'+a+'"))?k:s)')+'["'+a+'"];\n'+(b.unwrapPromises?'if (s && s.then) {\n pw("'+d.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")}),i+="return s;";var j=new Function("s","k","pw",i);j.toString=q(i),e=b.unwrapPromises?function(a,b){return j(a,b,he)}:j}return"hasOwnProperty"!==a&&(re[a]=e),e}function xc(){var a={},b={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(a){return s(a)?(b.unwrapPromises=!!a,this):b.unwrapPromises},this.logPromiseWarnings=function(a){return s(a)?(b.logPromiseWarnings=a,this):b.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(c,d,e){return b.csp=d.csp,he=function(a){b.logPromiseWarnings&&!je.hasOwnProperty(a)&&(je[a]=!0,e.warn("[$parse] Promise found in the expression `"+a+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(d){var e;switch(typeof d){case"string":if(a.hasOwnProperty(d))return a[d];var f=new pe(b),g=new qe(f,c,b);return e=g.parse(d),"hasOwnProperty"!==d&&(a[d]=e),e;case"function":return d;default:return o}}}]}function yc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return zc(function(b){a.$evalAsync(b)},b)}]}function zc(a,b){function d(a){return a}function e(a){return j(a)}function g(a){var b=h(),c=0,d=Cd(a)?[]:{};return f(a,function(a,e){c++,i(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var h=function(){var f,g,j=[];return g={resolve:function(b){if(j){var d=j;j=c,f=i(b),d.length&&a(function(){for(var a,b=0,c=d.length;c>b;b++)a=d[b],f.then(a[0],a[1],a[2])})}},reject:function(a){g.resolve(k(a))},notify:function(b){if(j){var c=j;j.length&&a(function(){for(var a,d=0,e=c.length;e>d;d++)a=c[d],a[2](b)})}},promise:{then:function(a,c,g){var i=h(),k=function(c){try{i.resolve((x(a)?a:d)(c))}catch(e){i.reject(e),b(e)}},l=function(a){try{i.resolve((x(c)?c:e)(a))}catch(d){i.reject(d),b(d)}},m=function(a){try{i.notify((x(g)?g:d)(a))}catch(c){b(c)}};return j?j.push([k,l,m]):f.then(k,l,m),i.promise},"catch":function(a){return this.then(null,a)},"finally":function(a){function b(a,b){var c=h();return b?c.resolve(a):c.reject(a),c.promise}function c(c,e){var f=null;try{f=(a||d)()}catch(g){return b(g,!1)}return D(f)?f.then(function(){return b(c,e)},function(a){return b(a,!1)}):b(c,e)}return this.then(function(a){return c(a,!0)},function(a){return c(a,!1)})}}}},i=function(b){return D(b)?b:{then:function(c){var d=h();return a(function(){d.resolve(c(b))}),d.promise}}},j=function(a){var b=h();return b.reject(a),b.promise},k=function(c){return{then:function(d,f){var g=h();return a(function(){try{g.resolve((x(f)?f:e)(c))}catch(a){g.reject(a),b(a)}}),g.promise}}},l=function(c,f,g,k){var l,m=h(),n=function(a){try{return(x(f)?f:d)(a)}catch(c){return b(c),j(c)}},o=function(a){try{return(x(g)?g:e)(a)}catch(c){return b(c),j(c)}},p=function(a){try{return(x(k)?k:d)(a)}catch(c){b(c)}};return a(function(){i(c).then(function(a){l||(l=!0,m.resolve(i(a).then(n,o,p)))},function(a){l||(l=!0,m.resolve(o(a)))},function(a){l||m.notify(p(a))})}),m.promise};return{defer:h,reject:j,when:l,all:g}}function Ac(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Bc(){var a=10,b=d("$rootScope"),c=null;this.digestTtl=function(b){return arguments.length&&(a=b),a},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,g,h,i){function k(){this.$id=j(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function l(a){if(r.$$phase)throw b("inprog","{0} already in progress",r.$$phase);r.$$phase=a}function m(){r.$$phase=null}function n(a,b){var c=h(a);return cb(c,b),c}function p(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function q(){}k.prototype={constructor:k,$new:function(a){var b;return a?(b=new k,b.$root=this.$root,b.$$asyncQueue=this.$$asyncQueue,b.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=j(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),b=new this.$$childScopeClass),b["this"]=b,b.$parent=this,b.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=b,this.$$childTail=b):this.$$childHead=this.$$childTail=b,b},$watch:function(a,b,d){var e=this,f=n(a,"watch"),g=e.$$watchers,h={fn:b,last:q,get:f,exp:a,eq:!!d};if(c=null,!x(b)){var i=n(b||o,"listener");h.fn=function(a,b,c){i(c)}}if("string"==typeof a&&f.constant){var j=h.fn;h.fn=function(a,b,c){j.call(this,a,b,c),I(g,h)}}return g||(g=e.$$watchers=[]),g.unshift(h),function(){I(g,h),c=null}},$watchCollection:function(a,b){function c(){f=m(j);var a,b,c;if(t(f))if(e(f)){g!==n&&(g=n,q=g.length=0,l++),a=f.length,q!==a&&(l++,g.length=q=a);for(var d=0;a>d;d++)c=g[d]!==g[d]&&f[d]!==f[d],c||g[d]===f[d]||(l++,g[d]=f[d])}else{g!==o&&(g=o={},q=0,l++),a=0;for(b in f)f.hasOwnProperty(b)&&(a++,g.hasOwnProperty(b)?(c=g[b]!==g[b]&&f[b]!==f[b],c||g[b]===f[b]||(l++,g[b]=f[b])):(q++,g[b]=f[b],l++));if(q>a){l++;for(b in g)g.hasOwnProperty(b)&&!f.hasOwnProperty(b)&&(q--,delete g[b])}}else g!==f&&(g=f,l++);return l}function d(){if(p?(p=!1,b(f,f,j)):b(f,i,j),k)if(t(f))if(e(f)){i=new Array(f.length);for(var a=0;a<f.length;a++)i[a]=f[a]}else{i={};for(var c in f)nd.call(f,c)&&(i[c]=f[c])}else i=f}var f,g,i,j=this,k=b.length>1,l=0,m=h(a),n=[],o={},p=!0,q=0;return this.$watch(c,d)},$digest:function(){var d,e,f,h,i,j,k,n,o,p,r,s=this.$$asyncQueue,t=this.$$postDigestQueue,u=a,v=this,w=[];l("$digest"),c=null;do{for(j=!1,n=v;s.length;){try{r=s.shift(),r.scope.$eval(r.expression)}catch(y){m(),g(y)}c=null}a:do{if(h=n.$$watchers)for(i=h.length;i--;)try{if(d=h[i])if((e=d.get(n))===(f=d.last)||(d.eq?L(e,f):"number"==typeof e&&"number"==typeof f&&isNaN(e)&&isNaN(f))){if(d===c){j=!1;break a}}else j=!0,c=d,d.last=d.eq?J(e,null):e,d.fn(e,f===q?e:f,n),5>u&&(o=4-u,w[o]||(w[o]=[]),p=x(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp,p+="; newVal: "+Q(e)+"; oldVal: "+Q(f),w[o].push(p))}catch(y){m(),g(y)}if(!(k=n.$$childHead||n!==v&&n.$$nextSibling))for(;n!==v&&!(k=n.$$nextSibling);)n=n.$parent}while(n=k);if((j||s.length)&&!u--)throw m(),b("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",a,Q(w))}while(j||s.length);for(m();t.length;)try{t.shift()()}catch(y){g(y)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==r&&(f(this.$$listenerCount,O(null,p,this)),a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=o,this.$on=this.$watch=function(){return o})}},$eval:function(a,b){return h(a)(this,b)},$evalAsync:function(a){r.$$phase||r.$$asyncQueue.length||i.defer(function(){r.$$asyncQueue.length&&r.$digest()}),this.$$asyncQueue.push({scope:this,expression:a})},$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{return l("$apply"),this.$eval(a)}catch(b){g(b)}finally{m();try{r.$digest()}catch(b){throw g(b),b}}},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){c[H(c,b)]=null,p(e,1,a)}},$emit:function(a){var b,c,d,e=[],f=this,h=!1,i={name:a,targetScope:f,stopPropagation:function(){h=!0},preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},j=M([i],arguments,1);do{for(b=f.$$listeners[a]||e,i.currentScope=f,c=0,d=b.length;d>c;c++)if(b[c])try{b[c].apply(null,j)}catch(k){g(k)}else b.splice(c,1),c--,d--;if(h)return i;f=f.$parent}while(f);return i},$broadcast:function(a){for(var b,c,d,e=this,f=e,h=e,i={name:a,targetScope:e,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},j=M([i],arguments,1);f=h;){for(i.currentScope=f,b=f.$$listeners[a]||[],c=0,d=b.length;d>c;c++)if(b[c])try{b[c].apply(null,j)}catch(k){g(k)}else b.splice(c,1),c--,d--;if(!(h=f.$$listenerCount[a]&&f.$$childHead||f!==e&&f.$$nextSibling))for(;f!==e&&!(h=f.$$nextSibling);)f=f.$parent}return i}};var r=new k;return r}]}function Cc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return s(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return rd&&!(rd>=8)||(e=Kc(c).href,""===e||e.match(f))?c:"unsafe:"+e}}}function Dc(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Ec(a){if("self"===a)return a;if(u(a)){if(a.indexOf("***")>-1)throw se("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=Dc(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(y(a))return new RegExp("^"+a.source+"$");throw se("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Fc(a){var b=[];return s(a)&&f(a,function(a){b.push(Ec(a))}),b}function Gc(){this.SCE_CONTEXTS=te;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Fc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Fc(a)),b},this.$get=["$injector",function(d){function e(a,b){return"self"===a?Lc(b):!!a.exec(b.href)}function f(c){var d,f,g=Kc(c.toString()),h=!1;for(d=0,f=a.length;f>d;d++)if(e(a[d],g)){h=!0;break}if(h)for(d=0,f=b.length;f>d;d++)if(e(b[d],g)){h=!1;break}return h}function g(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function h(a,b){var d=m.hasOwnProperty(a)?m[a]:null;if(!d)throw se("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||b===c||""===b)return b;if("string"!=typeof b)throw se("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new d(b)}function i(a){return a instanceof l?a.$$unwrapTrustedValue():a}function j(a,b){if(null===b||b===c||""===b)return b;var d=m.hasOwnProperty(a)?m[a]:null;if(d&&b instanceof d)return b.$$unwrapTrustedValue();if(a===te.RESOURCE_URL){if(f(b))return b;throw se("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===te.HTML)return k(b);throw se("unsafe","Attempting to use an unsafe value in a safe context.")}var k=function(){throw se("unsafe","Attempting to use an unsafe value in a safe context.")};d.has("$sanitize")&&(k=d.get("$sanitize"));var l=g(),m={};return m[te.HTML]=g(l),m[te.CSS]=g(l),m[te.URL]=g(l),m[te.JS]=g(l),m[te.RESOURCE_URL]=g(m[te.URL]),{trustAs:h,getTrusted:j,valueOf:i}}]}function Hc(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sniffer","$sceDelegate",function(b,c,d){if(a&&c.msie&&c.msieDocumentMode<8)throw se("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var e=K(te);e.isEnabled=function(){return a},e.trustAs=d.trustAs,e.getTrusted=d.getTrusted,e.valueOf=d.valueOf,a||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=p),e.parseAs=function(a,c){var d=b(c);return d.literal&&d.constant?d:function(b,c){return e.getTrusted(a,d(b,c))}};var g=e.parseAs,h=e.getTrusted,i=e.trustAs;return f(te,function(a,b){var c=md(b);e[jb("parse_as_"+c)]=function(b){return g(a,b)},e[jb("get_trusted_"+c)]=function(b){return h(a,b)},e[jb("trust_as_"+c)]=function(b){return i(a,b)}}),e}]}function Ic(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=m((/android (\d+)/.exec(md((a.navigator||{}).userAgent))||[])[1]),g=/Boxee/i.test((a.navigator||{}).userAgent),h=b[0]||{},i=h.documentMode,j=/^(Moz|webkit|O|ms)(?=[A-Z])/,k=h.body&&h.body.style,l=!1,n=!1;if(k){for(var o in k)if(d=j.exec(o)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in k&&"webkit"),l=!!("transition"in k||c+"Transition"in k),n=!!("animation"in k||c+"Animation"in k),!f||l&&n||(l=u(h.body.style.webkitTransition),n=u(h.body.style.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>f||g),hashchange:"onhashchange"in a&&(!i||i>7),hasEvent:function(a){if("input"==a&&9==rd)return!1;if(r(e[a])){var b=h.createElement("div");e[a]="on"+a in b}return e[a]},csp:Ed(),vendorPrefix:c,transitions:l,animations:n,android:f,msie:rd,msieDocumentMode:i}}]}function Jc(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(a,b,c,d){function e(e,g,h){var i,j=c.defer(),k=j.promise,l=s(h)&&!h;return i=b.defer(function(){try{j.resolve(e())}catch(b){j.reject(b),d(b)}finally{delete f[k.$$timeoutId]}l||a.$apply()},g),k.$$timeoutId=i,f[i]=j,k}var f={};return e.cancel=function(a){return a&&a.$$timeoutId in f?(f[a.$$timeoutId].reject("canceled"),delete f[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},e}]}function Kc(a){var b=a;return rd&&(ue.setAttribute("href",b),b=ue.href),ue.setAttribute("href",b),{href:ue.href,protocol:ue.protocol?ue.protocol.replace(/:$/,""):"",host:ue.host,search:ue.search?ue.search.replace(/^\?/,""):"",hash:ue.hash?ue.hash.replace(/^#/,""):"",hostname:ue.hostname,port:ue.port,pathname:"/"===ue.pathname.charAt(0)?ue.pathname:"/"+ue.pathname}}function Lc(a){var b=u(a)?Kc(a):a;return b.protocol===ve.protocol&&b.host===ve.host}function Mc(){this.$get=q(a)}function Nc(a){function b(d,e){if(t(d)){var g={};return f(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Pc),b("date",Xc),b("filter",Oc),b("json",Yc),b("limitTo",Zc),b("lowercase",Ae),b("number",Qc),b("orderBy",$c),b("uppercase",Be)}function Oc(){return function(a,b,c){if(!Cd(a))return a;var d=typeof c,e=[];e.check=function(a){for(var b=0;b<e.length;b++)if(!e[b](a))return!1;return!0},"function"!==d&&(c="boolean"===d&&c?function(a,b){return Ad.equals(a,b)}:function(a,b){if(a&&b&&"object"==typeof a&&"object"==typeof b){for(var d in a)if("$"!==d.charAt(0)&&nd.call(a,d)&&c(a[d],b[d]))return!0;return!1}return b=(""+b).toLowerCase(),(""+a).toLowerCase().indexOf(b)>-1});var f=function(a,b){if("string"==typeof b&&"!"===b.charAt(0))return!f(a,b.substr(1));switch(typeof a){case"boolean":case"number":case"string":return c(a,b);case"object":switch(typeof b){case"object":return c(a,b);default:for(var d in a)if("$"!==d.charAt(0)&&f(a[d],b))return!0}return!1;case"array":for(var e=0;e<a.length;e++)if(f(a[e],b))return!0;return!1;default:return!1}};switch(typeof b){case"boolean":case"number":case"string":b={$:b};case"object":for(var g in b)!function(a){"undefined"!=typeof b[a]&&e.push(function(c){return f("$"==a?c:c&&c[a],b[a])})}(g);break;case"function":e.push(b);break;default:return a}for(var h=[],i=0;i<a.length;i++){var j=a[i];e.check(j)&&h.push(j)}return h}}function Pc(a){var b=a.NUMBER_FORMATS;return function(a,c){return r(c)&&(c=b.CURRENCY_SYM),Rc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,2).replace(/\u00A4/g,c)}}function Qc(a){var b=a.NUMBER_FORMATS;return function(a,c){return Rc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Rc(a,b,c,d,e){if(null==a||!isFinite(a)||t(a))return"";var f=0>a;a=Math.abs(a);var g=a+"",h="",i=[],j=!1;if(-1!==g.indexOf("e")){var k=g.match(/([\d\.]+)e(-?)(\d+)/);k&&"-"==k[2]&&k[3]>e+1?(g="0",a=0):(h=g,j=!0)}if(j)e>0&&a>-1&&1>a&&(h=a.toFixed(e));else{var l=(g.split(we)[1]||"").length;r(e)&&(e=Math.min(Math.max(b.minFrac,l),b.maxFrac)),a=+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e);var m=(""+a).split(we),n=m[0];m=m[1]||"";var o,p=0,q=b.lgSize,s=b.gSize;if(n.length>=q+s)for(p=n.length-q,o=0;p>o;o++)(p-o)%s===0&&0!==o&&(h+=c),h+=n.charAt(o);for(o=p;o<n.length;o++)(n.length-o)%q===0&&0!==o&&(h+=c),h+=n.charAt(o);for(;m.length<e;)m+="0";e&&"0"!==e&&(h+=d+m.substr(0,e))}return i.push(f?b.negPre:b.posPre),i.push(h),i.push(f?b.negSuf:b.posSuf),i.join("")}function Sc(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function Tc(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();return(c>0||f>-c)&&(f+=c),0===f&&-12==c&&(f=12),Sc(f,b,d)}}function Uc(a,b){return function(c,d){var e=c["get"+a](),f=od(b?"SHORT"+a:a);return d[f][e]}}function Vc(a){var b=-1*a.getTimezoneOffset(),c=b>=0?"+":"";return c+=Sc(Math[b>0?"floor":"ceil"](b/60),2)+Sc(Math.abs(b%60),2)}function Wc(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function Xc(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=m(b[9]+b[10]),f=m(b[9]+b[11])),g.call(d,m(b[1]),m(b[2])-1,m(b[3]));var i=m(b[4]||0)-e,j=m(b[5]||0)-f,k=m(b[6]||0),l=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,l),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d){var e,g,h="",i=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,u(c)&&(c=ze.test(c)?m(c):b(c)),v(c)&&(c=new Date(c)),!w(c))return c;for(;d;)g=ye.exec(d),g?(i=M(i,g,1),d=i.pop()):(i.push(d),d=null);return f(i,function(b){e=xe[b],h+=e?e(c,a.DATETIME_FORMATS):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}}function Yc(){return function(a){return Q(a,!0)}}function Zc(){return function(a,b){if(!Cd(a)&&!u(a))return a;if(b=1/0===Math.abs(Number(b))?Number(b):m(b),u(a))return b?b>=0?a.slice(0,b):a.slice(b,a.length):"";var c,d,e=[];for(b>a.length?b=a.length:b<-a.length&&(b=-a.length),b>0?(c=0,d=b):(c=a.length+b,d=a.length);d>c;c++)e.push(a[c]);return e}}function $c(a){return function(b,c,d){function e(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0}function f(a,b){return S(b)?function(b,c){return a(c,b)}:a}function g(a,b){var c=typeof a,d=typeof b;return c==d?(w(a)&&w(b)&&(a=a.valueOf(),b=b.valueOf()),"string"==c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:b>a?-1:1):d>c?-1:1}if(!Cd(b))return b;if(!c)return b;c=Cd(c)?c:[c],c=F(c,function(b){var c=!1,d=b||p;if(u(b)&&(("+"==b.charAt(0)||"-"==b.charAt(0))&&(c="-"==b.charAt(0),b=b.substring(1)),d=a(b),d.constant)){var e=d();return f(function(a,b){return g(a[e],b[e])},c)}return f(function(a,b){return g(d(a),d(b))},c)});for(var h=[],i=0;i<b.length;i++)h.push(b[i]);return h.sort(f(e,d))}}function _c(a){return x(a)&&(a={link:a}),a.restrict=a.restrict||"AC",q(a)}function ad(a,b,c,d){function e(b,c){c=c?"-"+_(c,"-"):"",d.removeClass(a,(b?Pe:Oe)+c),d.addClass(a,(b?Oe:Pe)+c)}var g=this,h=a.parent().controller("form")||Ee,i=0,j=g.$error={},k=[];g.$name=b.name||b.ngForm,g.$dirty=!1,g.$pristine=!0,g.$valid=!0,g.$invalid=!1,h.$addControl(g),a.addClass(Qe),e(!0),g.$addControl=function(a){db(a.$name,"input"),k.push(a),a.$name&&(g[a.$name]=a)},g.$removeControl=function(a){a.$name&&g[a.$name]===a&&delete g[a.$name],f(j,function(b,c){g.$setValidity(c,!0,a)}),I(k,a)},g.$setValidity=function(a,b,c){var d=j[a];if(b)d&&(I(d,c),d.length||(i--,i||(e(b),g.$valid=!0,g.$invalid=!1),j[a]=!1,e(!0,a),h.$setValidity(a,!0,g)));else{if(i||e(b),d){if(G(d,c))return}else j[a]=d=[],i++,e(!1,a),h.$setValidity(a,!1,g);d.push(c),g.$valid=!1,g.$invalid=!0}},g.$setDirty=function(){d.removeClass(a,Qe),d.addClass(a,Re),g.$dirty=!0,g.$pristine=!1,h.$setDirty()},g.$setPristine=function(){d.removeClass(a,Re),d.addClass(a,Qe),g.$dirty=!1,g.$pristine=!0,f(k,function(a){a.$setPristine()})}}function bd(a,b,d,e){return a.$setValidity(b,d),d?e:c}function cd(a,b){var c,d;if(b)for(c=0;c<b.length;++c)if(d=b[c],a[d])return!0;return!1}function dd(a,b,c,d,e){if(t(e)){a.$$hasNativeValidators=!0;var f=function(f){return a.$error[b]||cd(e,d)||!cd(e,c)?f:void a.$setValidity(b,!1)};a.$parsers.push(f)}}function ed(a,b,c,e,f,g){var h=b.prop(ld),i=b[0].placeholder,j={},k=md(b[0].type);if(e.$$validityState=h,!f.android){var l=!1;b.on("compositionstart",function(){l=!0}),b.on("compositionend",function(){l=!1,n()})}var n=function(d){if(!l){var f=b.val();if(rd&&"input"===(d||j).type&&b[0].placeholder!==i)return void(i=b[0].placeholder);"password"!==k&&S(c.ngTrim||"T")&&(f=Dd(f));var g=h&&e.$$hasNativeValidators;(e.$viewValue!==f||""===f&&g)&&(a.$$phase?e.$setViewValue(f):a.$apply(function(){e.$setViewValue(f)}))}};if(f.hasEvent("input"))b.on("input",n);else{var o,p=function(){o||(o=g.defer(function(){n(),o=null}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||p()}),f.hasEvent("paste")&&b.on("paste cut",p)}b.on("change",n),e.$render=function(){b.val(e.$isEmpty(e.$viewValue)?"":e.$viewValue)};var q,r,s=c.ngPattern;if(s){var t=function(a,b){return bd(e,"pattern",e.$isEmpty(b)||a.test(b),b)};r=s.match(/^\/(.*)\/([gim]*)$/),r?(s=new RegExp(r[1],r[2]),q=function(a){return t(s,a)}):q=function(c){var e=a.$eval(s);if(!e||!e.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,T(b));return t(e,c)},e.$formatters.push(q),e.$parsers.push(q)}if(c.ngMinlength){var u=m(c.ngMinlength),v=function(a){return bd(e,"minlength",e.$isEmpty(a)||a.length>=u,a)};e.$parsers.push(v),e.$formatters.push(v)}if(c.ngMaxlength){var w=m(c.ngMaxlength),x=function(a){return bd(e,"maxlength",e.$isEmpty(a)||a.length<=w,a)};e.$parsers.push(x),e.$formatters.push(x)}}function fd(a,b,d,e,f,g){if(ed(a,b,d,e,f,g),e.$parsers.push(function(a){var b=e.$isEmpty(a);return b||Ke.test(a)?(e.$setValidity("number",!0),""===a?null:b?a:parseFloat(a)):(e.$setValidity("number",!1),c)}),dd(e,"number",Me,null,e.$$validityState),e.$formatters.push(function(a){return e.$isEmpty(a)?"":""+a}),d.min){var h=function(a){var b=parseFloat(d.min);return bd(e,"min",e.$isEmpty(a)||a>=b,a)
};e.$parsers.push(h),e.$formatters.push(h)}if(d.max){var i=function(a){var b=parseFloat(d.max);return bd(e,"max",e.$isEmpty(a)||b>=a,a)};e.$parsers.push(i),e.$formatters.push(i)}e.$formatters.push(function(a){return bd(e,"number",e.$isEmpty(a)||v(a),a)})}function gd(a,b,c,d,e,f){ed(a,b,c,d,e,f);var g=function(a){return bd(d,"url",d.$isEmpty(a)||Ie.test(a),a)};d.$formatters.push(g),d.$parsers.push(g)}function hd(a,b,c,d,e,f){ed(a,b,c,d,e,f);var g=function(a){return bd(d,"email",d.$isEmpty(a)||Je.test(a),a)};d.$formatters.push(g),d.$parsers.push(g)}function id(a,b,c,d){r(c.name)&&b.attr("name",j()),b.on("click",function(){b[0].checked&&a.$apply(function(){d.$setViewValue(c.value)})}),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function jd(a,b,c,d){var e=c.ngTrueValue,f=c.ngFalseValue;u(e)||(e=!0),u(f)||(f=!1),b.on("click",function(){a.$apply(function(){d.$setViewValue(b[0].checked)})}),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a!==e},d.$formatters.push(function(a){return a===e}),d.$parsers.push(function(a){return a?e:f})}function kd(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){if(Cd(a))return a;if(u(a))return a.split(" ");if(t(a)){var b=[];return f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b}return a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||{},d=[];return f(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);f=l(f,-1),e=l(e,1),0===e.length?c.removeClass(h,f):0===f.length?c.addClass(h,e):c.setClass(h,e,f)}function n(a){if(b===!0||g.$index%2===b){var c=e(a||[]);if(o){if(!L(a,o)){var d=e(o);m(d,c)}}else j(c)}o=K(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?j(h):k(h)}})}}}]}var ld="validity",md=function(a){return u(a)?a.toLowerCase():a},nd=Object.prototype.hasOwnProperty,od=function(a){return u(a)?a.toUpperCase():a},pd=function(a){return u(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},qd=function(a){return u(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(md=pd,od=qd);var rd,sd,td,ud,vd,wd=[].slice,xd=[].push,yd=Object.prototype.toString,zd=d("ng"),Ad=a.angular||(a.angular={}),Bd=["0","0","0"];rd=m((/msie (\d+)/.exec(md(navigator.userAgent))||[])[1]),isNaN(rd)&&(rd=m((/trident\/.*; rv:(\d+)/.exec(md(navigator.userAgent))||[])[1])),o.$inject=[],p.$inject=[];var Cd=function(){return x(Array.isArray)?Array.isArray:function(a){return"[object Array]"===yd.call(a)}}(),Dd=function(){return String.prototype.trim?function(a){return u(a)?a.trim():a}:function(a){return u(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}();vd=9>rd?function(a){return a=a.nodeName?a:a[0],a.scopeName&&"HTML"!=a.scopeName?od(a.scopeName+":"+a.nodeName):a.nodeName}:function(a){return a.nodeName?a.nodeName:a[0].nodeName};var Ed=function(){if(s(Ed.isActive_))return Ed.isActive_;var a=!(!b.querySelector("[ng-csp]")&&!b.querySelector("[data-ng-csp]"));if(!a)try{new Function("")}catch(c){a=!0}return Ed.isActive_=a},Fd=/[A-Z]/g,Gd={full:"1.2.23",major:1,minor:2,dot:23,codeName:"superficial-malady"};ob.expando="ng339";var Hd=ob.cache={},Id=1,Jd=a.document.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},Kd=a.document.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)},Ld=(ob._data=function(a){return this.cache[a[this.expando]]||{}},/([\:\-\_]+(.))/g),Md=/^moz([A-Z])/,Nd=d("jqLite"),Od=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Pd=/<|&#?\w+;/,Qd=/<([\w:]+)/,Rd=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Sd={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Sd.optgroup=Sd.option,Sd.tbody=Sd.tfoot=Sd.colgroup=Sd.caption=Sd.thead,Sd.th=Sd.td;var Td=ob.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),ob(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return sd(a>=0?this[a]:this[this.length+a])},length:0,push:xd,sort:[].sort,splice:[].splice},Ud={};f("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){Ud[md(a)]=a});var Vd={};f("input,select,option,textarea,button,form,details".split(","),function(a){Vd[od(a)]=!0}),f({data:ub,removeData:sb},function(a,b){ob[b]=a}),f({data:ub,inheritedData:Ab,scope:function(a){return sd.data(a,"$scope")||Ab(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return sd.data(a,"$isolateScope")||sd.data(a,"$isolateScopeNoTemplate")},controller:zb,injector:function(a){return Ab(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:vb,css:function(a,b,d){if(b=jb(b),!s(d)){var e;return 8>=rd&&(e=a.currentStyle&&a.currentStyle[b],""===e&&(e="auto")),e=e||a.style[b],8>=rd&&(e=""===e?c:e),e}a.style[b]=d},attr:function(a,b,d){var e=md(b);if(Ud[e]){if(!s(d))return a[b]||(a.attributes.getNamedItem(b)||o).specified?e:c;d?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(s(d))a.setAttribute(b,d);else if(a.getAttribute){var f=a.getAttribute(b,2);return null===f?c:f}},prop:function(a,b,c){return s(c)?void(a[b]=c):a[b]},text:function(){function a(a,c){var d=b[a.nodeType];return r(c)?d?a[d]:"":void(a[d]=c)}var b=[];return 9>rd?(b[1]="innerText",b[3]="nodeValue"):b[1]=b[3]="textContent",a.$dv="",a}(),val:function(a,b){if(r(b)){if("SELECT"===vd(a)&&a.multiple){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){if(r(b))return a.innerHTML;for(var c=0,d=a.childNodes;c<d.length;c++)qb(d[c]);a.innerHTML=b},empty:Bb},function(a,b){ob.prototype[b]=function(b,d){var e,f,g=this.length;if(a!==Bb&&(2==a.length&&a!==vb&&a!==zb?b:d)===c){if(t(b)){for(e=0;g>e;e++)if(a===ub)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(var h=a.$dv,i=h===c?Math.min(g,1):g,j=0;i>j;j++){var k=a(this[j],b,d);h=h?h+k:k}return h}for(e=0;g>e;e++)a(this[e],b,d);return this}}),f({removeData:sb,dealoc:qb,on:function Bf(a,c,d,e){if(s(e))throw Nd("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var g=tb(a,"events"),h=tb(a,"handle");g||tb(a,"events",g={}),h||tb(a,"handle",h=Db(a,g)),f(c.split(" "),function(c){var e=g[c];if(!e){if("mouseenter"==c||"mouseleave"==c){var f=b.body.contains||b.body.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};g[c]=[];var i={mouseleave:"mouseout",mouseenter:"mouseover"};Bf(a,i[c],function(a){var b=this,d=a.relatedTarget;(!d||d!==b&&!f(b,d))&&h(a,c)})}else Jd(a,c,h),g[c]=[];e=g[c]}e.push(d)})},off:rb,one:function(a,b,c){a=sd(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;qb(a),f(new ob(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){1===a.nodeType&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){f(new ob(b),function(b){(1===a.nodeType||11===a.nodeType)&&a.appendChild(b)})},prepend:function(a,b){if(1===a.nodeType){var c=a.firstChild;f(new ob(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=sd(b)[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:function(a){qb(a);var b=a.parentNode;b&&b.removeChild(a)},after:function(a,b){var c=a,d=a.parentNode;f(new ob(b),function(a){d.insertBefore(a,c.nextSibling),c=a})},addClass:xb,removeClass:wb,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;r(d)&&(d=!vb(a,b)),(d?xb:wb)(a,b)})},parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;for(var b=a.nextSibling;null!=b&&1!==b.nodeType;)b=b.nextSibling;return b},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:pb,triggerHandler:function(a,b,c){var d,e,g,h=b.type||b,i=(tb(a,"events")||{})[h];i&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopPropagation:o,type:h,target:a},b.type&&(d=l(d,b)),e=K(i),g=c?[d].concat(c):[d],f(e,function(b){b.apply(a,g)}))}},function(a,b){ob.prototype[b]=function(b,c,d){for(var e,f=0;f<this.length;f++)r(e)?(e=a(this[f],b,c,d),s(e)&&(e=sd(e))):yb(e,a(this[f],b,c,d));return s(e)?e:this},ob.prototype.bind=ob.prototype.on,ob.prototype.unbind=ob.prototype.off}),Fb.prototype={put:function(a,b){this[Eb(a,this.nextUid)]=b},get:function(a){return this[Eb(a,this.nextUid)]},remove:function(a){var b=this[a=Eb(a,this.nextUid)];return delete this[a],b}};var Wd=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Xd=/,/,Yd=/^\s*(_?)(\S+?)\1\s*$/,Zd=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,$d=d("$injector"),_d=d("$animate"),ae=["$provide",function(a){this.$$selectors={},this.register=function(b,c){var d=b+"-animation";if(b&&"."!=b.charAt(0))throw _d("notcsel","Expecting class selector starting with '.' got '{0}'.",b);this.$$selectors[b.substr(1)]=d,a.factory(d,c)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(a,b){function c(a){a&&b(a)}return{enter:function(a,b,d,e){d?d.after(a):(b&&b[0]||(b=d.parent()),b.append(a)),c(e)},leave:function(a,b){a.remove(),c(b)},move:function(a,b,c,d){this.enter(a,b,c,d)},addClass:function(a,b,d){b=u(b)?b:Cd(b)?b.join(" "):"",f(a,function(a){xb(a,b)}),c(d)},removeClass:function(a,b,d){b=u(b)?b:Cd(b)?b.join(" "):"",f(a,function(a){wb(a,b)}),c(d)},setClass:function(a,b,d,e){f(a,function(a){xb(a,b),wb(a,d)}),c(e)},enabled:o}}]}],be=d("$compile");Ob.$inject=["$provide","$$sanitizeUriProvider"];var ce=/^(x[\:\-_]|data[\:\-_])/i,de=d("$interpolate"),ee=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,fe={http:80,https:443,ftp:21},ge=d("$location");mc.prototype=lc.prototype=kc.prototype={$$html5:!1,$$replace:!1,absUrl:nc("$$absUrl"),url:function(a,b){if(r(a))return this.$$url;var c=ee.exec(a);return c[1]&&this.path(decodeURIComponent(c[1])),(c[2]||c[1])&&this.search(c[3]||""),this.hash(c[5]||"",b),this},protocol:nc("$$protocol"),host:nc("$$host"),port:nc("$$port"),path:oc("$$path",function(a){return"/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(u(a))this.$$search=V(a);else{if(!t(a))throw ge("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:oc("$$hash",p),replace:function(){return this.$$replace=!0,this}};var he,ie=d("$parse"),je={},ke=Function.prototype.call,le=Function.prototype.apply,me=Function.prototype.bind,ne={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:o,"+":function(a,b,d,e){return d=d(a,b),e=e(a,b),s(d)?s(e)?d+e:d:s(e)?e:c},"-":function(a,b,c,d){return c=c(a,b),d=d(a,b),(s(c)?c:0)-(s(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"^":function(a,b,c,d){return c(a,b)^d(a,b)},"=":o,"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"&":function(a,b,c,d){return c(a,b)&d(a,b)},"|":function(a,b,c,d){return d(a,b)(a,b,c(a,b))},"!":function(a,b,c){return!c(a,b)}},oe={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},pe=function(a){this.options=a};pe.prototype={constructor:pe,lex:function(a){for(this.text=a,this.index=0,this.ch=c,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var b=this.ch+this.peek(),d=b+this.peek(2),e=ne[this.ch],f=ne[b],g=ne[d];g?(this.tokens.push({index:this.index,text:d,fn:g}),this.index+=3):f?(this.tokens.push({index:this.index,text:b,fn:f}),this.index+=2):e?(this.tokens.push({index:this.index,text:this.ch,fn:e}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw ie("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=md(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}a=1*a,this.tokens.push({index:b,text:a,literal:!0,constant:!0,fn:function(){return a}})},readIdent:function(){for(var a,b,c,d,e=this,f="",g=this.index;this.index<this.text.length&&(d=this.text.charAt(this.index),"."===d||this.isIdent(d)||this.isNumber(d));)"."===d&&(a=this.index),f+=d,this.index++;if(a)for(b=this.index;b<this.text.length;){if(d=this.text.charAt(b),"("===d){c=f.substr(a-g+1),f=f.substr(0,a-g),this.index=b;break}if(!this.isWhitespace(d))break;b++}var h={index:g,text:f};if(ne.hasOwnProperty(f))h.fn=ne[f],h.literal=!0,h.constant=!0;else{var i=wc(f,this.options,this.text);h.fn=l(function(a,b){return i(a,b)},{assign:function(a,b){return uc(a,f,b,e.text,e.options)}})}this.tokens.push(h),c&&(this.tokens.push({index:a,text:"."}),this.tokens.push({index:a+1,text:c}))},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=oe[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,string:c,literal:!0,constant:!0,fn:function(){return c}});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var qe=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c};qe.ZERO=l(function(){return 0},{constant:!0}),qe.prototype={constructor:qe,parse:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b.literal=!!b.literal,b.constant=!!b.constant,b},primary:function(){var a;if(this.expect("("))a=this.filterChain(),this.consume(")");else if(this.expect("["))a=this.arrayDeclaration();else if(this.expect("{"))a=this.object();else{var b=this.expect();a=b.fn,a||this.throwError("not a primary expression",b),a.literal=!!b.literal,a.constant=!!b.constant}for(var c,d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,b){throw ie("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},peekToken:function(){if(0===this.tokens.length)throw ie("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){if(this.tokens.length>0){var e=this.tokens[0],f=e.text;if(f===a||f===b||f===c||f===d||!a&&!b&&!c&&!d)return e}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},consume:function(a){this.expect(a)||this.throwError("is unexpected, expecting ["+a+"]",this.peek())},unaryFn:function(a,b){return l(function(c,d){return a(c,d,b)},{constant:b.constant})},ternaryFn:function(a,b,c){return l(function(d,e){return a(d,e)?b(d,e):c(d,e)},{constant:a.constant&&b.constant&&c.constant})},binaryFn:function(a,b,c){return l(function(d,e){return b(d,e,a,c)},{constant:a.constant&&c.constant})},statements:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(b,c){for(var d,e=0;e<a.length;e++){var f=a[e];f&&(d=f(b,c))}return d}},filterChain:function(){for(var a,b=this.expression();;){if(!(a=this.expect("|")))return b;b=this.binaryFn(b,a.fn,this.filter())}},filter:function(){for(var a=this.expect(),b=this.$filter(a.text),c=[];;){if(!(a=this.expect(":"))){var d=function(a,d,e){for(var f=[e],g=0;g<c.length;g++)f.push(c[g](a,d));return b.apply(a,f)};return function(){return d}}c.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var a,b,c=this.ternary();return(b=this.expect("="))?(c.assign||this.throwError("implies assignment but ["+this.text.substring(0,b.index)+"] can not be assigned to",b),a=this.ternary(),function(b,d){return c.assign(b,a(b,d),d)}):c},ternary:function(){var a,b,c=this.logicalOR();return(b=this.expect("?"))?(a=this.assignment(),(b=this.expect(":"))?this.ternaryFn(c,a,this.assignment()):void this.throwError("expected :",b)):c},logicalOR:function(){for(var a,b=this.logicalAND();;){if(!(a=this.expect("||")))return b;b=this.binaryFn(b,a.fn,this.logicalAND())}},logicalAND:function(){var a,b=this.equality();return(a=this.expect("&&"))&&(b=this.binaryFn(b,a.fn,this.logicalAND())),b},equality:function(){var a,b=this.relational();return(a=this.expect("==","!=","===","!=="))&&(b=this.binaryFn(b,a.fn,this.equality())),b},relational:function(){var a,b=this.additive();return(a=this.expect("<",">","<=",">="))&&(b=this.binaryFn(b,a.fn,this.relational())),b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b=this.binaryFn(b,a.fn,this.multiplicative());return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b=this.binaryFn(b,a.fn,this.unary());return b},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(qe.ZERO,a.fn,this.unary()):(a=this.expect("!"))?this.unaryFn(a.fn,this.unary()):this.primary()},fieldAccess:function(a){var b=this,c=this.expect().text,d=wc(c,this.options,this.text);return l(function(b,c,e){return d(e||a(b,c))},{assign:function(d,e,f){var g=a(d,f);return g||a.assign(d,g={}),uc(g,c,e,b.text,b.options)}})},objectIndex:function(a){var b=this,d=this.expression();return this.consume("]"),l(function(e,f){var g,h,i=a(e,f),j=d(e,f);return rc(j,b.text),i?(g=sc(i[j],b.text),g&&g.then&&b.options.unwrapPromises&&(h=g,"$$v"in g||(h.$$v=c,h.then(function(a){h.$$v=a})),g=g.$$v),g):c},{assign:function(c,e,f){var g=rc(d(c,f),b.text),h=sc(a(c,f),b.text);return h||a.assign(c,h={}),h[g]=e}})},functionCall:function(a,b){var c=[];if(")"!==this.peekToken().text)do c.push(this.expression());while(this.expect(","));this.consume(")");var d=this;return function(e,f){for(var g=[],h=b?b(e,f):e,i=0;i<c.length;i++)g.push(c[i](e,f));var j=a(e,f,h)||o;sc(h,d.text),tc(j,d.text);var k=j.apply?j.apply(h,g):j(g[0],g[1],g[2],g[3],g[4]);return sc(k,d.text)}},arrayDeclaration:function(){var a=[],b=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var c=this.expression();a.push(c),c.constant||(b=!1)}while(this.expect(","));return this.consume("]"),l(function(b,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e](b,c));return d},{literal:!0,constant:b})},object:function(){var a=[],b=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var c=this.expect(),d=c.string||c.text;this.consume(":");var e=this.expression();a.push({key:d,value:e}),e.constant||(b=!1)}while(this.expect(","));return this.consume("}"),l(function(b,c){for(var d={},e=0;e<a.length;e++){var f=a[e];d[f.key]=f.value(b,c)}return d},{literal:!0,constant:b})}};var re={},se=d("$sce"),te={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ue=b.createElement("a"),ve=Kc(a.location.href,!0);Nc.$inject=["$provide"],Pc.$inject=["$locale"],Qc.$inject=["$locale"];var we=".",xe={yyyy:Tc("FullYear",4),yy:Tc("FullYear",2,0,!0),y:Tc("FullYear",1),MMMM:Uc("Month"),MMM:Uc("Month",!0),MM:Tc("Month",2,1),M:Tc("Month",1,1),dd:Tc("Date",2),d:Tc("Date",1),HH:Tc("Hours",2),H:Tc("Hours",1),hh:Tc("Hours",2,-12),h:Tc("Hours",1,-12),mm:Tc("Minutes",2),m:Tc("Minutes",1),ss:Tc("Seconds",2),s:Tc("Seconds",1),sss:Tc("Milliseconds",3),EEEE:Uc("Day"),EEE:Uc("Day",!0),a:Wc,Z:Vc},ye=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,ze=/^\-?\d+$/;Xc.$inject=["$locale"];var Ae=q(md),Be=q(od);$c.$inject=["$parse"];var Ce=q({restrict:"E",compile:function(a,c){return 8>=rd&&(c.href||c.name||c.$set("href",""),a.append(b.createComment("IE fix"))),c.href||c.xlinkHref||c.name?void 0:function(a,b){var c="[object SVGAnimatedString]"===yd.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}),De={};f(Ud,function(a,b){if("multiple"!=a){var c=Pb("ng-"+b);De[c]=function(){return{priority:100,link:function(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}}}}}),f(["src","srcset","href"],function(a){var b=Pb("ng-"+a);De[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===yd.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(rd&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var Ee={$addControl:o,$removeControl:o,$setValidity:o,$setDirty:o,$setPristine:o};ad.$inject=["$element","$attrs","$scope","$animate"];var Fe=function(a){return["$timeout",function(b){var d={name:"form",restrict:a?"EAC":"E",controller:ad,compile:function(){return{pre:function(a,d,e,f){if(!e.action){var g=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};Jd(d[0],"submit",g),d.on("$destroy",function(){b(function(){Kd(d[0],"submit",g)},0,!1)})}var h=d.parent().controller("form"),i=e.name||e.ngForm;i&&uc(a,i,f,i),h&&d.on("$destroy",function(){h.$removeControl(f),i&&uc(a,i,c,i),l(f,Ee)})}}}};return d}]},Ge=Fe(),He=Fe(!0),Ie=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Je=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ke=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Le={text:ed,number:fd,url:gd,email:hd,radio:id,checkbox:jd,hidden:o,button:o,submit:o,reset:o,file:o},Me=["badInput"],Ne=["$browser","$sniffer",function(a,b){return{restrict:"E",require:"?ngModel",link:function(c,d,e,f){f&&(Le[md(e.type)]||Le.text)(c,d,e,f,b,a)}}}],Oe="ng-valid",Pe="ng-invalid",Qe="ng-pristine",Re="ng-dirty",Se=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(a,b,c,e,g,h){function i(a,b){b=b?"-"+_(b,"-"):"",h.removeClass(e,(a?Pe:Oe)+b),h.addClass(e,(a?Oe:Pe)+b)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=c.name;var j=g(c.ngModel),k=j.assign;if(!k)throw d("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",c.ngModel,T(e));this.$render=o,this.$isEmpty=function(a){return r(a)||""===a||null===a||a!==a};var l=e.inheritedData("$formController")||Ee,m=0,n=this.$error={};e.addClass(Qe),i(!0),this.$setValidity=function(a,b){n[a]!==!b&&(b?(n[a]&&m--,m||(i(!0),this.$valid=!0,this.$invalid=!1)):(i(!1),this.$invalid=!0,this.$valid=!1,m++),n[a]=!b,i(b,a),l.$setValidity(a,b,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,h.removeClass(e,Re),h.addClass(e,Qe)},this.$setViewValue=function(c){this.$viewValue=c,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,h.removeClass(e,Qe),h.addClass(e,Re),l.$setDirty()),f(this.$parsers,function(a){c=a(c)}),this.$modelValue!==c&&(this.$modelValue=c,k(a,c),f(this.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}}))};var p=this;a.$watch(function(){var b=j(a);if(p.$modelValue!==b){var c=p.$formatters,d=c.length;for(p.$modelValue=b;d--;)b=c[d](b);p.$viewValue!==b&&(p.$viewValue=b,p.$render())}return b})}],Te=function(){return{require:["ngModel","^?form"],controller:Se,link:function(a,b,c,d){var e=d[0],f=d[1]||Ee;f.$addControl(e),a.$on("$destroy",function(){f.$removeControl(e)})}}},Ue=q({require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Ve=function(){return{require:"?ngModel",link:function(a,b,c,d){if(d){c.required=!0;var e=function(a){return c.required&&d.$isEmpty(a)?void d.$setValidity("required",!1):(d.$setValidity("required",!0),a)};d.$formatters.push(e),d.$parsers.unshift(e),c.$observe("required",function(){e(d.$viewValue)})}}}},We=function(){return{require:"ngModel",link:function(a,b,d,e){var g=/\/(.*)\//.exec(d.ngList),h=g&&new RegExp(g[1])||d.ngList||",",i=function(a){if(!r(a)){var b=[];return a&&f(a.split(h),function(a){a&&b.push(Dd(a))}),b}};e.$parsers.push(i),e.$formatters.push(function(a){return Cd(a)?a.join(", "):c}),e.$isEmpty=function(a){return!a||!a.length}}}},Xe=/^(true|false|\d+)$/,Ye=function(){return{priority:100,compile:function(a,b){return Xe.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},Ze=_c({compile:function(a){return a.addClass("ng-binding"),function(a,b,d){b.data("$binding",d.ngBind),a.$watch(d.ngBind,function(a){b.text(a==c?"":a)})}}}),$e=["$interpolate",function(a){return function(b,c,d){var e=a(c.attr(d.$attr.ngBindTemplate));c.addClass("ng-binding").data("$binding",e),d.$observe("ngBindTemplate",function(a){c.text(a)})}}],_e=["$sce","$parse",function(a,b){return{compile:function(c){return c.addClass("ng-binding"),function(c,d,e){function f(){return(g(c)||"").toString()}d.data("$binding",e.ngBindHtml);var g=b(e.ngBindHtml);c.$watch(f,function(){d.html(a.getTrustedHtml(g(c))||"")})}}}}],af=kd("",!0),bf=kd("Odd",0),cf=kd("Even",1),df=_c({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),ef=[function(){return{scope:!0,controller:"@",priority:500}}],ff={};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Pb("ng-"+a);ff[b]=["$parse",function(c){return{compile:function(d,e){var f=c(e[b]);return function(b,c){c.on(md(a),function(a){b.$apply(function(){f(b,{$event:a})})})}}}}]});var gf=["$animate",function(a){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(f){S(f)?i||(i=c.$new(),g(i,function(c){c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)})):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=fb(h.clone),a.leave(j,function(){j=null}),h=null))})}}}],hf=["$http","$templateCache","$anchorScroll","$animate","$sce",function(a,b,c,d,e){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ad.noop,compile:function(f,g){var h=g.ngInclude||g.src,i=g.onload||"",j=g.autoscroll;return function(f,g,k,l,m){var n,o,p,q=0,r=function(){o&&(o.remove(),o=null),n&&(n.$destroy(),n=null),p&&(d.leave(p,function(){o=null}),o=p,p=null)};f.$watch(e.parseAsResourceUrl(h),function(e){var h=function(){!s(j)||j&&!f.$eval(j)||c()},k=++q;e?(a.get(e,{cache:b}).success(function(a){if(k===q){var b=f.$new();l.template=a;var c=m(b,function(a){r(),d.enter(a,null,g,h)});n=b,p=c,n.$emit("$includeContentLoaded"),f.$eval(i)}}).error(function(){k===q&&r()}),f.$emit("$includeContentRequested")):(r(),l.template=null)})}}}}],jf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,c,d,e){c.html(e.template),a(c.contents())(b)}}}],kf=_c({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),lf=_c({terminal:!0,priority:1e3}),mf=["$locale","$interpolate",function(a,b){var c=/{}/g;return{restrict:"EA",link:function(d,e,g){var h=g.count,i=g.$attr.when&&e.attr(g.$attr.when),j=g.offset||0,k=d.$eval(i)||{},l={},m=b.startSymbol(),n=b.endSymbol(),o=/^when(Minus)?(.+)$/;f(g,function(a,b){o.test(b)&&(k[md(b.replace("when","").replace("Minus","-"))]=e.attr(g.$attr[b]))}),f(k,function(a,d){l[d]=b(a.replace(c,m+h+"-"+j+n))}),d.$watch(function(){var b=parseFloat(d.$eval(h));return isNaN(b)?"":(b in k||(b=a.pluralCat(b-j)),l[b](d,e,!0))},function(a){e.text(a)})}}}],nf=["$parse","$animate",function(a,c){function g(a){return a.clone[0]}function h(a){return a.clone[a.clone.length-1]}var i="$$NG_REMOVED",j=d("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(d,k,l,m,n){var o,p,q,r,s,t,u,v,w,x=l.ngRepeat,y=x.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),z={$id:Eb};if(!y)throw j("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",x);if(t=y[1],u=y[2],o=y[3],o?(p=a(o),q=function(a,b,c){return w&&(z[w]=a),z[v]=b,z.$index=c,p(d,z)}):(r=function(a,b){return Eb(b)},s=function(a){return a}),y=t.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!y)throw j("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",t);v=y[3]||y[1],w=y[2];var A={};d.$watchCollection(u,function(a){var l,m,o,p,t,u,y,z,B,C,D,E,F=k[0],G={},H=[];if(e(a))C=a,B=q||r;else{B=q||s,C=[];for(u in a)a.hasOwnProperty(u)&&"$"!=u.charAt(0)&&C.push(u);C.sort()}for(p=C.length,m=H.length=C.length,l=0;m>l;l++)if(u=a===C?l:C[l],y=a[u],z=B(u,y,l),db(z,"`track by` id"),A.hasOwnProperty(z))D=A[z],delete A[z],G[z]=D,H[l]=D;else{if(G.hasOwnProperty(z))throw f(H,function(a){a&&a.scope&&(A[a.id]=a)}),j("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",x,z);H[l]={id:z},G[z]=!1}for(u in A)A.hasOwnProperty(u)&&(D=A[u],E=fb(D.clone),c.leave(E),f(E,function(a){a[i]=!0
}),D.scope.$destroy());for(l=0,m=C.length;m>l;l++){if(u=a===C?l:C[l],y=a[u],D=H[l],H[l-1]&&(F=h(H[l-1])),D.scope){t=D.scope,o=F;do o=o.nextSibling;while(o&&o[i]);g(D)!=o&&c.move(fb(D.clone),null,sd(F)),F=h(D)}else t=d.$new();t[v]=y,w&&(t[w]=u),t.$index=l,t.$first=0===l,t.$last=l===p-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&l)),D.scope||n(t,function(a){a[a.length++]=b.createComment(" end ngRepeat: "+x+" "),c.enter(a,null,sd(F)),F=a,D.scope=t,D.clone=a,G[D.id]=D})}A=G})}}}],of=["$animate",function(a){return function(b,c,d){b.$watch(d.ngShow,function(b){a[S(b)?"removeClass":"addClass"](c,"ng-hide")})}}],pf=["$animate",function(a){return function(b,c,d){b.$watch(d.ngHide,function(b){a[S(b)?"addClass":"removeClass"](c,"ng-hide")})}}],qf=_c(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),rf=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(b,c,d,e){var g=d.ngSwitch||d.on,h=[],i=[],j=[],k=[];b.$watch(g,function(c){var g,l;for(g=0,l=j.length;l>g;++g)j[g].remove();for(j.length=0,g=0,l=k.length;l>g;++g){var m=i[g];k[g].$destroy(),j[g]=m,a.leave(m,function(){j.splice(g,1)})}i.length=0,k.length=0,(h=e.cases["!"+c]||e.cases["?"])&&(b.$eval(d.change),f(h,function(c){var d=b.$new();k.push(d),c.transclude(d,function(b){var d=c.element;i.push(b),a.enter(b,d.parent(),d)})}))})}}}],sf=_c({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),tf=_c({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),uf=_c({link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",T(b));f(function(a){b.empty(),b.append(a)})}}),vf=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],wf=d("ngOptions"),xf=q({terminal:!0}),yf=["$compile","$parse",function(a,d){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,h={$setViewValue:o};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,b,c){var d,e,f=this,g={},i=h;f.databound=c.ngModel,f.init=function(a,b,c){i=a,d=b,e=c},f.addOption=function(b){db(b,'"option value"'),g[b]=!0,i.$viewValue==b&&(a.val(b),e.parent()&&e.remove())},f.removeOption=function(a){this.hasOption(a)&&(delete g[a],i.$viewValue==a&&this.renderUnknownOption(a))},f.renderUnknownOption=function(b){var c="? "+Eb(b)+" ?";e.val(c),a.prepend(e),a.val(c),e.prop("selected",!0)},f.hasOption=function(a){return g.hasOwnProperty(a)},b.$on("$destroy",function(){f.renderUnknownOption=o})}],link:function(h,i,j,k){function l(a,b,c,d){c.$render=function(){var a=c.$viewValue;d.hasOption(a)?(y.parent()&&y.remove(),b.val(a),""===a&&o.prop("selected",!0)):r(a)&&o?b.val(""):d.renderUnknownOption(a)},b.on("change",function(){a.$apply(function(){y.parent()&&y.remove(),c.$setViewValue(b.val())})})}function m(a,b,c){var d;c.$render=function(){var a=new Fb(c.$viewValue);f(b.find("option"),function(b){b.selected=s(a.get(b.value))})},a.$watch(function(){L(d,c.$viewValue)||(d=K(c.$viewValue),c.$render())}),b.on("change",function(){a.$apply(function(){var a=[];f(b.find("option"),function(b){b.selected&&a.push(b.value)}),c.$setViewValue(a)})})}function n(b,f,h){function i(){var a=!1;if(t){var c=h.$modelValue;if(y&&Cd(c)){a=new Fb([]);for(var d={},e=0;e<c.length;e++)d[m]=c[e],a.put(y(b,d),c[e])}else a=new Fb(c)}return a}function j(){var a,c,d,e,j,k,r,u,A,B,C,D,E,F,G,H={"":[]},I=[""],J=h.$modelValue,K=q(b)||[],L=n?g(K):K,M={},N=i();for(C=0;A=L.length,A>C;C++){if(r=C,n){if(r=L[C],"$"===r.charAt(0))continue;M[n]=r}if(M[m]=K[r],a=o(b,M)||"",(c=H[a])||(c=H[a]=[],I.push(a)),t)D=s(N.remove(y?y(b,M):p(b,M)));else{if(y){var O={};O[m]=J,D=y(b,O)===y(b,M)}else D=J===p(b,M);N=N||D}G=l(b,M),G=s(G)?G:"",c.push({id:y?y(b,M):n?L[C]:C,label:G,selected:D})}for(t||(v||null===J?H[""].unshift({id:"",label:"",selected:!N}):N||H[""].unshift({id:"?",label:"",selected:!0})),B=0,u=I.length;u>B;B++){for(a=I[B],c=H[a],z.length<=B?(e={element:x.clone().attr("label",a),label:c.label},j=[e],z.push(j),f.append(e.element)):(j=z[B],e=j[0],e.label!=a&&e.element.attr("label",e.label=a)),E=null,C=0,A=c.length;A>C;C++)d=c[C],(k=j[C+1])?(E=k.element,k.label!==d.label&&E.text(k.label=d.label),k.id!==d.id&&E.val(k.id=d.id),E[0].selected!==d.selected&&(E.prop("selected",k.selected=d.selected),rd&&E.prop("selected",k.selected))):(""===d.id&&v?F=v:(F=w.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).text(d.label),j.push(k={element:F,label:d.label,id:d.id,selected:d.selected}),E?E.after(F):e.element.append(F),E=F);for(C++;j.length>C;)j.pop().element.remove()}for(;z.length>B;)z.pop()[0].element.remove()}var k;if(!(k=u.match(e)))throw wf("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",u,T(f));var l=d(k[2]||k[1]),m=k[4]||k[6],n=k[5],o=d(k[3]||""),p=d(k[2]?k[1]:m),q=d(k[7]),r=k[8],y=r?d(k[8]):null,z=[[{element:f,label:""}]];v&&(a(v)(b),v.removeClass("ng-scope"),v.remove()),f.empty(),f.on("change",function(){b.$apply(function(){var a,d,e,g,i,k,l,o,r,s=q(b)||[],u={};if(t){for(e=[],k=0,o=z.length;o>k;k++)for(a=z[k],i=1,l=a.length;l>i;i++)if((g=a[i].element)[0].selected){if(d=g.val(),n&&(u[n]=d),y)for(r=0;r<s.length&&(u[m]=s[r],y(b,u)!=d);r++);else u[m]=s[d];e.push(p(b,u))}}else if(d=f.val(),"?"==d)e=c;else if(""===d)e=null;else if(y){for(r=0;r<s.length;r++)if(u[m]=s[r],y(b,u)==d){e=p(b,u);break}}else u[m]=s[d],n&&(u[n]=d),e=p(b,u);h.$setViewValue(e),j()})}),h.$render=j,b.$watchCollection(q,j),t&&b.$watchCollection(function(){return h.$modelValue},j)}if(k[1]){for(var o,p=k[0],q=k[1],t=j.multiple,u=j.ngOptions,v=!1,w=sd(b.createElement("option")),x=sd(b.createElement("optgroup")),y=w.clone(),z=0,A=i.children(),B=A.length;B>z;z++)if(""===A[z].value){o=v=A.eq(z);break}p.init(q,v,y),t&&(q.$isEmpty=function(a){return!a||0===a.length}),u?n(h,i,q):t?m(h,i,q):l(h,i,q,p)}}}}],zf=["$interpolate",function(a){var b={addOption:o,removeOption:o};return{restrict:"E",priority:100,compile:function(c,d){if(r(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var f="$selectController",g=c.parent(),h=g.data(f)||g.parent().data(f);h&&h.databound?c.prop("selected",!1):h=b,e?a.$watch(e,function(a,b){d.$set("value",a),a!==b&&h.removeOption(b),h.addOption(a)}):h.addOption(d.value),c.on("$destroy",function(){h.removeOption(d.value)})}}}}],Af=q({restrict:"E",terminal:!0});return a.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ab(),hb(Ad),void sd(b).ready(function(){Z(b,$)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'),!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(a){var b=["$q","$cacheFactory","$timeout","$rootScope","cfpLoadingBar",function(b,c,d,e,f){function g(){d.cancel(i),f.complete(),k=0,j=0}function h(b){var d,e=c.get("$http"),f=a.defaults;!b.cache&&!f.cache||b.cache===!1||"GET"!==b.method&&"JSONP"!==b.method||(d=angular.isObject(b.cache)?b.cache:angular.isObject(f.cache)?f.cache:e);var g=void 0!==d?void 0!==d.get(b.url):!1;return void 0!==b.cached&&g!==b.cached?b.cached:(b.cached=g,g)}var i,j=0,k=0,l=f.latencyThreshold;return{request:function(a){return a.ignoreLoadingBar||h(a)||(e.$broadcast("cfpLoadingBar:loading",{url:a.url}),0===j&&(i=d(function(){f.start()},l)),j++,f.set(k/j)),a},response:function(a){return a.config.ignoreLoadingBar||h(a.config)||(k++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url}),k>=j?g():f.set(k/j)),a},responseError:function(a){return a.config.ignoreLoadingBar||h(a.config)||(k++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url}),k>=j?g():f.set(k/j)),b.reject(a)}}}];a.interceptors.push(b)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.$get=["$document","$timeout","$animate","$rootScope",function(a,b,c,d){function e(){var e=a.find(l);b.cancel(k),p||(d.$broadcast("cfpLoadingBar:started"),p=!0,s&&c.enter(m,e),r&&c.enter(o,e),f(t))}function f(a){if(p){var c=100*a+"%";n.css("width",c),q=a,b.cancel(j),j=b(function(){g()},250)}}function g(){if(!(h()>=1)){var a=0,b=h();a=b>=0&&.25>b?(3*Math.random()+3)/100:b>=.25&&.65>b?3*Math.random()/100:b>=.65&&.9>b?2*Math.random()/100:b>=.9&&.99>b?.005:0;var c=h()+a;f(c)}}function h(){return q}function i(){d.$broadcast("cfpLoadingBar:completed"),f(1),b.cancel(k),k=b(function(){c.leave(m,function(){q=0,p=!1}),c.leave(o)},500)}var j,k,l=this.parentSelector,m=angular.element('<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>'),n=m.find("div").eq(0),o=angular.element(this.spinnerTemplate),p=!1,q=0,r=this.includeSpinner,s=this.includeBar,t=this.startSize;return{start:e,set:f,status:h,inc:g,complete:i,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.isLoading=!1};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",f.resetText||d.data("resetText",d[e]()),d[e](f[b]||this.options[b]),setTimeout(a.proxy(function(){"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},b.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(jQuery),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});return this.$element.trigger(j),j.isDefaultPrevented()?void 0:(this.sliding=!0,f&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),f&&this.cycle(),this)};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);!e&&f.toggle&&"show"==c&&(c=!c),e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(jQuery),+function(a){"use strict";function b(b){a(d).remove(),a(e).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown",h),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=" li:not(.divider):visible a",i=f.find("[role=menu]"+h+", [role=listbox]"+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu], [role=listbox]",f.prototype.keydown)}(jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());c.is("a")&&b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this,d=this.tip();this.setContent(),this.options.animation&&d.addClass("fade");var e="function"==typeof this.options.placement?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,g=f.test(e);g&&(e=e.replace(f,"")||"top"),d.detach().css({top:0,left:0,display:"block"}).addClass(e),this.options.container?d.appendTo(this.options.container):d.insertAfter(this.$element);var h=this.getPosition(),i=d[0].offsetWidth,j=d[0].offsetHeight;if(g){var k=this.$element.parent(),l=e,m=document.documentElement.scrollTop||document.body.scrollTop,n="body"==this.options.container?window.innerWidth:k.outerWidth(),o="body"==this.options.container?window.innerHeight:k.outerHeight(),p="body"==this.options.container?0:k.offset().left;e="bottom"==e&&h.top+h.height+j-m>o?"top":"top"==e&&h.top-m-j<0?"bottom":"right"==e&&h.right+i>n?"left":"left"==e&&h.left-i<p?"right":e,d.removeClass(l).addClass(e)}var q=this.getCalculatedOffset(e,h,i,j);this.applyPlacement(q,e),this.hoverState=null;var r=function(){c.$element.trigger("shown.bs."+c.type)};a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,r).emulateTransitionEnd(150):r()}},b.prototype.applyPlacement=function(b,c){var d,e=this.tip(),f=e[0].offsetWidth,g=e[0].offsetHeight,h=parseInt(e.css("margin-top"),10),i=parseInt(e.css("margin-left"),10);isNaN(h)&&(h=0),isNaN(i)&&(i=0),b.top=b.top+h,b.left=b.left+i,a.offset.setOffset(e[0],a.extend({using:function(a){e.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),e.addClass("in");var j=e[0].offsetWidth,k=e[0].offsetHeight;if("top"==c&&k!=g&&(d=!0,b.top=b.top+g-k),/bottom|top/.test(c)){var l=0;b.left<0&&(l=-2*b.left,b.left=0,e.offset(b),j=e[0].offsetWidth,k=e[0].offsetHeight),this.replaceArrow(l-f+j,j,"left")}else this.replaceArrow(k-g,k,"top");d&&e.offset(b)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach(),c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.hoverState=null,this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;(e||"destroy"!=c)&&(e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]())})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");
b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;(e||"destroy"!=c)&&(e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]())})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(a(c).is("body")?window:c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);{var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})}},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(b.RESET).addClass("affix");var a=this.$window.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-a},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"top"==this.affixed&&(e.top+=d),"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;if(this.affixed!==i){this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(b.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:c-h-this.$element.height()}))}}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery),function(a,b){"use strict";function c(){this.$get=["$$sanitizeUri",function(a){return function(b){var c=[];return f(b,i(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join("")}}]}function d(a){var c=[],d=i(c,b.noop);return d.chars(a),c.join("")}function e(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function f(a,c){function d(a,d,f,h){if(d=b.lowercase(d),y[d])for(;t.last()&&z[t.last()];)e("",t.last());x[d]&&t.last()==d&&e("",d),h=u[d]||!!h,h||t.push(d);var i={};f.replace(m,function(a,b,c,d,e){var f=c||d||e||"";i[b]=g(f)}),c.start&&c.start(d,i,h)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=t.length-1;f>=0&&t[f]!=d;f--);if(f>=0){for(e=t.length-1;e>=f;e--)c.end&&c.end(t[e]);t.length=f}}"string"!=typeof a&&(a=null===a||"undefined"==typeof a?"":""+a);var f,h,i,s,t=[],v=a;for(t.last=function(){return t[t.length-1]};a;){if(s="",h=!0,t.last()&&A[t.last()]?(a=a.replace(new RegExp("(.*)<\\s*\\/\\s*"+t.last()+"[^>]*>","i"),function(a,b){return b=b.replace(p,"$1").replace(r,"$1"),c.chars&&c.chars(g(b)),""}),e("",t.last())):(0===a.indexOf("<!--")?(f=a.indexOf("--",4),f>=0&&a.lastIndexOf("-->",f)===f&&(c.comment&&c.comment(a.substring(4,f)),a=a.substring(f+3),h=!1)):q.test(a)?(i=a.match(q),i&&(a=a.replace(i[0],""),h=!1)):o.test(a)?(i=a.match(l),i&&(a=a.substring(i[0].length),i[0].replace(l,e),h=!1)):n.test(a)&&(i=a.match(k),i?(i[4]&&(a=a.substring(i[0].length),i[0].replace(k,d)),h=!1):(s+="<",a=a.substring(1))),h&&(f=a.indexOf("<"),s+=0>f?a:a.substring(0,f),a=0>f?"":a.substring(f),c.chars&&c.chars(g(s)))),a==v)throw j("badparse","The sanitizer was unable to parse the following block of html: {0}",a);v=a}e()}function g(a){if(!a)return"";var b=F.exec(a),c=b[1],d=b[3],e=b[2];return e&&(E.innerHTML=e.replace(/</g,"&lt;"),e="textContent"in E?E.textContent:E.innerText),c+e+d}function h(a){return a.replace(/&/g,"&amp;").replace(s,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return"&#"+(1024*(b-55296)+(c-56320)+65536)+";"}).replace(t,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&A[a]&&(d=a),d||B[a]!==!0||(e("<"),e(a),b.forEach(f,function(d,f){var g=b.lowercase(f),i="img"===a&&"src"===g||"background"===g;D[g]!==!0||C[g]===!0&&!c(d,i)||(e(" "),e(f),e('="'),e(h(d)),e('"'))}),e(g?"/>":">"))},end:function(a){a=b.lowercase(a),d||B[a]!==!0||(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(h(a))}}}var j=b.$$minErr("$sanitize"),k=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,l=/^<\/\s*([\w:-]+)[^>]*>/,m=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,n=/^</,o=/^<\//,p=/<!--(.*?)-->/g,q=/<!DOCTYPE([^>]*?)>/i,r=/<!\[CDATA\[(.*?)]]>/g,s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,t=/([^\#-~| |!])/g,u=e("area,br,col,hr,img,wbr"),v=e("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w=e("rp,rt"),x=b.extend({},w,v),y=b.extend({},v,e("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),z=b.extend({},w,e("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),A=e("script,style"),B=b.extend({},u,y,z,x),C=e("background,cite,href,longdesc,src,usemap"),D=b.extend({},C,e("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),E=document.createElement("pre"),F=/^(\s*)([\s\S]*?)(\s*)$/;b.module("ngSanitize",[]).provider("$sanitize",c),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,e=/^mailto:/;return function(f,g){function h(a){a&&n.push(d(a))}function i(a,c){n.push("<a "),b.isDefined(g)&&(n.push('target="'),n.push(g),n.push('" ')),n.push('href="'),n.push(a),n.push('">'),h(c),n.push("</a>")}if(!f)return f;for(var j,k,l,m=f,n=[];j=m.match(c);)k=j[0],j[2]==j[3]&&(k="mailto:"+k),l=j.index,h(m.substr(0,l)),i(k,j[0].replace(e,"")),m=m.substring(l+j[0].length);return h(m),a(n.join(""))}}])}(window,window.angular),function(a,b,c){"use strict";b.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var a="$$ngAnimateChildren";return function(c,d,e){var f=e.ngAnimateChildren;b.isString(f)&&0===f.length?d.data(a,!0):c.$watch(f,function(b){d.data(a,!!b)})}}).factory("$$animateReflow",["$$rAF","$document",function(a,b){var c=b[0].body;return function(b){return a(function(){c.offsetWidth+1;b()})}}]).config(["$provide","$animateProvider",function(d,e){function f(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==m)return c}}function g(a){return a&&b.element(a)}function h(a){return b.element(f(a))}function i(a,b){return f(a)==f(b)}var j=b.noop,k=b.forEach,l=e.$$selectors,m=1,n="$$ngAnimateState",o="$$ngAnimateChildren",p="ng-animate",q={running:!0};d.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document",function(a,c,d,m,r,s){function t(a){var b=a.data(n)||{};b.running=!0,a.data(n,b)}function u(a){if(a){var b=[],e={},f=a.substr(1).split(".");(d.transitions||d.animations)&&b.push(c.get(l[""]));for(var g=0;g<f.length;g++){var h=f[g],i=l[h];i&&!e[h]&&(b.push(c.get(i)),e[h]=!0)}return b}}function v(a,c,d){function e(a,b){var c=a[b],d=a["before"+b.charAt(0).toUpperCase()+b.substr(1)];return c||d?("leave"==b&&(d=c,c=null),v.push({event:b,fn:c}),r.push({event:b,fn:d}),!0):void 0}function f(b,c,e){function f(a){if(c){if((c[a]||j)(),++l<g.length)return;c=null}e()}var g=[];k(b,function(a){a.fn&&g.push(a)});var l=0;k(g,function(b,e){var g=function(){f(e)};switch(b.event){case"setClass":c.push(b.fn(a,h,i,g));break;case"addClass":c.push(b.fn(a,h||d,g));break;case"removeClass":c.push(b.fn(a,i||d,g));break;default:c.push(b.fn(a,g))}}),c&&0===c.length&&e()}var g=a[0];if(g){var h,i,l="setClass"==c,m=l||"addClass"==c||"removeClass"==c;b.isArray(d)&&(h=d[0],i=d[1],d=h+" "+i);var n=a.attr("class"),o=n+" "+d;if(C(o)){var p=j,q=[],r=[],s=j,t=[],v=[],w=(" "+o).replace(/\s+/g,".");return k(u(w),function(a){var b=e(a,c);!b&&l&&(e(a,"addClass"),e(a,"removeClass"))}),{node:g,event:c,className:d,isClassBased:m,isSetClassOperation:l,before:function(a){p=a,f(r,q,function(){p=j,a()})},after:function(a){s=a,f(v,t,function(){s=j,a()})},cancel:function(){q&&(k(q,function(a){(a||j)(!0)}),p(!0)),t&&(k(t,function(a){(a||j)(!0)}),s(!0))}}}}}function w(a,c,d,e,f,g,h){function i(b){var e="$animate:"+b;t&&t[e]&&t[e].length>0&&r(function(){d.triggerHandler(e,{event:a,className:c})})}function j(){i("before")}function l(){i("after")}function m(){i("close"),h&&r(function(){h()})}function o(){o.hasBeenRun||(o.hasBeenRun=!0,g())}function q(){if(!q.hasBeenRun){q.hasBeenRun=!0;var b=d.data(n);b&&(s&&s.isClassBased?y(d,c):(r(function(){var b=d.data(n)||{};H==b.index&&y(d,c,a)}),d.data(n,b))),m()}}var s=v(d,a,c);if(!s)return o(),j(),l(),void q();c=s.className;var t=b.element._data(s.node);t=t&&t.events,e||(e=f?f.parent():d.parent());var u,w=d.data(n)||{},x=w.active||{},B=w.totalActive||0,C=w.last;if(s.isClassBased&&(u=w.running||w.disabled||C&&!C.isClassBased),u||z(d,e))return o(),j(),l(),void q();var D=!1;if(B>0){var E=[];if(s.isClassBased){if("setClass"==C.event)E.push(C),y(d,c);else if(x[c]){var F=x[c];F.event==a?D=!0:(E.push(F),y(d,c))}}else if("leave"==a&&x["ng-leave"])D=!0;else{for(var G in x)E.push(x[G]),y(d,G);x={},B=0}E.length>0&&k(E,function(a){a.cancel()})}if(!s.isClassBased||s.isSetClassOperation||D||(D="addClass"==a==d.hasClass(c)),D)return o(),j(),l(),void m();"leave"==a&&d.one("$destroy",function(){var a=b.element(this),c=a.data(n);if(c){var d=c.active["ng-leave"];d&&(d.cancel(),y(a,"ng-leave"))}}),d.addClass(p);var H=A++;B++,x[c]=s,d.data(n,{last:s,active:x,index:H,totalActive:B}),j(),s.before(function(b){var e=d.data(n);b=b||!e||!e.active[c]||s.isClassBased&&e.active[c].event!=a,o(),b===!0?q():(l(),s.after(q))})}function x(a){var c=f(a);if(c){var d=b.isFunction(c.getElementsByClassName)?c.getElementsByClassName(p):c.querySelectorAll("."+p);k(d,function(a){a=b.element(a);var c=a.data(n);c&&c.active&&k(c.active,function(a){a.cancel()})})}}function y(a,b){if(i(a,m))q.disabled||(q.running=!1,q.structural=!1);else if(b){var c=a.data(n)||{},d=b===!0;!d&&c.active&&c.active[b]&&(c.totalActive--,delete c.active[b]),(d||!c.totalActive)&&(a.removeClass(p),a.removeData(n))}}function z(a,c){if(q.disabled)return!0;if(i(a,m))return q.running;var d,e,f;do{if(0===c.length)break;var g=i(c,m),h=g?q:c.data(n)||{};if(h.disabled)return!0;if(g&&(f=!0),d!==!1){var j=c.data(o);b.isDefined(j)&&(d=j)}e=e||h.running||h.last&&!h.last.isClassBased}while(c=c.parent());return!f||!d&&e}var A=0;m.data(n,q),s.$$postDigest(function(){s.$$postDigest(function(){q.running=!1})});var B=e.classNameFilter(),C=B?function(a){return B.test(a)}:function(){return!0};return{enter:function(c,d,e,f){c=b.element(c),d=g(d),e=g(e),t(c),a.enter(c,d,e),s.$$postDigest(function(){c=h(c),w("enter","ng-enter",c,d,e,j,f)})},leave:function(c,d){c=b.element(c),x(c),t(c),s.$$postDigest(function(){w("leave","ng-leave",h(c),null,null,function(){a.leave(c)},d)})},move:function(c,d,e,f){c=b.element(c),d=g(d),e=g(e),x(c),t(c),a.move(c,d,e),s.$$postDigest(function(){c=h(c),w("move","ng-move",c,d,e,j,f)})},addClass:function(c,d,e){c=b.element(c),c=h(c),w("addClass",d,c,null,null,function(){a.addClass(c,d)},e)},removeClass:function(c,d,e){c=b.element(c),c=h(c),w("removeClass",d,c,null,null,function(){a.removeClass(c,d)},e)},setClass:function(c,d,e,f){c=b.element(c),c=h(c),w("setClass",[d,e],c,null,null,function(){a.setClass(c,d,e)},f)},enabled:function(a,b){switch(arguments.length){case 2:if(a)y(b);else{var c=b.data(n)||{};c.disabled=!0,b.data(n,c)}break;case 1:q.disabled=!a;break;default:a=!q.disabled}return!!a}}}]),e.register("",["$window","$sniffer","$timeout","$$animateReflow",function(d,e,g,h){function i(a,b){J&&J(),W.push(b),J=h(function(){k(W,function(a){a()}),W=[],J=null,U={}})}function l(a,c){var d=f(a);a=b.element(d),Z.push(a);var e=Date.now()+c;Y>=e||(g.cancel(X),Y=e,X=g(function(){n(Z),Z=[]},c,!1))}function n(a){k(a,function(a){var b=a.data(P);b&&(b.closeAnimationFn||j)()})}function o(a,b){var c=b?U[b]:null;if(!c){var e,f,g,h,i=0,j=0,l=0,n=0;k(a,function(a){if(a.nodeType==m){var b=d.getComputedStyle(a)||{};g=b[E+K],i=Math.max(p(g),i),h=b[E+L],e=b[E+M],j=Math.max(p(e),j),f=b[G+M],n=Math.max(p(f),n);var c=p(b[G+K]);c>0&&(c*=parseInt(b[G+N],10)||1),l=Math.max(c,l)}}),c={total:0,transitionPropertyStyle:h,transitionDurationStyle:g,transitionDelayStyle:e,transitionDelay:j,transitionDuration:i,animationDelayStyle:f,animationDelay:n,animationDuration:l},b&&(U[b]=c)}return c}function p(a){var c=0,d=b.isString(a)?a.split(/\s*,\s*/):[];return k(d,function(a){c=Math.max(parseFloat(a)||0,c)}),c}function q(a){var b=a.parent(),c=b.data(O);return c||(b.data(O,++V),c=V),c+"-"+f(a).getAttribute("class")}function r(a,b,c,d){var e=q(b),f=e+" "+c,g=U[f]?++U[f].total:0,h={};if(g>0){var i=c+"-stagger",k=e+" "+i,l=!U[k];l&&b.addClass(i),h=o(b,k),l&&b.removeClass(i)}d=d||function(a){return a()},b.addClass(c);var m=b.data(P)||{},n=d(function(){return o(b,f)}),p=n.transitionDuration,r=n.animationDuration;if(0===p&&0===r)return b.removeClass(c),!1;b.data(P,{running:m.running||0,itemIndex:g,stagger:h,timings:n,closeAnimationFn:j});var s=m.running>0||"setClass"==a;return p>0&&t(b,c,s),r>0&&h.animationDelay>0&&0===h.animationDuration&&u(b),!0}function s(a){return"ng-enter"==a||"ng-move"==a||"ng-leave"==a}function t(a,b,c){s(b)||!c?f(a).style[E+L]="none":a.addClass(Q)}function u(a){f(a).style[G]="none 0s"}function v(a){var b=E+L,c=f(a);c.style[b]&&c.style[b].length>0&&(c.style[b]=""),a.removeClass(Q)}function w(a){var b=G,c=f(a);c.style[b]&&c.style[b].length>0&&(c.style[b]="")}function x(a,b,c,d){function e(){b.off(t,g),b.removeClass(j),C(b,c);var a=f(b);for(var d in v)a.style.removeProperty(v[d])}function g(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||b.timeStamp||Date.now(),e=parseFloat(b.elapsedTime.toFixed(R));Math.max(c-s,0)>=r&&e>=p&&d()}var h=f(b),i=b.data(P);if(-1==h.getAttribute("class").indexOf(c)||!i)return void d();var j="";k(c.split(" "),function(a,b){j+=(b>0?" ":"")+a+"-active"});var m=i.stagger,n=i.timings,o=i.itemIndex,p=Math.max(n.transitionDuration,n.animationDuration),q=Math.max(n.transitionDelay,n.animationDelay),r=q*T,s=Date.now(),t=H+" "+F,u="",v=[];if(n.transitionDuration>0){var w=n.transitionPropertyStyle;-1==w.indexOf("all")&&(u+=I+"transition-property: "+w+";",u+=I+"transition-duration: "+n.transitionDurationStyle+";",v.push(I+"transition-property"),v.push(I+"transition-duration"))}if(o>0){if(m.transitionDelay>0&&0===m.transitionDuration){var x=n.transitionDelayStyle;u+=I+"transition-delay: "+y(x,m.transitionDelay,o)+"; ",v.push(I+"transition-delay")}m.animationDelay>0&&0===m.animationDuration&&(u+=I+"animation-delay: "+y(n.animationDelayStyle,m.animationDelay,o)+"; ",v.push(I+"animation-delay"))}if(v.length>0){var z=h.getAttribute("style")||"";h.setAttribute("style",z+"; "+u)}b.on(t,g),b.addClass(j),i.closeAnimationFn=function(){e(),d()};var A=o*(Math.max(m.animationDelay,m.transitionDelay)||0),B=(q+p)*S,D=(A+B)*T;return i.running++,l(b,D),e}function y(a,b,c){var d="";return k(a.split(","),function(a,e){d+=(e>0?",":"")+(c*b+parseInt(a,10))+"s"}),d}function z(a,b,c,d){return r(a,b,c,d)?function(a){a&&C(b,c)}:void 0}function A(a,b,c,d){return b.data(P)?x(a,b,c,d):(C(b,c),void d())}function B(a,b,c,d){var e=z(a,b,c);if(!e)return void d();var f=e;return i(b,function(){v(b,c),w(b),f=A(a,b,c,d)}),function(a){(f||j)(a)}}function C(a,b){a.removeClass(b);var c=a.data(P);c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData(P))}function D(a,c){var d="";return a=b.isArray(a)?a:a.split(/\s+/),k(a,function(a,b){a&&a.length>0&&(d+=(b>0?" ":"")+a+c)}),d}var E,F,G,H,I="";a.ontransitionend===c&&a.onwebkittransitionend!==c?(I="-webkit-",E="WebkitTransition",F="webkitTransitionEnd transitionend"):(E="transition",F="transitionend"),a.onanimationend===c&&a.onwebkitanimationend!==c?(I="-webkit-",G="WebkitAnimation",H="webkitAnimationEnd animationend"):(G="animation",H="animationend");var J,K="Duration",L="Property",M="Delay",N="IterationCount",O="$$ngAnimateKey",P="$$ngAnimateCSS3Data",Q="ng-animate-block-transitions",R=3,S=1.5,T=1e3,U={},V=0,W=[],X=null,Y=0,Z=[];return{enter:function(a,b){return B("enter",a,"ng-enter",b)},leave:function(a,b){return B("leave",a,"ng-leave",b)},move:function(a,b){return B("move",a,"ng-move",b)},beforeSetClass:function(a,b,c,d){var e=D(c,"-remove")+" "+D(b,"-add"),f=z("setClass",a,e,function(d){var e=a.attr("class");a.removeClass(c),a.addClass(b);var f=d();return a.attr("class",e),f});return f?(i(a,function(){v(a,e),w(a),d()}),f):void d()},beforeAddClass:function(a,b,c){var d=z("addClass",a,D(b,"-add"),function(c){a.addClass(b);var d=c();return a.removeClass(b),d});return d?(i(a,function(){v(a,b),w(a),c()}),d):void c()},setClass:function(a,b,c,d){c=D(c,"-remove"),b=D(b,"-add");var e=c+" "+b;return A("setClass",a,e,d)},addClass:function(a,b,c){return A("addClass",a,D(b,"-add"),c)},beforeRemoveClass:function(a,b,c){var d=z("removeClass",a,D(b,"-remove"),function(c){var d=a.attr("class");a.removeClass(b);var e=c();return a.attr("class",d),e});return d?(i(a,function(){v(a,b),w(a),c()}),d):void c()},removeClass:function(a,b,c){return A("removeClass",a,D(b,"-remove"),c)}}}])}])}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return I(new(I(function(){},{prototype:a})),b)}function e(a){return H(arguments,function(b){b!==a&&H(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function h(a,b,c,d){var e,h=f(c,d),i={},j=[];for(var k in h)if(h[k].params&&h[k].params.length){e=h[k].params;for(var l in e)g(j,e[l])>=0||(j.push(e[l]),i[e[l]]=a[e[l]])}return I({},i,b)}function i(a,b){var c={};return H(a,function(a){var d=b[a];c[a]=null!=d?String(d):null}),c}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return H(a,function(a){c[a]=b[a]}),c}function l(a,b){var d=1,f=2,g={},h=[],i=g,j=I(a.when(g),{$$promises:g,$$values:g});this.study=function(g){function k(a,c){if(o[c]!==f){if(n.push(c),o[c]===d)throw n.splice(0,n.indexOf(c)),new Error("Cyclic dependency: "+n.join(" -> "));if(o[c]=d,E(a))m.push(c,[function(){return b.get(a)}],h);else{var e=b.annotate(a);H(e,function(a){a!==c&&g.hasOwnProperty(a)&&k(g[a],a)}),m.push(c,a,e)}n.pop(),o[c]=f}}function l(a){return F(a)&&a.then&&a.$$promises}if(!F(g))throw new Error("'invocables' must be an object");var m=[],n=[],o={};return H(g,k),g=n=o=null,function(d,f,g){function h(){--s||(t||e(r,f.$$values),p.$$values=r,p.$$promises=!0,o.resolve(r))}function k(a){p.$$failure=a,o.reject(a)}function n(c,e,f){function i(a){l.reject(a),k(a)}function j(){if(!C(p.$$failure))try{l.resolve(b.invoke(e,g,r)),l.promise.then(function(a){r[c]=a,h()},i)}catch(a){i(a)}}var l=a.defer(),m=0;H(f,function(a){q.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,q[a].then(function(b){r[a]=b,--m||j()},i))}),m||j(),q[c]=l.promise}if(l(d)&&g===c&&(g=f,f=d,d=null),d){if(!F(d))throw new Error("'locals' must be an object")}else d=i;if(f){if(!l(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=j;var o=a.defer(),p=o.promise,q=p.$$promises={},r=I({},d),s=1+m.length/3,t=!1;if(C(f.$$failure))return k(f.$$failure),p;f.$$values?(t=e(r,f.$$values),h()):(I(q,f.$$promises),f.then(h,k));for(var u=0,v=m.length;v>u;u+=3)d.hasOwnProperty(m[u])?h():n(m[u],m[u+1],m[u+2]);return p}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function m(a,b,c){this.fromConfig=function(a,b,c){return C(a.template)?this.fromString(a.template,b):C(a.templateUrl)?this.fromUrl(a.templateUrl,b):C(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return D(a)?a(b):a},this.fromUrl=function(c,d){return D(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function n(a){function b(b){if(!/^\w+(-+\w+)*$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(f[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");f[b]=!0,j.push(b)}function c(a){return a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var d,e=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f={},g="^",h=0,i=this.segments=[],j=this.params=[];this.source=a;for(var k,l,m;(d=e.exec(a))&&(k=d[2]||d[3],l=d[4]||("*"==d[1]?".*":"[^/]*"),m=a.substring(h,d.index),!(m.indexOf("?")>=0));)g+=c(m)+"("+l+")",b(k),i.push(m),h=e.lastIndex;m=a.substring(h);var n=m.indexOf("?");if(n>=0){var o=this.sourceSearch=m.substring(n);m=m.substring(0,n),this.sourcePath=a.substring(0,h+n),H(o.substring(1).split(/[&?]/),b)}else this.sourcePath=a,this.sourceSearch="";g+=c(m)+"$",i.push(m),this.regexp=new RegExp(g),this.prefix=i[0]}function o(){this.compile=function(a){return new n(a)},this.isMatcher=function(a){return F(a)&&D(a.exec)&&D(a.format)&&D(a.concat)},this.$get=function(){return this}}function p(a){function b(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function c(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function d(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return C(d)?d:!0}var e=[],f=null;this.rule=function(a){if(!D(a))throw new Error("'rule' must be a function");return e.push(a),this},this.otherwise=function(a){if(E(a)){var b=a;a=function(){return b}}else if(!D(a))throw new Error("'rule' must be a function");return f=a,this},this.when=function(e,f){var g,h=E(f);if(E(e)&&(e=a.compile(e)),!h&&!D(f)&&!G(f))throw new Error("invalid 'handler' in when()");var i={matcher:function(b,c){return h&&(g=a.compile(c),c=["$match",function(a){return g.format(a)}]),I(function(a,e){return d(a,c,b.exec(e.path(),e.search()))},{prefix:E(b.prefix)?b.prefix:""})},regex:function(a,e){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(g=e,e=["$match",function(a){return c(g,a)}]),I(function(b,c){return d(b,e,a.exec(c.path()))},{prefix:b(a)})}},j={matcher:a.isMatcher(e),regex:e instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](e,f));throw new Error("invalid 'what' in when()")},this.$get=["$location","$rootScope","$injector",function(a,b,c){function d(b){function d(b){var d=b(c,a);return d?(E(d)&&a.replace().url(d),!0):!1}if(!b||!b.defaultPrevented){var g,h=e.length;for(g=0;h>g;g++)if(d(e[g]))return;f&&d(f)}}return b.$on("$locationChangeSuccess",d),{sync:function(){d()}}}]}function q(a,e,f){function g(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function l(a,b){var d=E(a),e=d?a:a.name,f=g(e);if(f){if(!b)throw new Error("No reference point given for path '"+e+"'");for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=w[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function m(a,b){x[a]||(x[a]=[]),x[a].push(b)}function n(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!E(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(w.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):E(b.parent)?b.parent:"";if(e&&!w[e])return m(e,b.self);for(var f in z)D(z[f])&&(b[f]=z[f](b,z.$delegates[f]));if(w[c]=b,!b[y]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){v.$current.navigable==b&&j(a,c)||v.transitionTo(b,a,{location:!1})}]),x[c])for(var g=0;g<x[c].length;g++)n(x[c][g]);return b}function o(a){return a.indexOf("*")>-1}function p(a){var b=a.split("."),c=v.$current.name.split(".");if("**"===b[0]&&(c=c.slice(c.indexOf(b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(c.indexOf(b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length)return!1;for(var d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return c.join("")===b.join("")}function q(a,b){return E(a)&&!C(b)?z[a]:D(b)&&E(a)?(z[a]&&!z.$delegates[a]&&(z.$delegates[a]=z[a]),z[a]=b,this):this}function r(a,b){return F(a)?b=a:b.name=a,n(b),this}function s(a,e,g,m,n,q,r,s,x){function z(){r.url()!==M&&(r.url(M),r.replace())}function A(a,c,d,f,h){var i=d?c:k(a.params,c),j={$stateParams:i};h.resolve=n.resolve(a.resolve,j,h.resolve,a);var l=[h.resolve.then(function(a){h.globals=a})];return f&&l.push(f),H(a.views,function(c,d){var e=c.resolve&&c.resolve!==a.resolve?c.resolve:{};e.$template=[function(){return g.load(d,{view:c,locals:j,params:i,notify:!1})||""}],l.push(n.resolve(e,j,h.resolve,a).then(function(f){if(D(c.controllerProvider)||G(c.controllerProvider)){var g=b.extend({},e,j);f.$$controller=m.invoke(c.controllerProvider,null,g)}else f.$$controller=c.controller;f.$$state=a,f.$$controllerAs=c.controllerAs,h[d]=f}))}),e.all(l).then(function(){return h})}var B=e.reject(new Error("transition superseded")),F=e.reject(new Error("transition prevented")),K=e.reject(new Error("transition aborted")),L=e.reject(new Error("transition failed")),M=r.url(),N=x.baseHref();return u.locals={resolve:null,globals:{$stateParams:{}}},v={params:{},current:u.self,$current:u,transition:null},v.reload=function(){v.transitionTo(v.current,q,{reload:!0,inherit:!1,notify:!1})},v.go=function(a,b,c){return this.transitionTo(a,b,I({inherit:!0,relative:v.$current},c))},v.transitionTo=function(b,c,f){c=c||{},f=I({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,k=v.$current,n=v.params,o=k.path,p=l(b,f.relative);if(!C(p)){var s={to:b,toParams:c,options:f};if(g=a.$broadcast("$stateNotFound",s,k.self,n),g.defaultPrevented)return z(),K;if(g.retry){if(f.$retry)return z(),L;var w=v.transition=e.when(g.retry);return w.then(function(){return w!==v.transition?B:(s.options.$retry=!0,v.transitionTo(s.to,s.toParams,s.options))
},function(){return K}),z(),w}if(b=s.to,c=s.toParams,f=s.options,p=l(b,f.relative),!C(p)){if(f.relative)throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'");throw new Error("No such state '"+b+"'")}}if(p[y])throw new Error("Cannot transition to abstract state '"+b+"'");f.inherit&&(c=h(q,c||{},v.$current,p)),b=p;var x,D,E=b.path,G=u.locals,H=[];for(x=0,D=E[x];D&&D===o[x]&&j(c,n,D.ownParams)&&!f.reload;x++,D=E[x])G=H[x]=D.locals;if(t(b,k,G,f))return b.self.reloadOnSearch!==!1&&z(),v.transition=null,e.when(v.current);if(c=i(b.params,c||{}),f.notify&&(g=a.$broadcast("$stateChangeStart",b.self,c,k.self,n),g.defaultPrevented))return z(),F;for(var N=e.when(G),O=x;O<E.length;O++,D=E[O])G=H[O]=d(G),N=A(D,c,D===b,N,G);var P=v.transition=N.then(function(){var d,e,g;if(v.transition!==P)return B;for(d=o.length-1;d>=x;d--)g=o[d],g.self.onExit&&m.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=x;d<E.length;d++)e=E[d],e.locals=H[d],e.self.onEnter&&m.invoke(e.self.onEnter,e.self,e.locals.globals);if(v.transition!==P)return B;v.$current=b,v.current=b.self,v.params=c,J(v.params,q),v.transition=null;var h=b.navigable;return f.location&&h&&(r.url(h.url.format(h.locals.globals.$stateParams)),"replace"===f.location&&r.replace()),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,k.self,n),M=r.url(),v.current},function(d){return v.transition!==P?B:(v.transition=null,a.$broadcast("$stateChangeError",b.self,c,k.self,n,d),z(),e.reject(d))});return P},v.is=function(a,d){var e=l(a);return C(e)?v.$current!==e?!1:C(d)&&null!==d?b.equals(q,d):!0:c},v.includes=function(a,d){if(E(a)&&o(a)){if(!p(a))return!1;a=v.$current.name}var e=l(a);if(!C(e))return c;if(!C(v.$current.includes[e.name]))return!1;var f=!0;return b.forEach(d,function(a,b){C(q[b])&&q[b]===a||(f=!1)}),f},v.href=function(a,b,c){c=I({lossy:!0,inherit:!1,absolute:!1,relative:v.$current},c||{});var d=l(a,c.relative);if(!C(d))return null;b=h(q,b||{},v.$current,d);var e=d&&c.lossy?d.navigable:d,g=e&&e.url?e.url.format(i(d.params,b||{})):null;return!f.html5Mode()&&g&&(g="#"+f.hashPrefix()+g),"/"!==N&&(f.html5Mode()?g=N.slice(0,-1)+g:c.absolute&&(g=N.slice(1)+g)),c.absolute&&g&&(g=r.protocol()+"://"+r.host()+(80==r.port()||443==r.port()?"":":"+r.port())+(!f.html5Mode()&&g?"/":"")+g),g},v.get=function(a,b){if(!C(a)){var c=[];return H(w,function(a){c.push(a.self)}),c}var d=l(a,b);return d&&d.self?d.self:null},v}function t(a,b,c,d){return a!==b||(c!==b.locals||d.reload)&&a.self.reloadOnSearch!==!1?void 0:!0}var u,v,w={},x={},y="abstract",z={parent:function(a){if(C(a.parent)&&a.parent)return l(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?l(b[1]):u},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=I({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url;if(E(b))return"^"==b.charAt(0)?e.compile(b.substring(1)):(a.parent.navigable||u).url.concat(b);if(e.isMatcher(b)||null==b)return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},params:function(a){if(!a.params)return a.url?a.url.parameters():a.parent.params;if(!G(a.params))throw new Error("Invalid params in state '"+a+"'");if(a.url)throw new Error("Both params and url specicified in state '"+a+"'");return a.params},views:function(a){var b={};return H(C(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},ownParams:function(a){if(!a.parent)return a.params;var b={};H(a.params,function(a){b[a]=!0}),H(a.parent.params,function(c){if(!b[c])throw new Error("Missing required parameter '"+c+"' in state '"+a.name+"'");b[c]=!1});var c=[];return H(b,function(a,b){a&&c.push(b)}),c},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?I({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};u=n({name:"",url:"^",views:null,"abstract":!0}),u.navigable=null,this.decorator=q,this.state=r,this.$get=s,s.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$location","$urlRouter","$browser"]}function r(){function a(a,b){return{load:function(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return d=I(f,d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function s(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){c(function(){a[0].scrollIntoView()},0,!1)}}]}function t(a,c,d){function e(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function f(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(i)return{enter:function(a,b,c){i.enter(a,null,b,c)},leave:function(a,b){i.leave(a,b)}};if(h){var d=h&&h(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var g=e(),h=g("$animator"),i=g("$animate"),j={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,e,g){return function(c,e,h){function i(){k&&(k.remove(),k=null),m&&(m.$destroy(),m=null),l&&(q.leave(l,function(){k=null}),k=l,l=null)}function j(f){var h=c.$new(),j=l&&l.data("$uiViewName"),k=j&&a.$current&&a.$current.locals[j];if(f||k!==n){var r=g(h,function(a){q.enter(a,e,function(){(b.isDefined(p)&&!p||c.$eval(p))&&d(a)}),i()});n=a.$current.locals[r.data("$uiViewName")],l=r,m=h,m.$emit("$viewContentLoaded"),m.$eval(o)}}var k,l,m,n,o=h.onload||"",p=h.autoscroll,q=f(h,c);c.$on("$stateChangeSuccess",function(){j(!1)}),c.$on("$viewContentLoading",function(){j(!1)}),j(!0)}}};return j}function u(a,b,c){return{restrict:"ECA",priority:-400,compile:function(d){var e=d.html();return function(d,f,g){var h=g.uiView||g.name||"",i=f.inheritedData("$uiView");h.indexOf("@")<0&&(h=h+"@"+(i?i.state.name:"")),f.data("$uiViewName",h);var j=c.$current,k=j&&j.locals[h];if(k){f.data("$uiView",{name:h,state:k.$$state}),f.html(k.$template?k.$template:e);var l=a(f.contents());if(k.$$controller){k.$scope=d;var m=b(k.$$controller,k);k.$$controllerAs&&(d[k.$$controllerAs]=m),f.data("$ngControllerController",m),f.children().data("$ngControllerController",m)}l(d)}}}}}function v(a){var b=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!b||4!==b.length)throw new Error("Invalid state ref '"+a+"'");return{state:b[1],paramExpr:b[3]||null}}function w(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function x(a,c){var d=["location","inherit","reload"];return{restrict:"A",require:"?^uiSrefActive",link:function(e,f,g,h){var i=v(g.uiSref),j=null,k=w(f)||a.$current,l="FORM"===f[0].nodeName,m=l?"action":"href",n=!0,o={relative:k},p=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in p&&(o[a]=p[a])});var q=function(b){if(b&&(j=b),n){var c=a.href(i.state,j,o);return h&&h.$$setStateInfo(i.state,j),c?void(f[0][m]=c):(n=!1,!1)}};i.paramExpr&&(e.$watch(i.paramExpr,function(a){a!==j&&q(a)},!0),j=e.$eval(i.paramExpr)),q(),l||f.bind("click",function(b){var d=b.which||b.button;d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target")||(c(function(){a.go(i.state,j,o)}),b.preventDefault())})}}}function y(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(d,e,f){function g(){a.$current.self===i&&h()?e.addClass(l):e.removeClass(l)}function h(){return!k||j(k,b)}var i,k,l;l=c(f.uiSrefActive||"",!1)(d),this.$$setStateInfo=function(b,c){i=a.get(b,w(e)),k=c,g()},d.$on("$stateChangeSuccess",g)}]}}function z(a){return function(b){return a.is(b)}}function A(a){return function(b){return a.includes(b)}}function B(a,b){function e(a){this.locals=a.locals.globals,this.params=this.locals.$stateParams}function f(){this.locals=null,this.params=null}function g(c,g){if(null!=g.redirectTo){var h,j=g.redirectTo;if(E(j))h=j;else{if(!D(j))throw new Error("Invalid 'redirectTo' in when()");h=function(a,b){return j(a,b.path(),b.search())}}b.when(c,h)}else a.state(d(g,{parent:null,name:"route:"+encodeURIComponent(c),url:c,onEnter:e,onExit:f}));return i.push(g),this}function h(a,b,d){function e(a){return""!==a.name?a:c}var f={routes:i,params:d,current:c};return b.$on("$stateChangeStart",function(a,c,d,f){b.$broadcast("$routeChangeStart",e(c),e(f))}),b.$on("$stateChangeSuccess",function(a,c,d,g){f.current=e(c),b.$broadcast("$routeChangeSuccess",e(c),e(g)),J(d,f.params)}),b.$on("$stateChangeError",function(a,c,d,f,g,h){b.$broadcast("$routeChangeError",e(c),e(f),h)}),f}var i=[];e.$inject=["$$state"],this.when=g,this.$get=h,h.$inject=["$state","$rootScope","$routeParams"]}var C=b.isDefined,D=b.isFunction,E=b.isString,F=b.isObject,G=b.isArray,H=b.forEach,I=b.extend,J=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),l.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",l),m.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",m),n.prototype.concat=function(a){return new n(this.sourcePath+a+this.sourceSearch)},n.prototype.toString=function(){return this.source},n.prototype.exec=function(a,b){var c=this.regexp.exec(a);if(!c)return null;var d,e=this.params,f=e.length,g=this.segments.length-1,h={};if(g!==c.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(d=0;g>d;d++)h[e[d]]=c[d+1];for(;f>d;d++)h[e[d]]=b[e[d]];return h},n.prototype.parameters=function(){return this.params},n.prototype.format=function(a){var b=this.segments,c=this.params;if(!a)return b.join("");var d,e,f,g=b.length-1,h=c.length,i=b[0];for(d=0;g>d;d++)f=a[c[d]],null!=f&&(i+=encodeURIComponent(f)),i+=b[d+1];for(;h>d;d++)f=a[c[d]],null!=f&&(i+=(e?"&":"?")+c[d]+"="+encodeURIComponent(f),e=!0);return i},b.module("ui.router.util").provider("$urlMatcherFactory",o),p.$inject=["$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",p),q.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",q),r.$inject=[],b.module("ui.router.state").provider("$view",r),b.module("ui.router.state").provider("$uiViewScroll",s),t.$inject=["$state","$injector","$uiViewScroll"],u.$inject=["$compile","$controller","$state"],b.module("ui.router.state").directive("uiView",t),b.module("ui.router.state").directive("uiView",u),x.$inject=["$state","$timeout"],y.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",x).directive("uiSrefActive",y),z.$inject=["$state"],A.$inject=["$state"],b.module("ui.router.state").filter("isState",z).filter("includedByState",A),B.$inject=["$stateProvider","$urlRouterProvider"],b.module("ui.router.compat").provider("$route",B).directive("ngView",t)}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass("collapse").addClass("collapsing"),e({height:c[0].scrollHeight+"px"}).then(g))}function g(){c.removeClass("collapsing"),c.addClass("collapse in"),c.css({height:"auto"})}function h(){if(k)k=!1,i(),c.css({height:0});else{c.css({height:c[0].scrollHeight+"px"});{c[0].offsetWidth}c.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(i)}}function i(){c.removeClass("collapsing"),c.addClass("collapse")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(a,b,c){function d(){e();var c=+a.interval;!isNaN(c)&&c>=0&&(g=b(f,c))}function e(){g&&(b.cancel(g),g=null)}function f(){h?(a.next(),d()):a.pause()}var g,h,i=this,j=i.slides=a.slides=[],k=-1;i.currentSlide=null;var l=!1;i.select=a.select=function(e,f){function g(){if(!l){if(i.currentSlide&&angular.isString(f)&&!a.noTransition&&e.$element){e.$element.addClass(f);{e.$element[0].offsetWidth}angular.forEach(j,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(e,{direction:f,active:!0,entering:!0}),angular.extend(i.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=c(e.$element,{}),function(b,c){a.$currentTransition.then(function(){h(b,c)},function(){h(b,c)})}(e,i.currentSlide)}else h(e,i.currentSlide);i.currentSlide=e,k=m,d()}}function h(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var m=j.indexOf(e);void 0===f&&(f=m>k?"next":"prev"),e&&e!==i.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(g)):g())},a.$on("$destroy",function(){l=!0}),i.indexOfSlide=function(a){return j.indexOf(a)},a.next=function(){var b=(k+1)%j.length;return a.$currentTransition?void 0:i.select(j[b],"next")},a.prev=function(){var b=0>k-1?j.length-1:k-1;return a.$currentTransition?void 0:i.select(j[b],"prev")},a.isActive=function(a){return i.currentSlide===a},a.$watch("interval",d),a.$on("$destroy",e),a.play=function(){h||(h=!0,d())},a.pause=function(){a.noPause||(h=!1,e())},i.addSlide=function(b,c){b.$element=c,j.push(b),1===j.length||b.active?(i.select(j[j.length-1]),1==j.length&&a.play()):b.active=!1},i.removeSlide=function(a){var b=j.indexOf(a);j.splice(b,1),j.length>0&&a.active?i.select(b>=j.length?j[b-1]:j[b]):k>b&&k--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(a,b){function c(a,b,c){return 1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}this.parsers={};var d={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:a.DATETIME_FORMATS.MONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.MONTH.indexOf(b)}},MMM:{regex:a.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:a.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:a.DATETIME_FORMATS.SHORTDAY.join("|")}};this.createParser=function(a){var c=[],e=a.split("");return angular.forEach(d,function(b,d){var f=a.indexOf(d);if(f>-1){a=a.split(""),e[f]="("+b.regex+")",a[f]="$";for(var g=f+1,h=f+d.length;h>g;g++)e[g]="",a[g]="$";a=a.join(""),c.push({index:f,apply:b.apply})}}),{regex:new RegExp("^"+e.join("")+"$"),map:b(c,"index")}},this.parse=function(b,d){if(!angular.isString(b))return b;d=a.DATETIME_FORMATS[d]||d,this.parsers[d]||(this.parsers[d]=this.createParser(d));var e=this.parsers[d],f=e.regex,g=e.map,h=b.match(f);if(h&&h.length){for(var i,j={year:1900,month:0,date:1,hours:0},k=1,l=h.length;l>k;k++){var m=g[k-1];m.apply&&m.apply.call(j,h[k])}return c(j.year,j.month,j.date)&&(i=new Date(j.year,j.month,j.date,j.hours)),i}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(c,e){i[c]=angular.isDefined(b[c])?8>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):h[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=h[d]?new Date(h[d]):null}),a.datepickerMode=a.datepickerMode||h.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(b.initDate)?a.$parent.$eval(b.initDate):new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$modelValue){var a=new Date(j.$modelValue),b=!isNaN(a);b?this.activeDate=a:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity("date",b)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$modelValue?new Date(j.$modelValue):null;j.$setValidity("date-disabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$modelValue?new Date(j.$modelValue):null;return{date:a,label:g(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$modelValue?new Date(j.$modelValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){e(function(){i.element[0].focus()},0,!1)};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;42>m;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;7>n;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=h(b.rows[0][0].date),p=b.rows.length;b.weekNumbers.push(o++)<p;);}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a){var b=e.activeDate.getDate();if("left"===a)b-=1;else if("up"===a)b-=7;else if("right"===a)b+=1;else if("down"===a)b+=7;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(c,1),b=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),b)}else"home"===a?b=1:"end"===a&&(b=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(b)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c=new Array(12),d=e.activeDate.getFullYear(),f=0;12>f;f++)c[f]=angular.extend(e.createDateObject(new Date(d,f,1),e.formatMonth),{uid:b.uniqueId+"-"+f});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a){var b=e.activeDate.getMonth();if("left"===a)b-=1;else if("up"===a)b-=3;else if("right"===a)b+=1;else if("down"===a)b+=3;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(c)}else"home"===a?b=0:"end"===a&&(b=11);e.activeDate.setMonth(b)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b=new Array(f),c=0,g=e(d.activeDate.getFullYear());f>c;c++)b[c]=angular.extend(d.createDateObject(new Date(g+c,0,1),d.formatYear),{uid:a.uniqueId+"-"+c});a.title=[b[0].label,b[f-1].label].join(" - "),a.rows=d.split(b,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a){var b=d.activeDate.getFullYear();"left"===a?b-=1:"up"===a?b-=5:"right"===a?b+=1:"down"===a?b+=5:"pageup"===a||"pagedown"===a?b+=("pageup"===a?-1:1)*d.step.years:"home"===a?b=e(d.activeDate.getFullYear()):"end"===a&&(b=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(b)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(h,i,j,k){function l(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function m(a){if(a){if(angular.isDate(a)&&!isNaN(a))return k.$setValidity("date",!0),a;if(angular.isString(a)){var b=f.parse(a,n)||new Date(a);return isNaN(b)?void k.$setValidity("date",!1):(k.$setValidity("date",!0),b)}return void k.$setValidity("date",!1)}return k.$setValidity("date",!0),null}var n,o=angular.isDefined(j.closeOnDateSelection)?h.$parent.$eval(j.closeOnDateSelection):g.closeOnDateSelection,p=angular.isDefined(j.datepickerAppendToBody)?h.$parent.$eval(j.datepickerAppendToBody):g.appendToBody;h.showButtonBar=angular.isDefined(j.showButtonBar)?h.$parent.$eval(j.showButtonBar):g.showButtonBar,h.getText=function(a){return h[a+"Text"]||g[a+"Text"]},j.$observe("datepickerPopup",function(a){n=a||g.datepickerPopup,k.$render()
});var q=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");q.attr({"ng-model":"date","ng-change":"dateSelection()"});var r=angular.element(q.children()[0]);j.datepickerOptions&&angular.forEach(h.$parent.$eval(j.datepickerOptions),function(a,b){r.attr(l(b),a)}),angular.forEach(["minDate","maxDate"],function(a){j[a]&&(h.$parent.$watch(b(j[a]),function(b){h[a]=b}),r.attr(l(a),a))}),j.dateDisabled&&r.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),k.$parsers.unshift(m),h.dateSelection=function(a){angular.isDefined(a)&&(h.date=a),k.$setViewValue(h.date),k.$render(),o&&(h.isOpen=!1,i[0].focus())},i.bind("input change keyup",function(){h.$apply(function(){h.date=k.$modelValue})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,n):"";i.val(a),h.date=m(k.$modelValue)};var s=function(a){h.isOpen&&a.target!==i[0]&&h.$apply(function(){h.isOpen=!1})},t=function(a){h.keydown(a)};i.bind("keydown",t),h.keydown=function(a){27===a.which?(a.preventDefault(),a.stopPropagation(),h.close()):40!==a.which||h.isOpen||(h.isOpen=!0)},h.$watch("isOpen",function(a){a?(h.$broadcast("datepicker.focus"),h.position=p?d.offset(i):d.position(i),h.position.top=h.position.top+i.prop("offsetHeight"),c.bind("click",s)):c.unbind("click",s)}),h.select=function(a){if("today"===a){var b=new Date;angular.isDate(k.$modelValue)?(a=new Date(k.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}h.dateSelection(a)},h.close=function(){h.isOpen=!1,i[0].focus()};var u=a(q)(h);p?c.find("body").append(u):i.after(u),h.$on("$destroy",function(){u.remove(),i.unbind("keydown",t),c.unbind("click",s)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(a){var b=null;this.open=function(e){b||(a.bind("click",c),a.bind("keydown",d)),b&&b!==e&&(b.isOpen=!1),b=e},this.close=function(e){b===e&&(b=null,a.unbind("click",c),a.unbind("keydown",d))};var c=function(a){a&&a.isDefaultPrevented()||b.$apply(function(){b.isOpen=!1})},d=function(a){27===a.which&&(b.focusToggleElement(),c())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(a,b,c,d,e,f){var g,h=this,i=a.$new(),j=d.openClass,k=angular.noop,l=b.onToggle?c(b.onToggle):angular.noop;this.init=function(d){h.$element=d,b.isOpen&&(g=c(b.isOpen),k=g.assign,a.$watch(g,function(a){i.isOpen=!!a}))},this.toggle=function(a){return i.isOpen=arguments.length?!!a:!i.isOpen},this.isOpen=function(){return i.isOpen},i.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},i.$watch("isOpen",function(b,c){f[b?"addClass":"removeClass"](h.$element,j),b?(i.focusToggleElement(),e.open(i)):e.close(i),k(a,b),angular.isDefined(b)&&b!==c&&l(a,{open:!!b})}),a.$on("$locationChangeSuccess",function(){i.isOpen=!1}),a.$on("$destroy",function(){i.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(a,b,c,d){d.init(b)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(a,b,c,d){if(d){d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b){b.animate=!1,a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(c,d,e){d.addClass(e.windowClass||""),c.size=e.size,b(function(){c.animate=!0,d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e,f){function g(){for(var a=-1,b=n.keys(),c=0;c<b.length;c++)n.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find("body").eq(0),d=n.get(a).value;n.remove(a),j(d.modalDomEl,d.modalScope,300,function(){d.modalScope.$destroy(),b.toggleClass(m,n.length()>0),i()})}function i(){if(k&&-1==g()){var a=l;j(k,l,150,function(){a.$destroy(),a=null}),k=void 0,l=void 0}}function j(c,d,e,f){function g(){g.done||(g.done=!0,c.remove(),f&&f())}d.animate=!1;var h=a.transitionEndEventName;if(h){var i=b(g,e);c.bind(h,function(){b.cancel(i),g(),d.$apply()})}else b(g,0)}var k,l,m="modal-open",n=f.createNew(),o={};return e.$watch(g,function(a){l&&(l.index=a)}),c.bind("keydown",function(a){var b;27===a.which&&(b=n.top(),b&&b.value.keyboard&&(a.preventDefault(),e.$apply(function(){o.dismiss(b.key,"escape key press")})))}),o.open=function(a,b){n.add(a,{deferred:b.deferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var f=c.find("body").eq(0),h=g();h>=0&&!k&&(l=e.$new(!0),l.index=h,k=d("<div modal-backdrop></div>")(l),f.append(k));var i=angular.element("<div modal-window></div>");i.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:n.length()-1,animate:"animate"}).html(b.content);var j=d(i)(b.scope);n.top().value.modalDomEl=j,f.append(j),f.addClass(m)},o.close=function(a,b){var c=n.get(a).value;c&&(c.deferred.resolve(b),h(a))},o.dismiss=function(a,b){var c=n.get(a).value;c&&(c.deferred.reject(b),h(a))},o.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},o.getTop=function(){return n.top()},o}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(f,g){e=f,this.config=g,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=g.itemsPerPage},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b){a.page!==b&&b>0&&b<=a.totalPages&&(e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages},a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(e,f,g,h,i,j,k){return function(e,l,m){function n(a){var b=a||o.trigger||m,d=c[b]||b;return{show:b,hide:d}}var o=angular.extend({},b,d),p=a(e),q=k.startSymbol(),r=k.endSymbol(),s="<div "+p+'-popup title="'+q+"tt_title"+r+'" content="'+q+"tt_content"+r+'" placement="'+q+"tt_placement"+r+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var a=f(s);return function(b,c,d){function f(){b.tt_isOpen?m():k()}function k(){(!y||b.$eval(d[l+"Enable"]))&&(b.tt_popupDelay?v||(v=g(p,b.tt_popupDelay,!1),v.then(function(a){a()})):p()())}function m(){b.$apply(function(){q()})}function p(){return v=null,u&&(g.cancel(u),u=null),b.tt_content?(r(),t.css({top:0,left:0,display:"block"}),w?i.find("body").append(t):c.after(t),z(),b.tt_isOpen=!0,b.$digest(),z):angular.noop}function q(){b.tt_isOpen=!1,g.cancel(v),v=null,b.tt_animation?u||(u=g(s,500)):s()}function r(){t&&s(),t=a(b,function(){}),b.$digest()}function s(){u=null,t&&(t.remove(),t=null)}var t,u,v,w=angular.isDefined(o.appendToBody)?o.appendToBody:!1,x=n(void 0),y=angular.isDefined(d[l+"Enable"]),z=function(){var a=j.positionElements(c,t,b.tt_placement,w);a.top+="px",a.left+="px",t.css(a)};b.tt_isOpen=!1,d.$observe(e,function(a){b.tt_content=a,!a&&b.tt_isOpen&&q()}),d.$observe(l+"Title",function(a){b.tt_title=a}),d.$observe(l+"Placement",function(a){b.tt_placement=angular.isDefined(a)?a:o.placement}),d.$observe(l+"PopupDelay",function(a){var c=parseInt(a,10);b.tt_popupDelay=isNaN(c)?o.popupDelay:c});var A=function(){c.unbind(x.show,k),c.unbind(x.hide,m)};d.$observe(l+"Trigger",function(a){A(),x=n(a),x.show===x.hide?c.bind(x.show,f):(c.bind(x.show,k),c.bind(x.hide,m))});var B=b.$eval(d[l+"Animation"]);b.tt_animation=angular.isDefined(B)?!!B:o.animation,d.$observe(l+"AppendToBody",function(a){w=angular.isDefined(a)?h(a)(b):w}),w&&b.$on("$locationChangeSuccess",function(){b.tt_isOpen&&q()}),b.$on("$destroy",function(){g.cancel(u),g.cancel(v),A(),s()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.$watch("value",function(c){b.percent=+(100*c/a.max).toFixed(2)}),b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length?a.active=!0:a.active&&b.select(a)},b.removeTab=function(a){var d=c.indexOf(a);if(a.active&&c.length>1){var e=d==c.length-1?d-1:d+1;b.select(c[e])}c.splice(d,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){b.$watch("active",function(a){a&&f.select(b)}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b):void 0}function h(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),a.minutes="m"===b?d:i(d),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render;var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):d(!0)},b.bind("blur",function(){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):d(void 0,!0)},c.bind("blur",function(){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$modelValue?new Date(o.$modelValue):null;isNaN(a)?(o.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=k.typeaheadAppendToBody?i.$eval(k.typeaheadAppendToBody):!1,u=b(k.ngModel).assign,v=g.parse(k.typeahead),w=i.$new();i.$on("$destroy",function(){w.$destroy()});var x="typeahead-"+w.$id+"-"+Math.floor(1e4*Math.random());j.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":x});var y=angular.element("<div typeahead-popup></div>");y.attr({id:x,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&y.attr("template-url",k.typeaheadTemplateUrl);var z=function(){w.matches=[],w.activeIdx=-1,j.attr("aria-expanded",!1)},A=function(a){return x+"-option-"+a};w.$watch("activeIdx",function(a){0>a?j.removeAttr("aria-activedescendant"):j.attr("aria-activedescendant",A(a))});var B=function(a){var b={$viewValue:a};q(i,!0),c.when(v.source(i,b)).then(function(c){var d=a===l.$viewValue;if(d&&m)if(c.length>0){w.activeIdx=0,w.matches.length=0;for(var e=0;e<c.length;e++)b[v.itemName]=c[e],w.matches.push({id:A(e),label:v.viewMapper(w,b),model:c[e]});w.query=a,w.position=t?f.offset(j):f.position(j),w.position.top=w.position.top+j.prop("offsetHeight"),j.attr("aria-expanded",!0)}else z();d&&q(i,!1)},function(){z(),q(i,!1)})};z(),w.query=void 0;var C;l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(C&&d.cancel(C),C=d(function(){B(a)},o)):B(a):(q(i,!1),z()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[v.itemName]=a,b=v.viewMapper(i,d),d[v.itemName]=void 0,c=v.viewMapper(i,d),b!==c?b:a)}),w.select=function(a){var b,c,e={};e[v.itemName]=c=w.matches[a].model,b=v.modelMapper(i,e),u(i,b),l.$setValidity("editable",!0),r(i,{$item:c,$model:b,$label:v.viewMapper(i,e)}),z(),d(function(){j[0].focus()},0,!1)},j.bind("keydown",function(a){0!==w.matches.length&&-1!==h.indexOf(a.which)&&(a.preventDefault(),40===a.which?(w.activeIdx=(w.activeIdx+1)%w.matches.length,w.$digest()):38===a.which?(w.activeIdx=(w.activeIdx?w.activeIdx:w.matches.length)-1,w.$digest()):13===a.which||9===a.which?w.$apply(function(){w.select(w.activeIdx)}):27===a.which&&(a.stopPropagation(),z(),w.$digest()))}),j.bind("blur",function(){m=!1});var D=function(a){j[0]!==a.target&&(z(),w.$digest())};e.bind("click",D),i.$on("$destroy",function(){e.unbind("click",D)});var E=a(y)(w);t?e.find("body").append(E):j.after(E)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="{\'alert-{{type || \'warning\'}}\': true, \'alert-dismissable\': closeable}" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" ng-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'\n<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-if="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>')}]),function(a,b){"use strict";return"function"==typeof define&&define.amd?void define(["angular"],function(a){return b(a)}):b(a)}(angular||null,function(a){"use strict";var b=a.module("ngTable",[]);b.factory("ngTableParams",["$q","$log",function(b,c){var d=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},e=function(e,f){var g=this,h=function(){j.debugMode&&c.debug&&c.debug.apply(this,arguments)};this.data=[],this.parameters=function(b,c){if(c=c||!1,a.isDefined(b)){for(var e in b){var f=b[e];if(c&&e.indexOf("[")>=0){for(var g=e.split(/\[(.*)\]/).reverse(),j="",k=0,l=g.length;l>k;k++){var m=g[k];if(""!==m){var n=f;f={},f[j=m]=d(n)?parseFloat(n):n}}"sorting"===j&&(i[j]={}),i[j]=a.extend(i[j]||{},f[j])}else i[e]=d(b[e])?parseFloat(b[e]):b[e]}return h("ngTable: set parameters",i),this}return i},this.settings=function(b){return a.isDefined(b)?(a.isArray(b.data)&&(b.total=b.data.length),j=a.extend(j,b),h("ngTable: set settings",j),this):j},this.page=function(b){return a.isDefined(b)?this.parameters({page:b}):i.page},this.total=function(b){return a.isDefined(b)?this.settings({total:b}):j.total},this.count=function(b){return a.isDefined(b)?this.parameters({count:b,page:1}):i.count},this.filter=function(b){return a.isDefined(b)?this.parameters({filter:b}):i.filter},this.sorting=function(b){if(2==arguments.length){var c={};return c[b]=arguments[1],this.parameters({sorting:c}),this}return a.isDefined(b)?this.parameters({sorting:b}):i.sorting},this.isSortBy=function(b,c){return a.isDefined(i.sorting[b])&&i.sorting[b]==c},this.orderBy=function(){var a=[];for(var b in i.sorting)a.push(("asc"===i.sorting[b]?"+":"-")+b);return a},this.getData=function(b,c){b.resolve(a.isArray(this.data)&&a.isObject(c)?this.data.slice((c.page()-1)*c.count(),c.page()*c.count()):[])},this.getGroups=function(c,d){var e=b.defer();e.promise.then(function(b){var e={};a.forEach(b,function(b){var c=a.isFunction(d)?d(b):b[d];e[c]=e[c]||{data:[]},e[c].value=c,e[c].data.push(b)});var f=[];for(var g in e)f.push(e[g]);h("ngTable: refresh groups",f),c.resolve(f)}),this.getData(e,g)},this.generatePagesArray=function(a,b,c){var d,e,f,g,h,i;if(d=11,i=[],h=Math.ceil(b/c),h>1){i.push({type:"prev",number:Math.max(1,a-1),active:a>1}),i.push({type:"first",number:1,active:a>1}),f=Math.round((d-5)/2),g=Math.max(2,a-f),e=Math.min(h-1,a+2*f-(a-g)),g=Math.max(2,g-(2*f-(e-g)));for(var j=g;e>=j;)i.push(j===g&&2!==j||j===e&&j!==h-1?{type:"more",active:!1}:{type:"page",number:j,active:a!==j}),j++;i.push({type:"last",number:h,active:a!==h}),i.push({type:"next",number:Math.min(h,a+1),active:h>a})}return i},this.url=function(b){b=b||!1;var c=b?[]:{};for(var d in i)if(i.hasOwnProperty(d)){var e=i[d],f=encodeURIComponent(d);if("object"==typeof e){for(var g in e)if(!a.isUndefined(e[g])&&""!==e[g]){var h=f+"["+encodeURIComponent(g)+"]";b?c.push(h+"="+e[g]):c[h]=e[g]}}else a.isFunction(e)||a.isUndefined(e)||""===e||(b?c.push(f+"="+encodeURIComponent(e)):c[f]=encodeURIComponent(e))}return c},this.reload=function(){var a=b.defer(),c=this;j.$loading=!0,j.groupBy?j.getGroups(a,j.groupBy,this):j.getData(a,this),h("ngTable: reload data"),a.promise.then(function(a){j.$loading=!1,h("ngTable: current scope",j.$scope),c.data=j.groupBy?j.$scope.$groups=a:j.$scope.$data=a,j.$scope.pages=c.generatePagesArray(c.page(),c.total(),c.count()),j.$scope.$emit("ngTableAfterReloadData")})},this.reloadPages=function(){var a=this;j.$scope.pages=a.generatePagesArray(a.page(),a.total(),a.count())};var i=this.$params={page:1,count:1,filter:{},sorting:{},group:{},groupBy:null},j={$scope:null,$loading:!1,data:null,total:0,defaultSort:"desc",filterDelay:750,counts:[10,25,50,100],getGroups:this.getGroups,getData:this.getData};return this.settings(f),this.parameters(e,!0),this};return e}]);var c=["$scope","ngTableParams","$timeout",function(b,c,d){b.$loading=!1,b.params||(b.params=new c),b.params.settings().$scope=b;var e=function(){var a=0;return function(b,c){d.cancel(a),a=d(b,c)}}();b.$watch("params.$params",function(c,d){b.params.settings().$scope=b,a.equals(c.filter,d.filter)?b.params.reload():e(function(){b.params.$params.page=1,b.params.reload()},b.params.settings().filterDelay)},!0),b.sortBy=function(a,c){var d=b.parse(a.sortable);if(d){var e=b.params.settings().defaultSort,f="asc"===e?"desc":"asc",g=b.params.sorting()&&b.params.sorting()[d]&&b.params.sorting()[d]===e,h=c.ctrlKey||c.metaKey?b.params.sorting():{};h[d]=g?f:e,b.params.parameters({sorting:h})}}}];return b.directive("ngTable",["$compile","$q","$parse",function(b,d,e){return{restrict:"A",priority:1001,scope:!0,controller:c,compile:function(c){var d=[],f=0,g=null,h=c.find("thead");return a.forEach(a.element(c.find("tr")),function(b){b=a.element(b),b.hasClass("ng-table-group")||g||(g=b)}),g?(a.forEach(g.find("td"),function(b){var c=a.element(b);if(!c.attr("ignore-cell")||"true"!==c.attr("ignore-cell")){var g=function(a,b){return function(f){return e(c.attr("x-data-"+a)||c.attr("data-"+a)||c.attr(a))(f,{$columns:d})||b}},h=g("title"," "),i=g("header",!1),j=g("filter",!1)(),k=!1,l=!1;j&&j.$$name&&(l=j.$$name,delete j.$$name),j&&j.templateURL&&(k=j.templateURL,delete j.templateURL),c.attr("data-title-text",h()),d.push({id:f++,title:h,sortable:g("sortable",!1),"class":c.attr("x-data-header-class")||c.attr("data-header-class")||c.attr("header-class"),filter:j,filterTemplateURL:k,filterName:l,headerTemplateURL:i,filterData:c.attr("filter-data")?c.attr("filter-data"):null,show:c.attr("ng-show")?function(a){return e(c.attr("ng-show"))(a)}:function(){return!0}})}}),function(c,f,g){if(c.$loading=!1,c.$columns=d,c.$watch(g.ngTable,function(b){a.isUndefined(b)||(c.paramsModel=e(g.ngTable),c.params=b)},!0),c.parse=function(b){return a.isDefined(b)?b(c):""},g.showFilter&&c.$parent.$watch(g.showFilter,function(a){c.show_filter=a}),a.forEach(d,function(b){var d;if(b.filterData){if(d=e(b.filterData)(c,{$column:b}),!a.isObject(d)||!a.isObject(d.promise))throw new Error("Function "+b.filterData+" must be instance of $q.defer()");return delete b.filterData,d.promise.then(function(c){a.isArray(c)||(c=[]),c.unshift({title:"-",id:""}),b.data=c})}}),!f.hasClass("ng-table")){c.templates={header:g.templateHeader?g.templateHeader:"ng-table/header.html",pagination:g.templatePagination?g.templatePagination:"ng-table/pager.html"};var i=h.length>0?h:a.element(document.createElement("thead")).attr("ng-include","templates.header"),j=a.element(document.createElement("tr")).append(a.element(document.createElement("td")).attr({"ng-table-pagination":"params","template-url":"templates.pagination",colspan:d.length})),k=a.element(document.createElement("tfoot")).append(j);f.find("thead").remove(),f.addClass("ng-table").prepend(i).append(k),b(i)(c),b(k)(c)}}):void 0}}}]),b.directive("ngTablePagination",["$compile",function(b){return{restrict:"A",scope:{params:"=ngTablePagination",templateUrl:"="},replace:!1,link:function(c,d){c.params.settings().$scope.$on("ngTableAfterReloadData",function(){c.pages=c.params.generatePagesArray(c.params.page(),c.params.total(),c.params.count())},!0),c.$watch("templateUrl",function(e){if(!a.isUndefined(e)){var f=a.element(document.createElement("div"));f.attr({"ng-include":"templateUrl"}),d.append(f),b(f)(c)}})}}}]),a.module("ngTable").run(["$templateCache",function(a){a.put("ng-table/filters/select-multiple.html",'<select ng-options="data.id as data.title for data in column.data" multiple ng-multiple="true" ng-model="params.filter()[name]" ng-show="filter==\'select-multiple\'" class="filter filter-select-multiple form-control" name="{{column.filterName}}"> </select>'),a.put("ng-table/filters/select.html",'<select ng-options="data.id as data.title for data in column.data" ng-model="params.filter()[name]" ng-show="filter==\'select\'" class="filter filter-select form-control" name="{{column.filterName}}"> </select>'),a.put("ng-table/filters/text.html",'<input type="text" name="{{column.filterName}}" ng-model="params.filter()[name]" ng-if="filter==\'text\'" class="input-filter form-control"/>'),a.put("ng-table/header.html",'<tr> <th ng-repeat="column in $columns" ng-class="{ \'sortable\': parse(column.sortable), \'sort-asc\': params.sorting()[parse(column.sortable)]==\'asc\', \'sort-desc\': params.sorting()[parse(column.sortable)]==\'desc\' }" ng-click="sortBy(column, $event)" ng-show="column.show(this)" ng-init="template=column.headerTemplateURL(this)" class="header {{column.class}}"> <div ng-if="!template" ng-show="!template" ng-bind="parse(column.title)"></div> <div ng-if="template" ng-show="template"><div ng-include="template"></div></div> </th> </tr> <tr ng-show="show_filter" class="ng-table-filters"> <th ng-repeat="column in $columns" ng-show="column.show(this)" class="filter"> <div ng-repeat="(name, filter) in column.filter"> <div ng-if="column.filterTemplateURL" ng-show="column.filterTemplateURL"> <div ng-include="column.filterTemplateURL"></div> </div> <div ng-if="!column.filterTemplateURL" ng-show="!column.filterTemplateURL"> <div ng-include="\'ng-table/filters/\' + filter + \'.html\'"></div> </div> </div> </th> </tr>'),a.put("ng-table/pager.html",'<div class="ng-cloak ng-table-pager"> <div ng-if="params.settings().counts.length" class="ng-table-counts btn-group pull-right"> <button ng-repeat="count in params.settings().counts" type="button" ng-class="{\'active\':params.count()==count}" ng-click="params.count(count)" class="btn btn-default"> <span ng-bind="count"></span> </button> </div> <ul class="pagination ng-table-pagination"> <li ng-class="{\'disabled\': !page.active}" ng-repeat="page in pages" ng-switch="page.type"> <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a> <a ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a> <a ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a> </li> </ul> </div> ')}]),b}),function(a,b){"use strict";function c(a,b,c){d.directive(a,["$parse","$swipe",function(d,e){var f=75,g=.3,h=30;return function(i,j,k){function l(a){if(!m)return!1;var c=Math.abs(a.y-m.y),d=(a.x-m.x)*b;return n&&f>c&&d>0&&d>h&&g>c/d}var m,n,o=d(k[a]);e.bind(j,{start:function(a){m=a,n=!0},cancel:function(){n=!1},end:function(a,b){l(a)&&i.$apply(function(){j.triggerHandler(c),o(i,{$event:b})})}})}}])}var d=b.module("ngTouch",[]);d.factory("$swipe",[function(){function a(a){var b=a.touches&&a.touches.length?a.touches:[a],c=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||b[0].originalEvent||b[0];return{x:c.clientX,y:c.clientY}}var b=10;return{bind:function(c,d){var e,f,g,h,i=!1;c.on("touchstart mousedown",function(b){g=a(b),i=!0,e=0,f=0,h=g,d.start&&d.start(g,b)}),c.on("touchcancel",function(a){i=!1,d.cancel&&d.cancel(a)}),c.on("touchmove mousemove",function(c){if(i&&g){var j=a(c);if(e+=Math.abs(j.x-h.x),f+=Math.abs(j.y-h.y),h=j,!(b>e&&b>f))return f>e?(i=!1,void(d.cancel&&d.cancel(c))):(c.preventDefault(),void(d.move&&d.move(j,c)))}}),c.on("touchend mouseup",function(b){i&&(i=!1,d.end&&d.end(a(b),b))})}}}]),d.config(["$provide",function(a){a.decorator("ngClickDirective",["$delegate",function(a){return a.shift(),a}])}]),d.directive("ngClick",["$parse","$timeout","$rootElement",function(a,c,d){function e(a,b,c,d){return Math.abs(a-c)<p&&Math.abs(b-d)<p}function f(a,b,c){for(var d=0;d<a.length;d+=2)if(e(a[d],a[d+1],b,c))return a.splice(d,d+2),!0;return!1}function g(a){if(!(Date.now()-j>o)){var b=a.touches&&a.touches.length?a.touches:[a],c=b[0].clientX,d=b[0].clientY;1>c&&1>d||l&&l[0]===c&&l[1]===d||(l&&(l=null),"label"===a.target.tagName.toLowerCase()&&(l=[c,d]),f(k,c,d)||(a.stopPropagation(),a.preventDefault(),a.target&&a.target.blur()))}}function h(a){var b=a.touches&&a.touches.length?a.touches:[a],d=b[0].clientX,e=b[0].clientY;k.push(d,e),c(function(){for(var a=0;a<k.length;a+=2)if(k[a]==d&&k[a+1]==e)return void k.splice(a,a+2)},o,!1)}function i(a,b){k||(d[0].addEventListener("click",g,!0),d[0].addEventListener("touchstart",h,!0),k=[]),j=Date.now(),f(k,a,b)}var j,k,l,m=750,n=12,o=2500,p=25,q="ng-click-active";return function(c,d,e){function f(){o=!1,d.removeClass(q)}var g,h,j,k,l=a(e.ngClick),o=!1;d.on("touchstart",function(a){o=!0,g=a.target?a.target:a.srcElement,3==g.nodeType&&(g=g.parentNode),d.addClass(q),h=Date.now();var b=a.touches&&a.touches.length?a.touches:[a],c=b[0].originalEvent||b[0];j=c.clientX,k=c.clientY}),d.on("touchmove",function(){f()}),d.on("touchcancel",function(){f()}),d.on("touchend",function(a){var c=Date.now()-h,l=a.changedTouches&&a.changedTouches.length?a.changedTouches:a.touches&&a.touches.length?a.touches:[a],p=l[0].originalEvent||l[0],q=p.clientX,r=p.clientY,s=Math.sqrt(Math.pow(q-j,2)+Math.pow(r-k,2));o&&m>c&&n>s&&(i(q,r),g&&g.blur(),b.isDefined(e.disabled)&&e.disabled!==!1||d.triggerHandler("click",[a])),f()}),d.onclick=function(){},d.on("click",function(a,b){c.$apply(function(){l(c,{$event:b||a})})}),d.on("mousedown",function(){d.addClass(q)}),d.on("mousemove mouseup",function(){d.removeClass(q)})}}]),c("ngSwipeLeft",-1,"swipeleft"),c("ngSwipeRight",1,"swiperight")}(window,window.angular),angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(a){var b=a.storageKey(),c=a.storage();c?c.get(b)?a.use(c.get(b)):angular.isString(a.preferredLanguage())?a.use(a.preferredLanguage()):c.set(b,a.use()):angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p={},q=[],r=a,s=[],t=!1,u="translate-cloak",v=!1,w=".",x=function(){var a=window.navigator;return(a.language||a.browserLanguage||a.systemLanguage||a.userLanguage||"").split("-").join("_")},y=function(a){for(var b=[],d=angular.lowercase(a),e=0,f=q.length;f>e;e++)b.push(angular.lowercase(q[e]));if(b.indexOf(d)>-1)return a;if(c){var g;for(var h in c){var i=!1,j=c.hasOwnProperty(h)&&angular.lowercase(h)===angular.lowercase(a);if("*"===h.slice(-1)&&(i=h.slice(0,-1)===a.slice(0,h.length-1)),(j||i)&&(g=c[h],b.indexOf(angular.lowercase(g))>-1))return g}}var k=a.split("_");return k.length>1&&b.indexOf(angular.lowercase(k[0]))>-1?k[0]:a},z=function(a,b){if(!a&&!b)return p;if(a&&!b){if(angular.isString(a))return p[a]}else angular.isObject(p[a])||(p[a]={}),angular.extend(p[a],A(b));return this};this.translations=z,this.cloakClassName=function(a){return a?(u=a,this):u};var A=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)a.hasOwnProperty(e)&&(h=a[e],angular.isObject(h)?A(h,b.concat(e),c,e):(f=b.length?""+b.join(w)+w+e:e,b.length&&e===d&&(g=""+b.join(w),c[g]="@:"+f),c[f]=h));return c};this.addInterpolation=function(a){return s.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return k=a,this},this.useSanitizeValueStrategy=function(a){return t=a,this},this.preferredLanguage=function(a){return a?(b=a,this):b},this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(n=a,this):n},this.translationNotFoundIndicatorRight=function(a){return a?(o=a,this):o},this.fallbackLanguage=function(a){return B(a),this};var B=function(a){return a?(angular.isString(a)?(e=!0,d=[a]):angular.isArray(a)&&(e=!1,d=a),angular.isString(b)&&d.push(b),this):e?d[0]:d};this.use=function(a){if(a){if(!p[a]&&!l)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return f=a,this}return f};var C=function(a){return a?void(r=a):i?i+r:r};this.storageKey=C,this.useUrlLoader=function(a){return this.useLoader("$translateUrlLoader",{url:a})},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return l=a,m=b||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return h=a,this},this.storagePrefix=function(a){return a?(i=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return j=a,this},this.usePostCompiling=function(a){return v=!!a,this},this.determinePreferredLanguage=function(a){var c=a&&angular.isFunction(a)?a():x();return b=q.length?y(c):c,this},this.registerAvailableLanguageKeys=function(a,b){return a?(q=a,b&&(c=b),this):q},this.$get=["$log","$injector","$rootScope","$q",function(a,c,i,q){var w,x,D,E=c.get(k||"$translateDefaultInterpolation"),F=!1,G={},H={},I=function(a,c,e){if(angular.isArray(a)){var g=function(a){for(var b={},d=[],f=function(a){var d=q.defer(),f=function(c){b[a]=c,d.resolve([a,c])};return I(a,c,e).then(f,f),d.promise},g=0,h=a.length;h>g;g++)d.push(f(a[g]));return q.all(d).then(function(){return b})};return g(a)}var i=q.defer();a&&(a=a.trim());var j=function(){var a=b?H[b]:H[f];if(x=0,h&&!a){var c=w.get(r);if(a=H[c],d&&d.length){var e=J(d,c);x=e>-1?e+=1:0,d.push(b)}}return a}();return j?j.then(function(){U(a,c,e).then(i.resolve,i.reject)},i.reject):U(a,c,e).then(i.resolve,i.reject),i.promise},J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K=function(a){return n&&(a=[n,a].join(" ")),o&&(a=[a,o].join(" ")),a},L=function(a){f=a,i.$emit("$translateChangeSuccess"),h&&w.set(I.storageKey(),f),E.setLocale(f),angular.forEach(G,function(a,b){G[b].setLocale(f)}),i.$emit("$translateChangeEnd")},M=function(a){if(!a)throw"No language key specified for loading.";var b=q.defer();return i.$emit("$translateLoadingStart"),F=!0,c.get(l)(angular.extend(m,{key:a})).then(function(c){var d={};i.$emit("$translateLoadingSuccess"),angular.isArray(c)?angular.forEach(c,function(a){angular.extend(d,A(a))}):angular.extend(d,A(c)),F=!1,b.resolve({key:a,table:d}),i.$emit("$translateLoadingEnd")},function(a){i.$emit("$translateLoadingError"),b.reject(a),i.$emit("$translateLoadingEnd")}),b.promise};if(h&&(w=c.get(h),!w.get||!w.set))throw new Error("Couldn't use storage '"+h+"', missing get() or set() method!");angular.isFunction(E.useSanitizeValueStrategy)&&E.useSanitizeValueStrategy(t),s.length&&angular.forEach(s,function(a){var d=c.get(a);d.setLocale(b||f),angular.isFunction(d.useSanitizeValueStrategy)&&d.useSanitizeValueStrategy(t),G[d.getInterpolationIdentifier()]=d});var N=function(a){var b=q.defer();return p.hasOwnProperty(a)?(b.resolve(p[a]),b.promise):(H[a].then(function(a){z(a.key,a.table),b.resolve(a.table)},b.reject),b.promise)},O=function(a,b,c,d){var e=q.defer();return N(a).then(function(g){g.hasOwnProperty(b)?(d.setLocale(a),e.resolve(d.interpolate(g[b],c)),d.setLocale(f)):e.reject()},e.reject),e.promise},P=function(a,b,c,d){var e,g=p[a];return g.hasOwnProperty(b)&&(d.setLocale(a),e=d.interpolate(g[b],c),d.setLocale(f)),e},Q=function(a,b,e,g){var h=q.defer();if(a<d.length){var i=d[a];O(i,b,e,g).then(function(a){h.resolve(a)},function(){var c=Q(a+1,b,e,g);h.resolve(c)})}else if(j){var k=c.get(j)(b,f);h.resolve(void 0!==k?k:b)}else h.resolve(b);return h.promise},R=function(a,b,c,e){var f;if(a<d.length){var g=d[a];f=P(g,b,c,e),f||(f=R(a+1,b,c,e))}return f},S=function(a,b,c){return Q(D>0?D:x,a,b,c)},T=function(a,b,c){return R(D>0?D:x,a,b,c)},U=function(a,b,e){var g=q.defer(),h=f?p[f]:p,i=e?G[e]:E;if(h&&h.hasOwnProperty(a)){var k=h[a];"@:"===k.substr(0,2)?I(k.substr(2),b,e).then(g.resolve,g.reject):g.resolve(i.interpolate(k,b))}else j&&!F&&c.get(j)(a,f),f&&d&&d.length?S(a,b,i).then(function(a){g.resolve(a)},function(a){g.reject(K(a))}):g.reject(K(a));return g.promise},V=function(a,b,e){var g,h=f?p[f]:p,i=e?G[e]:E;if(h&&h.hasOwnProperty(a)){var k=h[a];g="@:"===k.substr(0,2)?V(k.substr(2),b,e):i.interpolate(k,b)}else j&&!F&&c.get(j)(a,f),f&&d&&d.length?(x=0,g=T(a,b,i)):g=K(a);return g};if(I.preferredLanguage=function(){return b},I.cloakClassName=function(){return u},I.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(B(a),l&&d&&d.length)for(var b=0,c=d.length;c>b;b++)H[d[b]]||(H[d[b]]=M(d[b]));I.use(I.use())}return e?d[0]:d},I.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=J(d,a);b>-1&&(D=b)}else D=0},I.proposedLanguage=function(){return g},I.storage=function(){return w},I.use=function(a){if(!a)return f;var b=q.defer();i.$emit("$translateChangeStart");var c=y(a);return c&&(a=c),!p[a]&&l?(g=a,H[a]=M(a).then(function(c){z(c.key,c.table),b.resolve(c.key),g===a&&(L(c.key),g=void 0)},function(a){g=void 0,i.$emit("$translateChangeError"),b.reject(a),i.$emit("$translateChangeEnd")})):(b.resolve(a),L(a)),b.promise},I.storageKey=function(){return C()},I.isPostCompilingEnabled=function(){return v},I.refresh=function(a){function b(){e.resolve(),i.$emit("$translateRefreshEnd")}function c(){e.reject(),i.$emit("$translateRefreshEnd")}if(!l)throw new Error("Couldn't refresh translation table, no loader registered!");var e=q.defer();if(i.$emit("$translateRefreshStart"),a)p[a]?M(a).then(function(c){z(c.key,c.table),a===f&&L(f),b()},c):c();else{var g=[];if(d&&d.length)for(var h=0,j=d.length;j>h;h++)g.push(M(d[h]));f&&g.push(M(f)),q.all(g).then(function(a){angular.forEach(a,function(a){p[a.key]&&delete p[a.key],z(a.key,a.table)}),f&&L(f),b()})}return e.promise},I.instant=function(a,e,g){if(null===a||angular.isUndefined(a))return a;
if(angular.isArray(a)){for(var h={},i=0,k=a.length;k>i;i++)h[a[i]]=I.instant(a[i],e,g);return h}if(angular.isString(a)&&a.length<1)return a;a&&(a=a.trim());var l,m=[];b&&m.push(b),f&&m.push(f),d&&d.length&&(m=m.concat(d));for(var n=0,o=m.length;o>n;n++){var q=m[n];if(p[q]&&"undefined"!=typeof p[q][a]&&(l=V(a,e,g)),"undefined"!=typeof l)break}return l||""===l||(l=a,j&&!F&&c.get(j)(a,f)),l},l&&(angular.equals(p,{})&&I.use(I.use()),d&&d.length))for(var W=0,X=d.length;X>W;W++)H[d[W]]=M(d[W]);return I}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(a){var b,c={},d="default",e=null,f={escaped:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=angular.element("<div></div>").text(a[c]).html());return b}},g=function(a){var b;return b=angular.isFunction(f[e])?f[e](a):a};return c.setLocale=function(a){b=a},c.getInterpolationIdentifier=function(){return d},c.useSanitizeValueStrategy=function(a){return e=a,this},c.interpolate=function(b,c){return e&&(c=g(c)),a(b)(c||{})},c}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(a,b,c,d,e,f){return{restrict:"AE",scope:!0,compile:function(b,g){var h=g.translateValues?g.translateValues:void 0,i=g.translateInterpolation?g.translateInterpolation:void 0,j=b[0].outerHTML.match(/translate-value-+/i);return function(b,k,l){if(b.interpolateParams={},l.$observe("translate",function(a){b.translationId=angular.equals(a,"")||!angular.isDefined(a)?c(k.text().replace(/^\s+|\s+$/g,""))(b.$parent):a}),l.$observe("translateDefault",function(a){b.defaultText=a}),h&&l.$observe("translateValues",function(a){a&&b.$parent.$watch(function(){angular.extend(b.interpolateParams,e(a)(b.$parent))})}),j){var m=function(a){l.$observe(a,function(c){b.interpolateParams[angular.lowercase(a.substr(14,1))+a.substr(15)]=c})};for(var n in l)l.hasOwnProperty(n)&&"translateValue"===n.substr(0,14)&&"translateValues"!==n&&m(n)}var o=function(b,c,e){e||"undefined"==typeof c.defaultText||(b=c.defaultText),k.html(b);var f=a.isPostCompilingEnabled(),h="undefined"!=typeof g.translateCompile,i=h&&"false"!==g.translateCompile;(f&&!h||i)&&d(k.contents())(c)},p=function(){return h||j?function(){var c=function(){b.translationId&&b.interpolateParams&&a(b.translationId,b.interpolateParams,i).then(function(a){o(a,b,!0)},function(a){o(a,b,!1)})};b.$watch("interpolateParams",c,!0),b.$watch("translationId",c)}:function(){var c=b.$watch("translationId",function(d){b.translationId&&d&&a(d,{},i).then(function(a){o(a,b,!0),c()},function(a){o(a,b,!1),c()})},!0)}}(),q=f.$on("$translateChangeSuccess",p);p(),b.$on("$destroy",q)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(a,b){return{compile:function(c){a.$on("$translateLoadingSuccess",function(){c.removeClass(b.cloakClassName())}),c.addClass(b.cloakClassName())}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(a,b){return function(c,d,e){return angular.isObject(d)||(d=a(d)(this)),b.instant(c,d,e)}}]),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.pako=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";var c=a("./lib/utils/common").assign,d=a("./lib/deflate"),e=a("./lib/inflate"),f=a("./lib/zlib/constants"),g={};c(g,d,e,f),b.exports=g},{"./lib/deflate":2,"./lib/inflate":3,"./lib/utils/common":4,"./lib/zlib/constants":7}],2:[function(a,b,c){"use strict";function d(a,b){var c=new s(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function e(a,b){return b=b||{},b.raw=!0,d(a,b)}function f(a,b){return b=b||{},b.gzip=!0,d(a,b)}var g=a("./zlib/deflate.js"),h=a("./utils/common"),i=a("./utils/strings"),j=a("./zlib/messages"),k=a("./zlib/zstream"),l=0,m=4,n=0,o=1,p=-1,q=0,r=8,s=function(a){this.options=h.assign({level:p,method:r,chunkSize:16384,windowBits:15,memLevel:8,strategy:q,to:""},a||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var c=g.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(c!==n)throw new Error(j[c]);b.header&&g.deflateSetHeader(this.strm,b.header)};s.prototype.push=function(a,b){var c,d,e=this.strm,f=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:b===!0?m:l,e.input="string"==typeof a?i.string2buf(a):a,e.next_in=0,e.avail_in=e.input.length;do{if(0===e.avail_out&&(e.output=new h.Buf8(f),e.next_out=0,e.avail_out=f),c=g.deflate(e,d),c!==o&&c!==n)return this.onEnd(c),this.ended=!0,!1;(0===e.avail_out||0===e.avail_in&&d===m)&&this.onData("string"===this.options.to?i.buf2binstring(h.shrinkBuf(e.output,e.next_out)):h.shrinkBuf(e.output,e.next_out))}while((e.avail_in>0||0===e.avail_out)&&c!==o);return d===m?(c=g.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===n):!0},s.prototype.onData=function(a){this.chunks.push(a)},s.prototype.onEnd=function(a){a===n&&(this.result="string"===this.options.to?this.chunks.join(""):h.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Deflate=s,c.deflate=d,c.deflateRaw=e,c.gzip=f},{"./utils/common":4,"./utils/strings":5,"./zlib/deflate.js":9,"./zlib/messages":14,"./zlib/zstream":16}],3:[function(a,b,c){"use strict";function d(a,b){var c=new m(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function e(a,b){return b=b||{},b.raw=!0,d(a,b)}var f=a("./zlib/inflate.js"),g=a("./utils/common"),h=a("./utils/strings"),i=a("./zlib/constants"),j=a("./zlib/messages"),k=a("./zlib/zstream"),l=a("./zlib/gzheader"),m=function(a){this.options=g.assign({chunkSize:16384,windowBits:0,to:""},a||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||a&&a.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&0===(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var c=f.inflateInit2(this.strm,b.windowBits);if(c!==i.Z_OK)throw new Error(j[c]);this.header=new l,f.inflateGetHeader(this.strm,this.header)};m.prototype.push=function(a,b){var c,d,e,j,k,l=this.strm,m=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:b===!0?i.Z_FINISH:i.Z_NO_FLUSH,l.input="string"==typeof a?h.binstring2buf(a):a,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new g.Buf8(m),l.next_out=0,l.avail_out=m),c=f.inflate(l,i.Z_NO_FLUSH),c!==i.Z_STREAM_END&&c!==i.Z_OK)return this.onEnd(c),this.ended=!0,!1;l.next_out&&(0===l.avail_out||c===i.Z_STREAM_END||0===l.avail_in&&d===i.Z_FINISH)&&("string"===this.options.to?(e=h.utf8border(l.output,l.next_out),j=l.next_out-e,k=h.buf2string(l.output,e),l.next_out=j,l.avail_out=m-j,j&&g.arraySet(l.output,l.output,e,j,0),this.onData(k)):this.onData(g.shrinkBuf(l.output,l.next_out)))}while(l.avail_in>0&&c!==i.Z_STREAM_END);return c===i.Z_STREAM_END&&(d=i.Z_FINISH),d===i.Z_FINISH?(c=f.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===i.Z_OK):!0},m.prototype.onData=function(a){this.chunks.push(a)},m.prototype.onEnd=function(a){a===i.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):g.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Inflate=m,c.inflate=d,c.inflateRaw=e,c.ungzip=d},{"./utils/common":4,"./utils/strings":5,"./zlib/constants":7,"./zlib/gzheader":10,"./zlib/inflate.js":12,"./zlib/messages":14,"./zlib/zstream":16}],4:[function(a,b,c){"use strict";var d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},c.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+d),e);for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;c>b;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;c>b;b++)f=a[b],g.set(f,e),e+=f.length;return g}},f={arraySet:function(a,b,c,d,e){for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,f))},c.setTyped(d)},{}],5:[function(a,b,c){"use strict";function d(a,b){if(65537>b&&(a.subarray&&g||!a.subarray&&f))return String.fromCharCode.apply(null,e.shrinkBuf(a,b));for(var c="",d=0;b>d;d++)c+=String.fromCharCode(a[d]);return c}var e=a("./common"),f=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(h){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(h){g=!1}for(var i=new e.Buf8(256),j=0;256>j;j++)i[j]=j>=252?6:j>=248?5:j>=240?4:j>=224?3:j>=192?2:1;i[254]=i[254]=1,c.string2buf=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=new e.Buf8(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},c.buf2binstring=function(a){return d(a,a.length)},c.binstring2buf=function(a){for(var b=new e.Buf8(a.length),c=0,d=b.length;d>c;c++)b[c]=a.charCodeAt(c);return b},c.buf2string=function(a,b){var c,e,f,g,h=b||a.length,j=new Array(2*h);for(e=0,c=0;h>c;)if(f=a[c++],128>f)j[e++]=f;else if(g=i[f],g>4)j[e++]=65533,c+=g-1;else{for(f&=2===g?31:3===g?15:7;g>1&&h>c;)f=f<<6|63&a[c++],g--;g>1?j[e++]=65533:65536>f?j[e++]=f:(f-=65536,j[e++]=55296|f>>10&1023,j[e++]=56320|1023&f)}return d(j,e)},c.utf8border=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+i[a[c]]>b?c:b}},{"./common":4}],6:[function(a,b){"use strict";function c(a,b,c,d){for(var e=65535&a|0,f=a>>>16&65535|0,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do e=e+b[d++]|0,f=f+e|0;while(--g);e%=65521,f%=65521}return e|f<<16|0}b.exports=c},{}],7:[function(a,b){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],8:[function(a,b){"use strict";function c(){for(var a,b=[],c=0;256>c;c++){a=c;for(var d=0;8>d;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}function d(a,b,c,d){var f=e,g=d+c;a=-1^a;for(var h=d;g>h;h++)a=a>>>8^f[255&(a^b[h])];return-1^a}var e=c();b.exports=d},{}],9:[function(a,b,c){"use strict";function d(a,b){return a.msg=G[b],b}function e(a){return(a<<1)-(a>4?9:0)}function f(a){for(var b=a.length;--b>=0;)a[b]=0}function g(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(C.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function h(a,b){D._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,g(a.strm)}function i(a,b){a.pending_buf[a.pending++]=b}function j(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b}function k(a,b,c,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,C.arraySet(b,a.input,a.next_in,e,c),1===a.state.wrap?a.adler=E(a.adler,b,e,c):2===a.state.wrap&&(a.adler=F(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)}function l(a,b){var c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-jb?a.strstart-(a.w_size-jb):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+ib,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do if(c=b,j[c+g]===o&&j[c+g-1]===n&&j[c]===j[f]&&j[++c]===j[f+1]){f+=2,c++;do;while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&m>f);if(d=ib-(m-f),f=m-ib,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}while((b=l[b&k])>i&&0!==--e);return g<=a.lookahead?g:a.lookahead}function m(a){var b,c,d,e,f,g=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=g+(g-jb)){C.arraySet(a.window,a.window,g,g,0),a.match_start-=g,a.strstart-=g,a.block_start-=g,c=a.hash_size,b=c;do d=a.head[--b],a.head[b]=d>=g?d-g:0;while(--c);c=g,b=c;do d=a.prev[--b],a.prev[b]=d>=g?d-g:0;while(--c);e+=g}if(0===a.strm.avail_in)break;if(c=k(a.strm,a.window,a.strstart+a.lookahead,e),a.lookahead+=c,a.lookahead+a.insert>=hb)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+hb-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<hb)););}while(a.lookahead<jb&&0!==a.strm.avail_in)}function n(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(m(a),0===a.lookahead&&b===H)return sb;if(0===a.lookahead)break}a.strstart+=a.lookahead,a.lookahead=0;var d=a.block_start+c;if((0===a.strstart||a.strstart>=d)&&(a.lookahead=a.strstart-d,a.strstart=d,h(a,!1),0===a.strm.avail_out))return sb;if(a.strstart-a.block_start>=a.w_size-jb&&(h(a,!1),0===a.strm.avail_out))return sb}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.strstart>a.block_start&&(h(a,!1),0===a.strm.avail_out)?sb:sb}function o(a,b){for(var c,d;;){if(a.lookahead<jb){if(m(a),a.lookahead<jb&&b===H)return sb;if(0===a.lookahead)break}if(c=0,a.lookahead>=hb&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+hb-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-jb&&(a.match_length=l(a,c)),a.match_length>=hb)if(d=D._tr_tally(a,a.strstart-a.match_start,a.match_length-hb),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=hb){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+hb-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(h(a,!1),0===a.strm.avail_out))return sb}return a.insert=a.strstart<hb-1?a.strstart:hb-1,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sb:tb}function p(a,b){for(var c,d,e;;){if(a.lookahead<jb){if(m(a),a.lookahead<jb&&b===H)return sb;if(0===a.lookahead)break}if(c=0,a.lookahead>=hb&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+hb-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=hb-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-jb&&(a.match_length=l(a,c),a.match_length<=5&&(a.strategy===S||a.match_length===hb&&a.strstart-a.match_start>4096)&&(a.match_length=hb-1)),a.prev_length>=hb&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-hb,d=D._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-hb),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+hb-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);if(a.match_available=0,a.match_length=hb-1,a.strstart++,d&&(h(a,!1),0===a.strm.avail_out))return sb}else if(a.match_available){if(d=D._tr_tally(a,0,a.window[a.strstart-1]),d&&h(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return sb}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(d=D._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<hb-1?a.strstart:hb-1,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sb:tb}function q(a,b){for(var c,d,e,f,g=a.window;;){if(a.lookahead<=ib){if(m(a),a.lookahead<=ib&&b===H)return sb;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=hb&&a.strstart>0&&(e=a.strstart-1,d=g[e],d===g[++e]&&d===g[++e]&&d===g[++e])){f=a.strstart+ib;do;while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&f>e);a.match_length=ib-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=hb?(c=D._tr_tally(a,1,a.match_length-hb),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(h(a,!1),0===a.strm.avail_out))return sb}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sb:tb}function r(a,b){for(var c;;){if(0===a.lookahead&&(m(a),0===a.lookahead)){if(b===H)return sb;break}if(a.match_length=0,c=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(h(a,!1),0===a.strm.avail_out))return sb}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sb:tb}function s(a){a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=B[a.level].max_lazy,a.good_match=B[a.level].good_length,a.nice_match=B[a.level].nice_length,a.max_chain_length=B[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=hb-1,a.match_available=0,a.ins_h=0}function t(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new C.Buf16(2*fb),this.dyn_dtree=new C.Buf16(2*(2*db+1)),this.bl_tree=new C.Buf16(2*(2*eb+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new C.Buf16(gb+1),this.heap=new C.Buf16(2*cb+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new C.Buf16(2*cb+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function u(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=X,b=a.state,b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?lb:qb,a.adler=2===b.wrap?0:1,b.last_flush=H,D._tr_init(b),M):d(a,O)}function v(a){var b=u(a);return b===M&&s(a.state),b}function w(a,b){return a&&a.state?2!==a.state.wrap?O:(a.state.gzhead=b,M):O}function x(a,b,c,e,f,g){if(!a)return O;var h=1;if(b===R&&(b=6),0>e?(h=0,e=-e):e>15&&(h=2,e-=16),1>f||f>Z||c!==Y||8>e||e>15||0>b||b>9||0>g||g>V)return d(a,O);8===e&&(e=9);var i=new t;return a.state=i,i.strm=a,i.wrap=h,i.gzhead=null,i.w_bits=e,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=f+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+hb-1)/hb),i.window=new C.Buf8(2*i.w_size),i.head=new C.Buf16(i.hash_size),i.prev=new C.Buf16(i.w_size),i.lit_bufsize=1<<f+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new C.Buf8(i.pending_buf_size),i.d_buf=i.lit_bufsize>>1,i.l_buf=3*i.lit_bufsize,i.level=b,i.strategy=g,i.method=c,v(a)}function y(a,b){return x(a,b,Y,$,_,W)}function z(a,b){var c,h,k,l;if(!a||!a.state||b>L||0>b)return a?d(a,O):O;if(h=a.state,!a.output||!a.input&&0!==a.avail_in||h.status===rb&&b!==K)return d(a,0===a.avail_out?Q:O);if(h.strm=a,c=h.last_flush,h.last_flush=b,h.status===lb)if(2===h.wrap)a.adler=0,i(h,31),i(h,139),i(h,8),h.gzhead?(i(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),i(h,255&h.gzhead.time),i(h,h.gzhead.time>>8&255),i(h,h.gzhead.time>>16&255),i(h,h.gzhead.time>>24&255),i(h,9===h.level?2:h.strategy>=T||h.level<2?4:0),i(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(i(h,255&h.gzhead.extra.length),i(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=F(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=mb):(i(h,0),i(h,0),i(h,0),i(h,0),i(h,0),i(h,9===h.level?2:h.strategy>=T||h.level<2?4:0),i(h,wb),h.status=qb);else{var m=Y+(h.w_bits-8<<4)<<8,n=-1;n=h.strategy>=T||h.level<2?0:h.level<6?1:6===h.level?2:3,m|=n<<6,0!==h.strstart&&(m|=kb),m+=31-m%31,h.status=qb,j(h,m),0!==h.strstart&&(j(h,a.adler>>>16),j(h,65535&a.adler)),a.adler=1}if(h.status===mb)if(h.gzhead.extra){for(k=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending!==h.pending_buf_size));)i(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=nb)}else h.status=nb;if(h.status===nb)if(h.gzhead.name){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.gzindex=0,h.status=ob)}else h.status=ob;if(h.status===ob)if(h.gzhead.comment){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.status=pb)}else h.status=pb;if(h.status===pb&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&g(a),h.pending+2<=h.pending_buf_size&&(i(h,255&a.adler),i(h,a.adler>>8&255),a.adler=0,h.status=qb)):h.status=qb),0!==h.pending){if(g(a),0===a.avail_out)return h.last_flush=-1,M}else if(0===a.avail_in&&e(b)<=e(c)&&b!==K)return d(a,Q);if(h.status===rb&&0!==a.avail_in)return d(a,Q);if(0!==a.avail_in||0!==h.lookahead||b!==H&&h.status!==rb){var o=h.strategy===T?r(h,b):h.strategy===U?q(h,b):B[h.level].func(h,b);if((o===ub||o===vb)&&(h.status=rb),o===sb||o===ub)return 0===a.avail_out&&(h.last_flush=-1),M;if(o===tb&&(b===I?D._tr_align(h):b!==L&&(D._tr_stored_block(h,0,0,!1),b===J&&(f(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),g(a),0===a.avail_out))return h.last_flush=-1,M}return b!==K?M:h.wrap<=0?N:(2===h.wrap?(i(h,255&a.adler),i(h,a.adler>>8&255),i(h,a.adler>>16&255),i(h,a.adler>>24&255),i(h,255&a.total_in),i(h,a.total_in>>8&255),i(h,a.total_in>>16&255),i(h,a.total_in>>24&255)):(j(h,a.adler>>>16),j(h,65535&a.adler)),g(a),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?M:N)}function A(a){var b;return a&&a.state?(b=a.state.status,b!==lb&&b!==mb&&b!==nb&&b!==ob&&b!==pb&&b!==qb&&b!==rb?d(a,O):(a.state=null,b===qb?d(a,P):M)):O}var B,C=a("../utils/common"),D=a("./trees"),E=a("./adler32"),F=a("./crc32"),G=a("./messages"),H=0,I=1,J=3,K=4,L=5,M=0,N=1,O=-2,P=-3,Q=-5,R=-1,S=1,T=2,U=3,V=4,W=0,X=2,Y=8,Z=9,$=15,_=8,ab=29,bb=256,cb=bb+1+ab,db=30,eb=19,fb=2*cb+1,gb=15,hb=3,ib=258,jb=ib+hb+1,kb=32,lb=42,mb=69,nb=73,ob=91,pb=103,qb=113,rb=666,sb=1,tb=2,ub=3,vb=4,wb=3,xb=function(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e};B=[new xb(0,0,0,0,n),new xb(4,4,8,4,o),new xb(4,5,16,8,o),new xb(4,6,32,32,o),new xb(4,4,16,16,p),new xb(8,16,32,32,p),new xb(8,16,128,128,p),new xb(8,32,128,256,p),new xb(32,128,258,1024,p),new xb(32,258,258,4096,p)],c.deflateInit=y,c.deflateInit2=x,c.deflateReset=v,c.deflateResetKeep=u,c.deflateSetHeader=w,c.deflate=z,c.deflateEnd=A,c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":4,"./adler32":6,"./crc32":8,"./messages":14,"./trees":15}],10:[function(a,b){"use strict";function c(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}b.exports=c},{}],11:[function(a,b){"use strict";var c=30,d=12;b.exports=function(a,b){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;e=a.state,f=a.next_in,B=a.input,g=f+(a.avail_in-5),h=a.next_out,C=a.output,i=h-(b-a.avail_out),j=h+(a.avail_out-257),k=e.dmax,l=e.wsize,m=e.whave,n=e.wnext,o=e.window,p=e.hold,q=e.bits,r=e.lencode,s=e.distcode,t=(1<<e.lenbits)-1,u=(1<<e.distbits)-1;a:do{15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=r[p&t];b:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,0===w)C[h++]=65535&v;else{if(!(16&w)){if(0===(64&w)){v=r[(65535&v)+(p&(1<<w)-1)];continue b}if(32&w){e.mode=d;break a}a.msg="invalid literal/length code",e.mode=c;break a}x=65535&v,w&=15,w&&(w>q&&(p+=B[f++]<<q,q+=8),x+=p&(1<<w)-1,p>>>=w,q-=w),15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=s[p&u];c:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,!(16&w)){if(0===(64&w)){v=s[(65535&v)+(p&(1<<w)-1)];continue c}a.msg="invalid distance code",e.mode=c;break a}if(y=65535&v,w&=15,w>q&&(p+=B[f++]<<q,q+=8,w>q&&(p+=B[f++]<<q,q+=8)),y+=p&(1<<w)-1,y>k){a.msg="invalid distance too far back",e.mode=c;break a}if(p>>>=w,q-=w,w=h-i,y>w){if(w=y-w,w>m&&e.sane){a.msg="invalid distance too far back",e.mode=c;break a}if(z=0,A=o,0===n){if(z+=l-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}else if(w>n){if(z+=l+n-w,w-=n,x>w){x-=w;do C[h++]=o[z++];while(--w);if(z=0,x>n){w=n,x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}}else if(z+=n-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}for(;x>2;)C[h++]=A[z++],C[h++]=A[z++],C[h++]=A[z++],x-=3;x&&(C[h++]=A[z++],x>1&&(C[h++]=A[z++]))}else{z=h-y;do C[h++]=C[z++],C[h++]=C[z++],C[h++]=C[z++],x-=3;while(x>2);x&&(C[h++]=C[z++],x>1&&(C[h++]=C[z++]))}break}}break}}while(g>f&&j>h);x=q>>3,f-=x,q-=x<<3,p&=(1<<q)-1,a.next_in=f,a.next_out=h,a.avail_in=g>f?5+(g-f):5-(f-g),a.avail_out=j>h?257+(j-h):257-(h-j),e.hold=p,e.bits=q}},{}],12:[function(a,b,c){"use strict";function d(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=K,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new r.Buf32(ob),b.distcode=b.distdyn=new r.Buf32(pb),b.sane=1,b.back=-1,C):F}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,f(a)):F}function h(a,b){var c,d;return a&&a.state?(d=a.state,0>b?(c=0,b=-b):(c=(b>>4)+1,48>b&&(b&=15)),b&&(8>b||b>15)?F:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,g(a))):F}function i(a,b){var c,d;return a?(d=new e,a.state=d,d.window=null,c=h(a,b),c!==C&&(a.state=null),c):F}function j(a){return i(a,rb)}function k(a){if(sb){var b;for(p=new r.Buf32(512),q=new r.Buf32(32),b=0;144>b;)a.lens[b++]=8;for(;256>b;)a.lens[b++]=9;for(;280>b;)a.lens[b++]=7;for(;288>b;)a.lens[b++]=8;for(v(x,a.lens,0,288,p,0,a.work,{bits:9}),b=0;32>b;)a.lens[b++]=5;v(y,a.lens,0,32,q,0,a.work,{bits:5}),sb=!1}a.lencode=p,a.lenbits=9,a.distcode=q,a.distbits=5}function l(a,b,c,d){var e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new r.Buf8(f.wsize)),d>=f.wsize?(r.arraySet(f.window,b,c-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>d&&(e=d),r.arraySet(f.window,b,c-d,e,f.wnext),d-=e,d?(r.arraySet(f.window,b,c-d,d,0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function m(a,b){var c,e,f,g,h,i,j,m,n,o,p,q,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab=0,Bb=new r.Buf8(4),Cb=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return F;c=a.state,c.mode===V&&(c.mode=W),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,o=i,p=j,xb=C;a:for(;;)switch(c.mode){case K:if(0===c.wrap){c.mode=W;break}for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(2&c.wrap&&35615===m){c.check=0,Bb[0]=255&m,Bb[1]=m>>>8&255,c.check=t(c.check,Bb,2,0),m=0,n=0,c.mode=L;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&m)<<8)+(m>>8))%31){a.msg="incorrect header check",c.mode=lb;break}if((15&m)!==J){a.msg="unknown compression method",c.mode=lb;break}if(m>>>=4,n-=4,wb=(15&m)+8,0===c.wbits)c.wbits=wb;else if(wb>c.wbits){a.msg="invalid window size",c.mode=lb;break}c.dmax=1<<wb,a.adler=c.check=1,c.mode=512&m?T:V,m=0,n=0;break;case L:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.flags=m,(255&c.flags)!==J){a.msg="unknown compression method",c.mode=lb;break}if(57344&c.flags){a.msg="unknown header flags set",c.mode=lb;break}c.head&&(c.head.text=m>>8&1),512&c.flags&&(Bb[0]=255&m,Bb[1]=m>>>8&255,c.check=t(c.check,Bb,2,0)),m=0,n=0,c.mode=M;case M:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.time=m),512&c.flags&&(Bb[0]=255&m,Bb[1]=m>>>8&255,Bb[2]=m>>>16&255,Bb[3]=m>>>24&255,c.check=t(c.check,Bb,4,0)),m=0,n=0,c.mode=N;case N:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.xflags=255&m,c.head.os=m>>8),512&c.flags&&(Bb[0]=255&m,Bb[1]=m>>>8&255,c.check=t(c.check,Bb,2,0)),m=0,n=0,c.mode=O;case O:if(1024&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length=m,c.head&&(c.head.extra_len=m),512&c.flags&&(Bb[0]=255&m,Bb[1]=m>>>8&255,c.check=t(c.check,Bb,2,0)),m=0,n=0}else c.head&&(c.head.extra=null);c.mode=P;case P:if(1024&c.flags&&(q=c.length,q>i&&(q=i),q&&(c.head&&(wb=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),r.arraySet(c.head.extra,e,g,q,wb)),512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,c.length-=q),c.length))break a;c.length=0,c.mode=Q;case Q:if(2048&c.flags){if(0===i)break a;q=0;do wb=e[g+q++],c.head&&wb&&c.length<65536&&(c.head.name+=String.fromCharCode(wb));
while(wb&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wb)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=R;case R:if(4096&c.flags){if(0===i)break a;q=0;do wb=e[g+q++],c.head&&wb&&c.length<65536&&(c.head.comment+=String.fromCharCode(wb));while(wb&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wb)break a}else c.head&&(c.head.comment=null);c.mode=S;case S:if(512&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(65535&c.check)){a.msg="header crc mismatch",c.mode=lb;break}m=0,n=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=V;break;case T:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}a.adler=c.check=d(m),m=0,n=0,c.mode=U;case U:if(0===c.havedict)return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,E;a.adler=c.check=1,c.mode=V;case V:if(b===A||b===B)break a;case W:if(c.last){m>>>=7&n,n-=7&n,c.mode=ib;break}for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}switch(c.last=1&m,m>>>=1,n-=1,3&m){case 0:c.mode=X;break;case 1:if(k(c),c.mode=bb,b===B){m>>>=2,n-=2;break a}break;case 2:c.mode=$;break;case 3:a.msg="invalid block type",c.mode=lb}m>>>=2,n-=2;break;case X:for(m>>>=7&n,n-=7&n;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if((65535&m)!==(m>>>16^65535)){a.msg="invalid stored block lengths",c.mode=lb;break}if(c.length=65535&m,m=0,n=0,c.mode=Y,b===B)break a;case Y:c.mode=Z;case Z:if(q=c.length){if(q>i&&(q=i),q>j&&(q=j),0===q)break a;r.arraySet(f,e,g,q,h),i-=q,g+=q,j-=q,h+=q,c.length-=q;break}c.mode=V;break;case $:for(;14>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.nlen=(31&m)+257,m>>>=5,n-=5,c.ndist=(31&m)+1,m>>>=5,n-=5,c.ncode=(15&m)+4,m>>>=4,n-=4,c.nlen>286||c.ndist>30){a.msg="too many length or distance symbols",c.mode=lb;break}c.have=0,c.mode=_;case _:for(;c.have<c.ncode;){for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.lens[Cb[c.have++]]=7&m,m>>>=3,n-=3}for(;c.have<19;)c.lens[Cb[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,yb={bits:c.lenbits},xb=v(w,c.lens,0,19,c.lencode,0,c.work,yb),c.lenbits=yb.bits,xb){a.msg="invalid code lengths set",c.mode=lb;break}c.have=0,c.mode=ab;case ab:for(;c.have<c.nlen+c.ndist;){for(;Ab=c.lencode[m&(1<<c.lenbits)-1],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(16>sb)m>>>=qb,n-=qb,c.lens[c.have++]=sb;else{if(16===sb){for(zb=qb+2;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m>>>=qb,n-=qb,0===c.have){a.msg="invalid bit length repeat",c.mode=lb;break}wb=c.lens[c.have-1],q=3+(3&m),m>>>=2,n-=2}else if(17===sb){for(zb=qb+3;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qb,n-=qb,wb=0,q=3+(7&m),m>>>=3,n-=3}else{for(zb=qb+7;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qb,n-=qb,wb=0,q=11+(127&m),m>>>=7,n-=7}if(c.have+q>c.nlen+c.ndist){a.msg="invalid bit length repeat",c.mode=lb;break}for(;q--;)c.lens[c.have++]=wb}}if(c.mode===lb)break;if(0===c.lens[256]){a.msg="invalid code -- missing end-of-block",c.mode=lb;break}if(c.lenbits=9,yb={bits:c.lenbits},xb=v(x,c.lens,0,c.nlen,c.lencode,0,c.work,yb),c.lenbits=yb.bits,xb){a.msg="invalid literal/lengths set",c.mode=lb;break}if(c.distbits=6,c.distcode=c.distdyn,yb={bits:c.distbits},xb=v(y,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,yb),c.distbits=yb.bits,xb){a.msg="invalid distances set",c.mode=lb;break}if(c.mode=bb,b===B)break a;case bb:c.mode=cb;case cb:if(i>=6&&j>=258){a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,u(a,p),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,c.mode===V&&(c.back=-1);break}for(c.back=0;Ab=c.lencode[m&(1<<c.lenbits)-1],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(rb&&0===(240&rb)){for(tb=qb,ub=rb,vb=sb;Ab=c.lencode[vb+((m&(1<<tb+ub)-1)>>tb)],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=tb+qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=tb,n-=tb,c.back+=tb}if(m>>>=qb,n-=qb,c.back+=qb,c.length=sb,0===rb){c.mode=hb;break}if(32&rb){c.back=-1,c.mode=V;break}if(64&rb){a.msg="invalid literal/length code",c.mode=lb;break}c.extra=15&rb,c.mode=db;case db:if(c.extra){for(zb=c.extra;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=eb;case eb:for(;Ab=c.distcode[m&(1<<c.distbits)-1],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(0===(240&rb)){for(tb=qb,ub=rb,vb=sb;Ab=c.distcode[vb+((m&(1<<tb+ub)-1)>>tb)],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=tb+qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=tb,n-=tb,c.back+=tb}if(m>>>=qb,n-=qb,c.back+=qb,64&rb){a.msg="invalid distance code",c.mode=lb;break}c.offset=sb,c.extra=15&rb,c.mode=fb;case fb:if(c.extra){for(zb=c.extra;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.offset+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg="invalid distance too far back",c.mode=lb;break}c.mode=gb;case gb:if(0===j)break a;if(q=p-j,c.offset>q){if(q=c.offset-q,q>c.whave&&c.sane){a.msg="invalid distance too far back",c.mode=lb;break}q>c.wnext?(q-=c.wnext,ob=c.wsize-q):ob=c.wnext-q,q>c.length&&(q=c.length),pb=c.window}else pb=f,ob=h-c.offset,q=c.length;q>j&&(q=j),j-=q,c.length-=q;do f[h++]=pb[ob++];while(--q);0===c.length&&(c.mode=cb);break;case hb:if(0===j)break a;f[h++]=c.length,j--,c.mode=cb;break;case ib:if(c.wrap){for(;32>n;){if(0===i)break a;i--,m|=e[g++]<<n,n+=8}if(p-=j,a.total_out+=p,c.total+=p,p&&(a.adler=c.check=c.flags?t(c.check,f,p,h-p):s(c.check,f,p,h-p)),p=j,(c.flags?m:d(m))!==c.check){a.msg="incorrect data check",c.mode=lb;break}m=0,n=0}c.mode=jb;case jb:if(c.wrap&&c.flags){for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(4294967295&c.total)){a.msg="incorrect length check",c.mode=lb;break}m=0,n=0}c.mode=kb;case kb:xb=D;break a;case lb:xb=G;break a;case mb:return H;case nb:default:return F}return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,(c.wsize||p!==a.avail_out&&c.mode<lb&&(c.mode<ib||b!==z))&&l(a,a.output,a.next_out,p-a.avail_out)?(c.mode=mb,H):(o-=a.avail_in,p-=a.avail_out,a.total_in+=o,a.total_out+=p,c.total+=p,c.wrap&&p&&(a.adler=c.check=c.flags?t(c.check,f,p,a.next_out-p):s(c.check,f,p,a.next_out-p)),a.data_type=c.bits+(c.last?64:0)+(c.mode===V?128:0)+(c.mode===bb||c.mode===Y?256:0),(0===o&&0===p||b===z)&&xb===C&&(xb=I),xb)}function n(a){if(!a||!a.state)return F;var b=a.state;return b.window&&(b.window=null),a.state=null,C}function o(a,b){var c;return a&&a.state?(c=a.state,0===(2&c.wrap)?F:(c.head=b,b.done=!1,C)):F}var p,q,r=a("../utils/common"),s=a("./adler32"),t=a("./crc32"),u=a("./inffast"),v=a("./inftrees"),w=0,x=1,y=2,z=4,A=5,B=6,C=0,D=1,E=2,F=-2,G=-3,H=-4,I=-5,J=8,K=1,L=2,M=3,N=4,O=5,P=6,Q=7,R=8,S=9,T=10,U=11,V=12,W=13,X=14,Y=15,Z=16,$=17,_=18,ab=19,bb=20,cb=21,db=22,eb=23,fb=24,gb=25,hb=26,ib=27,jb=28,kb=29,lb=30,mb=31,nb=32,ob=852,pb=592,qb=15,rb=qb,sb=!0;c.inflateReset=g,c.inflateReset2=h,c.inflateResetKeep=f,c.inflateInit=j,c.inflateInit2=i,c.inflate=m,c.inflateEnd=n,c.inflateGetHeader=o,c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":4,"./adler32":6,"./crc32":8,"./inffast":11,"./inftrees":13}],13:[function(a,b){"use strict";var c=a("../utils/common"),d=15,e=852,f=592,g=0,h=1,i=2,j=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],k=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(a,b,n,o,p,q,r,s){var t,u,v,w,x,y,z,A,B,C=s.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new c.Buf16(d+1),Q=new c.Buf16(d+1),R=null,S=0;for(D=0;d>=D;D++)P[D]=0;for(E=0;o>E;E++)P[b[n+E]]++;for(H=C,G=d;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return p[q++]=20971520,p[q++]=20971520,s.bits=1,0;for(F=1;G>F&&0===P[F];F++);for(F>H&&(H=F),K=1,D=1;d>=D;D++)if(K<<=1,K-=P[D],0>K)return-1;if(K>0&&(a===g||1!==G))return-1;for(Q[1]=0,D=1;d>D;D++)Q[D+1]=Q[D]+P[D];for(E=0;o>E;E++)0!==b[n+E]&&(r[Q[b[n+E]]++]=E);if(a===g?(N=R=r,y=19):a===h?(N=j,O-=257,R=k,S-=257,y=256):(N=l,R=m,y=-1),M=0,E=0,D=F,x=q,I=H,J=0,v=-1,L=1<<H,w=L-1,a===h&&L>e||a===i&&L>f)return 1;for(var T=0;;){T++,z=D-J,r[E]<y?(A=0,B=r[E]):r[E]>y?(A=R[S+r[E]],B=N[O+r[E]]):(A=96,B=0),t=1<<D-J,u=1<<I,F=u;do u-=t,p[x+(M>>J)+u]=z<<24|A<<16|B|0;while(0!==u);for(t=1<<D-1;M&t;)t>>=1;if(0!==t?(M&=t-1,M+=t):M=0,E++,0===--P[D]){if(D===G)break;D=b[n+r[E]]}if(D>H&&(M&w)!==v){for(0===J&&(J=H),x+=F,I=D-J,K=1<<I;G>I+J&&(K-=P[I+J],!(0>=K));)I++,K<<=1;if(L+=1<<I,a===h&&L>e||a===i&&L>f)return 1;v=M&w,p[v]=H<<24|I<<16|x-q|0}}return 0!==M&&(p[x+M]=D-J<<24|64<<16|0),s.bits=H,0}},{"../utils/common":4}],14:[function(a,b){"use strict";b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],15:[function(a,b,c){"use strict";function d(a){for(var b=a.length;--b>=0;)a[b]=0}function e(a){return 256>a?gb[a]:gb[256+(a>>>7)]}function f(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255}function g(a,b,c){a.bi_valid>V-c?(a.bi_buf|=b<<a.bi_valid&65535,f(a,a.bi_buf),a.bi_buf=b>>V-a.bi_valid,a.bi_valid+=c-V):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function h(a,b,c){g(a,c[2*b],c[2*b+1])}function i(a,b){var c=0;do c|=1&a,a>>>=1,c<<=1;while(--b>0);return c>>>1}function j(a){16===a.bi_valid?(f(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function k(a,b){var c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;for(f=0;U>=f;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,c=a.heap_max+1;T>c;c++)d=a.heap[c],f=i[2*i[2*d+1]+1]+1,f>o&&(f=o,p++),i[2*d+1]=f,d>j||(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0);for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)e=a.heap[--c],e>j||(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}}function l(a,b,c){var d,e,f=new Array(U+1),g=0;for(d=1;U>=d;d++)f[d]=g=g+c[d-1]<<1;for(e=0;b>=e;e++){var h=a[2*e+1];0!==h&&(a[2*e]=i(f[h]++,h))}}function m(){var a,b,c,d,e,f=new Array(U+1);for(c=0,d=0;O-1>d;d++)for(ib[d]=c,a=0;a<1<<_[d];a++)hb[c++]=d;for(hb[c-1]=d,e=0,d=0;16>d;d++)for(jb[d]=e,a=0;a<1<<ab[d];a++)gb[e++]=d;for(e>>=7;R>d;d++)for(jb[d]=e<<7,a=0;a<1<<ab[d]-7;a++)gb[256+e++]=d;for(b=0;U>=b;b++)f[b]=0;for(a=0;143>=a;)eb[2*a+1]=8,a++,f[8]++;for(;255>=a;)eb[2*a+1]=9,a++,f[9]++;for(;279>=a;)eb[2*a+1]=7,a++,f[7]++;for(;287>=a;)eb[2*a+1]=8,a++,f[8]++;for(l(eb,Q+1,f),a=0;R>a;a++)fb[2*a+1]=5,fb[2*a]=i(a,5);kb=new nb(eb,_,P+1,Q,U),lb=new nb(fb,ab,0,R,U),mb=new nb(new Array(0),bb,0,S,W)}function n(a){var b;for(b=0;Q>b;b++)a.dyn_ltree[2*b]=0;for(b=0;R>b;b++)a.dyn_dtree[2*b]=0;for(b=0;S>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*X]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function o(a){a.bi_valid>8?f(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function p(a,b,c,d){o(a),d&&(f(a,c),f(a,~c)),E.arraySet(a.pending_buf,a.window,b,c,a.pending),a.pending+=c}function q(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function r(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&q(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!q(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d}function s(a,b,c){var d,f,i,j,k=0;if(0!==a.last_lit)do d=a.pending_buf[a.d_buf+2*k]<<8|a.pending_buf[a.d_buf+2*k+1],f=a.pending_buf[a.l_buf+k],k++,0===d?h(a,f,b):(i=hb[f],h(a,i+P+1,b),j=_[i],0!==j&&(f-=ib[i],g(a,f,j)),d--,i=e(d),h(a,i,c),j=ab[i],0!==j&&(d-=jb[i],g(a,d,j)));while(k<a.last_lit);h(a,X,b)}function t(a,b){var c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(a.heap_len=0,a.heap_max=T,c=0;i>c;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)e=a.heap[++a.heap_len]=2>j?++j:0,f[2*e]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)r(a,f,c);e=i;do c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],r(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,r(a,f,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],k(a,b),l(f,j,a.bl_count)}function u(a,b,c){var d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[2*(c+1)+1]=65535,d=0;c>=d;d++)e=g,g=b[2*(d+1)+1],++h<i&&e===g||(j>h?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[2*Y]++):10>=h?a.bl_tree[2*Z]++:a.bl_tree[2*$]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))}function v(a,b,c){var d,e,f=-1,i=b[1],j=0,k=7,l=4;for(0===i&&(k=138,l=3),d=0;c>=d;d++)if(e=i,i=b[2*(d+1)+1],!(++j<k&&e===i)){if(l>j){do h(a,e,a.bl_tree);while(0!==--j)}else 0!==e?(e!==f&&(h(a,e,a.bl_tree),j--),h(a,Y,a.bl_tree),g(a,j-3,2)):10>=j?(h(a,Z,a.bl_tree),g(a,j-3,3)):(h(a,$,a.bl_tree),g(a,j-11,7));j=0,f=e,0===i?(k=138,l=3):e===i?(k=6,l=3):(k=7,l=4)}}function w(a){var b;for(u(a,a.dyn_ltree,a.l_desc.max_code),u(a,a.dyn_dtree,a.d_desc.max_code),t(a,a.bl_desc),b=S-1;b>=3&&0===a.bl_tree[2*cb[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function x(a,b,c,d){var e;for(g(a,b-257,5),g(a,c-1,5),g(a,d-4,4),e=0;d>e;e++)g(a,a.bl_tree[2*cb[e]+1],3);v(a,a.dyn_ltree,b-1),v(a,a.dyn_dtree,c-1)}function y(a){var b,c=4093624447;for(b=0;31>=b;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return G;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return H;for(b=32;P>b;b++)if(0!==a.dyn_ltree[2*b])return H;return G}function z(a){pb||(m(),pb=!0),a.l_desc=new ob(a.dyn_ltree,kb),a.d_desc=new ob(a.dyn_dtree,lb),a.bl_desc=new ob(a.bl_tree,mb),a.bi_buf=0,a.bi_valid=0,n(a)}function A(a,b,c,d){g(a,(J<<1)+(d?1:0),3),p(a,b,c,!0)}function B(a){g(a,K<<1,3),h(a,X,eb),j(a)}function C(a,b,c,d){var e,f,h=0;a.level>0?(a.strm.data_type===I&&(a.strm.data_type=y(a)),t(a,a.l_desc),t(a,a.d_desc),h=w(a),e=a.opt_len+3+7>>>3,f=a.static_len+3+7>>>3,e>=f&&(e=f)):e=f=c+5,e>=c+4&&-1!==b?A(a,b,c,d):a.strategy===F||f===e?(g(a,(K<<1)+(d?1:0),3),s(a,eb,fb)):(g(a,(L<<1)+(d?1:0),3),x(a,a.l_desc.max_code+1,a.d_desc.max_code+1,h+1),s(a,a.dyn_ltree,a.dyn_dtree)),n(a),d&&o(a)}function D(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(hb[c]+P+1)]++,a.dyn_dtree[2*e(b)]++),a.last_lit===a.lit_bufsize-1}var E=a("../utils/common"),F=4,G=0,H=1,I=2,J=0,K=1,L=2,M=3,N=258,O=29,P=256,Q=P+1+O,R=30,S=19,T=2*Q+1,U=15,V=16,W=7,X=256,Y=16,Z=17,$=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ab=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],bb=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],cb=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],db=512,eb=new Array(2*(Q+2));d(eb);var fb=new Array(2*R);d(fb);var gb=new Array(db);d(gb);var hb=new Array(N-M+1);d(hb);var ib=new Array(O);d(ib);var jb=new Array(R);d(jb);var kb,lb,mb,nb=function(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length},ob=function(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b},pb=!1;c._tr_init=z,c._tr_stored_block=A,c._tr_flush_block=C,c._tr_tally=D,c._tr_align=B},{"../utils/common":4}],16:[function(a,b){"use strict";function c(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}b.exports=c},{}]},{},[1])(1)}),Iterator.prototype={hasMore:function(){return this.cursor<this.length},next:function(){return this.array[this.cursor++]}};var sprintf=function(){function a(a){var d,e,f=a,g=0,h=1,i="return '";for(d=0;d<a.length;d++)if("%"===a[d])switch(e=a[d+1]){case"s":i+=a.slice(g,d)+"' + arguments["+h+"] + '",g=d+2,h++;break;case"j":i+=a.slice(g,d)+"' + JSON.stringify(arguments["+h+"]) + '",g=d+2,h++;break;case"%":i+=a.slice(g,d+1),g=d+2,d++}else c[a[d]]&&(i+=a.slice(g,d)+c[a[d]],g=d+1);i+=a.slice(g)+"';",b[f]=new Function(i)}var b={},c={"'":"\\'","\n":"\\n"};return function(c){return b[c]||a(c),b[c].apply(null,arguments)}}(),dbits,canary=0xdeadbeefcafe,j_lm=15715070==(16777215&canary);j_lm&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=am2,dbits=30):j_lm&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=am1,dbits=26):(BigInteger.prototype.am=am3,dbits=28),BigInteger.prototype.DB=dbits,BigInteger.prototype.DM=(1<<dbits)-1,BigInteger.prototype.DV=1<<dbits;var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP),BigInteger.prototype.F1=BI_FP-dbits,BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=new Array,rr,vv;for(rr="0".charCodeAt(0),vv=0;9>=vv;++vv)BI_RC[rr++]=vv;for(rr="a".charCodeAt(0),vv=10;36>vv;++vv)BI_RC[rr++]=vv;for(rr="A".charCodeAt(0),vv=10;36>vv;++vv)BI_RC[rr++]=vv;Classic.prototype.convert=cConvert,Classic.prototype.revert=cRevert,Classic.prototype.reduce=cReduce,Classic.prototype.mulTo=cMulTo,Classic.prototype.sqrTo=cSqrTo,Montgomery.prototype.convert=montConvert,Montgomery.prototype.revert=montRevert,Montgomery.prototype.reduce=montReduce,Montgomery.prototype.mulTo=montMulTo,Montgomery.prototype.sqrTo=montSqrTo,BigInteger.prototype.copyTo=bnpCopyTo,BigInteger.prototype.fromInt=bnpFromInt,BigInteger.prototype.fromString=bnpFromString,BigInteger.prototype.clamp=bnpClamp,BigInteger.prototype.dlShiftTo=bnpDLShiftTo,BigInteger.prototype.drShiftTo=bnpDRShiftTo,BigInteger.prototype.lShiftTo=bnpLShiftTo,BigInteger.prototype.rShiftTo=bnpRShiftTo,BigInteger.prototype.subTo=bnpSubTo,BigInteger.prototype.multiplyTo=bnpMultiplyTo,BigInteger.prototype.squareTo=bnpSquareTo,BigInteger.prototype.divRemTo=bnpDivRemTo,BigInteger.prototype.invDigit=bnpInvDigit,BigInteger.prototype.isEven=bnpIsEven,BigInteger.prototype.exp=bnpExp,BigInteger.prototype.toString=bnToString,BigInteger.prototype.negate=bnNegate,BigInteger.prototype.abs=bnAbs,BigInteger.prototype.compareTo=bnCompareTo,BigInteger.prototype.bitLength=bnBitLength,BigInteger.prototype.mod=bnMod,BigInteger.prototype.modPowInt=bnModPowInt,BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1),NullExp.prototype.convert=nNop,NullExp.prototype.revert=nNop,NullExp.prototype.mulTo=nMulTo,NullExp.prototype.sqrTo=nSqrTo,Barrett.prototype.convert=barrettConvert,Barrett.prototype.revert=barrettRevert,Barrett.prototype.reduce=barrettReduce,Barrett.prototype.mulTo=barrettMulTo,Barrett.prototype.sqrTo=barrettSqrTo;var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],lplim=(1<<26)/lowprimes[lowprimes.length-1];BigInteger.prototype.chunkSize=bnpChunkSize,BigInteger.prototype.toRadix=bnpToRadix,BigInteger.prototype.fromRadix=bnpFromRadix,BigInteger.prototype.fromNumber=bnpFromNumber,BigInteger.prototype.bitwiseTo=bnpBitwiseTo,BigInteger.prototype.changeBit=bnpChangeBit,BigInteger.prototype.addTo=bnpAddTo,BigInteger.prototype.dMultiply=bnpDMultiply,BigInteger.prototype.dAddOffset=bnpDAddOffset,BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo,BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo,BigInteger.prototype.modInt=bnpModInt,BigInteger.prototype.millerRabin=bnpMillerRabin,BigInteger.prototype.clone=bnClone,BigInteger.prototype.intValue=bnIntValue,BigInteger.prototype.byteValue=bnByteValue,BigInteger.prototype.shortValue=bnShortValue,BigInteger.prototype.signum=bnSigNum,BigInteger.prototype.toByteArray=bnToByteArray,BigInteger.prototype.equals=bnEquals,BigInteger.prototype.min=bnMin,BigInteger.prototype.max=bnMax,BigInteger.prototype.and=bnAnd,BigInteger.prototype.or=bnOr,BigInteger.prototype.xor=bnXor,BigInteger.prototype.andNot=bnAndNot,BigInteger.prototype.not=bnNot,BigInteger.prototype.shiftLeft=bnShiftLeft,BigInteger.prototype.shiftRight=bnShiftRight,BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit,BigInteger.prototype.bitCount=bnBitCount,BigInteger.prototype.testBit=bnTestBit,BigInteger.prototype.setBit=bnSetBit,BigInteger.prototype.clearBit=bnClearBit,BigInteger.prototype.flipBit=bnFlipBit,BigInteger.prototype.add=bnAdd,BigInteger.prototype.subtract=bnSubtract,BigInteger.prototype.multiply=bnMultiply,BigInteger.prototype.divide=bnDivide,BigInteger.prototype.remainder=bnRemainder,BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder,BigInteger.prototype.modPow=bnModPow,BigInteger.prototype.modInverse=bnModInverse,BigInteger.prototype.pow=bnPow,BigInteger.prototype.gcd=bnGCD,BigInteger.prototype.isProbablePrime=bnIsProbablePrime,BigInteger.prototype.square=bnSquare;var NRS=function(a,b){var c={"ar-SA":"dd/MM/yy","bg-BG":"dd.M.yyyy","ca-ES":"dd/MM/yyyy","zh-TW":"yyyy/M/d","cs-CZ":"d.M.yyyy","da-DK":"dd-MM-yyyy","de-DE":"dd.MM.yyyy","el-GR":"d/M/yyyy","en-US":"M/d/yyyy","fi-FI":"d.M.yyyy","fr-FR":"dd/MM/yyyy","he-IL":"dd/MM/yyyy","hu-HU":"yyyy. MM. dd.","is-IS":"d.M.yyyy","it-IT":"dd/MM/yyyy","ja-JP":"yyyy/MM/dd","ko-KR":"yyyy-MM-dd","nl-NL":"d-M-yyyy","nb-NO":"dd.MM.yyyy","pl-PL":"yyyy-MM-dd","pt-BR":"d/M/yyyy","ro-RO":"dd.MM.yyyy","ru-RU":"dd.MM.yyyy","hr-HR":"d.M.yyyy","sk-SK":"d. M. yyyy","sq-AL":"yyyy-MM-dd","sv-SE":"yyyy-MM-dd","th-TH":"d/M/yyyy","tr-TR":"dd.MM.yyyy","ur-PK":"dd/MM/yyyy","id-ID":"dd/MM/yyyy","uk-UA":"dd.MM.yyyy","be-BY":"dd.MM.yyyy","sl-SI":"d.M.yyyy","et-EE":"d.MM.yyyy","lv-LV":"yyyy.MM.dd.","lt-LT":"yyyy.MM.dd","fa-IR":"MM/dd/yyyy","vi-VN":"dd/MM/yyyy","hy-AM":"dd.MM.yyyy","az-Latn-AZ":"dd.MM.yyyy","eu-ES":"yyyy/MM/dd","mk-MK":"dd.MM.yyyy","af-ZA":"yyyy/MM/dd","ka-GE":"dd.MM.yyyy","fo-FO":"dd-MM-yyyy","hi-IN":"dd-MM-yyyy","ms-MY":"dd/MM/yyyy","kk-KZ":"dd.MM.yyyy","ky-KG":"dd.MM.yy","sw-KE":"M/d/yyyy","uz-Latn-UZ":"dd/MM yyyy","tt-RU":"dd.MM.yyyy","pa-IN":"dd-MM-yy","gu-IN":"dd-MM-yy","ta-IN":"dd-MM-yyyy","te-IN":"dd-MM-yy","kn-IN":"dd-MM-yy","mr-IN":"dd-MM-yyyy","sa-IN":"dd-MM-yyyy","mn-MN":"yy.MM.dd","gl-ES":"dd/MM/yy","kok-IN":"dd-MM-yyyy","syr-SY":"dd/MM/yyyy","dv-MV":"dd/MM/yy","ar-IQ":"dd/MM/yyyy","zh-CN":"yyyy/M/d","de-CH":"dd.MM.yyyy","en-GB":"dd/MM/yyyy","es-MX":"dd/MM/yyyy","fr-BE":"d/MM/yyyy","it-CH":"dd.MM.yyyy","nl-BE":"d/MM/yyyy","nn-NO":"dd.MM.yyyy","pt-PT":"dd-MM-yyyy","sr-Latn-CS":"d.M.yyyy","sv-FI":"d.M.yyyy","az-Cyrl-AZ":"dd.MM.yyyy","ms-BN":"dd/MM/yyyy","uz-Cyrl-UZ":"dd.MM.yyyy","ar-EG":"dd/MM/yyyy","zh-HK":"d/M/yyyy","de-AT":"dd.MM.yyyy","en-AU":"d/MM/yyyy","es-ES":"dd/MM/yyyy","fr-CA":"yyyy-MM-dd","sr-Cyrl-CS":"d.M.yyyy","ar-LY":"dd/MM/yyyy","zh-SG":"d/M/yyyy","de-LU":"dd.MM.yyyy","en-CA":"dd/MM/yyyy","es-GT":"dd/MM/yyyy","fr-CH":"dd.MM.yyyy","ar-DZ":"dd-MM-yyyy","zh-MO":"d/M/yyyy","de-LI":"dd.MM.yyyy","en-NZ":"d/MM/yyyy","es-CR":"dd/MM/yyyy","fr-LU":"dd/MM/yyyy","ar-MA":"dd-MM-yyyy","en-IE":"dd/MM/yyyy","es-PA":"MM/dd/yyyy","fr-MC":"dd/MM/yyyy","ar-TN":"dd-MM-yyyy","en-ZA":"yyyy/MM/dd","es-DO":"dd/MM/yyyy","ar-OM":"dd/MM/yyyy","en-JM":"dd/MM/yyyy","es-VE":"dd/MM/yyyy","ar-YE":"dd/MM/yyyy","en-029":"MM/dd/yyyy","es-CO":"dd/MM/yyyy","ar-SY":"dd/MM/yyyy","en-BZ":"dd/MM/yyyy","es-PE":"dd/MM/yyyy","ar-JO":"dd/MM/yyyy","en-TT":"dd/MM/yyyy","es-AR":"dd/MM/yyyy","ar-LB":"dd/MM/yyyy","en-ZW":"M/d/yyyy","es-EC":"dd/MM/yyyy","ar-KW":"dd/MM/yyyy","en-PH":"M/d/yyyy","es-CL":"dd-MM-yyyy","ar-AE":"dd/MM/yyyy","es-UY":"dd/MM/yyyy","ar-BH":"dd/MM/yyyy","es-PY":"dd/MM/yyyy","ar-QA":"dd/MM/yyyy","es-BO":"dd/MM/yyyy","es-SV":"dd/MM/yyyy","es-HN":"dd/MM/yyyy","es-NI":"dd/MM/yyyy","es-PR":"dd/MM/yyyy","am-ET":"d/M/yyyy","tzm-Latn-DZ":"dd-MM-yyyy","iu-Latn-CA":"d/MM/yyyy","sma-NO":"dd.MM.yyyy","mn-Mong-CN":"yyyy/M/d","gd-GB":"dd/MM/yyyy","en-MY":"d/M/yyyy","prs-AF":"dd/MM/yy","bn-BD":"dd-MM-yy","wo-SN":"dd/MM/yyyy","rw-RW":"M/d/yyyy","qut-GT":"dd/MM/yyyy","sah-RU":"MM.dd.yyyy","gsw-FR":"dd/MM/yyyy","co-FR":"dd/MM/yyyy","oc-FR":"dd/MM/yyyy","mi-NZ":"dd/MM/yyyy","ga-IE":"dd/MM/yyyy","se-SE":"yyyy-MM-dd","br-FR":"dd/MM/yyyy","smn-FI":"d.M.yyyy","moh-CA":"M/d/yyyy","arn-CL":"dd-MM-yyyy","ii-CN":"yyyy/M/d","dsb-DE":"d. M. yyyy","ig-NG":"d/M/yyyy","kl-GL":"dd-MM-yyyy","lb-LU":"dd/MM/yyyy","ba-RU":"dd.MM.yy","nso-ZA":"yyyy/MM/dd","quz-BO":"dd/MM/yyyy","yo-NG":"d/M/yyyy","ha-Latn-NG":"d/M/yyyy","fil-PH":"M/d/yyyy","ps-AF":"dd/MM/yy","fy-NL":"d-M-yyyy","ne-NP":"M/d/yyyy","se-NO":"dd.MM.yyyy","iu-Cans-CA":"d/M/yyyy","sr-Latn-RS":"d.M.yyyy","si-LK":"yyyy-MM-dd","sr-Cyrl-RS":"d.M.yyyy","lo-LA":"dd/MM/yyyy","km-KH":"yyyy-MM-dd","cy-GB":"dd/MM/yyyy","bo-CN":"yyyy/M/d","sms-FI":"d.M.yyyy","as-IN":"dd-MM-yyyy","ml-IN":"dd-MM-yy","en-IN":"dd-MM-yyyy","or-IN":"dd-MM-yy","bn-IN":"dd-MM-yy","tk-TM":"dd.MM.yy","bs-Latn-BA":"d.M.yyyy","mt-MT":"dd/MM/yyyy","sr-Cyrl-ME":"d.M.yyyy","se-FI":"d.M.yyyy","zu-ZA":"yyyy/MM/dd","xh-ZA":"yyyy/MM/dd","tn-ZA":"yyyy/MM/dd","hsb-DE":"d. M. yyyy","bs-Cyrl-BA":"d.M.yyyy","tg-Cyrl-TJ":"dd.MM.yy","sr-Latn-BA":"d.M.yyyy","smj-NO":"dd.MM.yyyy","rm-CH":"dd/MM/yyyy","smj-SE":"yyyy-MM-dd","quz-EC":"dd/MM/yyyy","quz-PE":"dd/MM/yyyy","hr-BA":"d.M.yyyy.","sr-Latn-ME":"d.M.yyyy","sma-SE":"yyyy-MM-dd","en-SG":"d/M/yyyy","ug-CN":"yyyy-M-d","sr-Cyrl-BA":"d.M.yyyy","es-US":"M/d/yyyy"},d=window.navigator.userLanguage||window.navigator.language,e=c[d]||"dd/MM/yyyy";return a.formatVolume=function(a){var b=["B","KB","MB","GB","TB"];if(0==a)return"0 B";var c=parseInt(Math.floor(Math.log(a)/Math.log(1024)));a=Math.round(a/Math.pow(1024,c),2);var c,d=b[c],e=[],f="";do e[e.length]=a%10,a=Math.floor(a/10);while(a>0);for(c=0;c<e.length;c++)c>0&&c%3==0&&(f="'"+f),f=e[c]+f;return f+" "+d},a.formatWeight=function(a){var b,c=[],d="";do c[c.length]=a%10,a=Math.floor(a/10);while(a>0);for(b=0;b<c.length;b++)b>0&&b%3==0&&(d="'"+d),d=c[b]+d;return d.escapeHTML()},a.formatOrderPricePerWholeQNT=function(b,c){return b=a.calculateOrderPricePerWholeQNT(b,c,!0),a.format(b)},a.calculateOrderPricePerWholeQNT=function(b,c,d){return"object"!=typeof b&&(b=new BigInteger(String(b))),a.convertToNXT(b.multiply(new BigInteger(""+Math.pow(10,c))),d)},a.calculatePricePerWholeQNT=function(a,b){if(a=String(a),b){var c=a.slice(-b);if(/^[0]+$/.test(c))return a.slice(0,-b);throw"Invalid input."}return a},a.calculateOrderTotalNQT=function(a,b){"object"!=typeof a&&(a=new BigInteger(String(a))),"object"!=typeof b&&(b=new BigInteger(String(b)));var c=a.multiply(b);return c.toString()},a.calculateOrderTotal=function(b,c){return"object"!=typeof b&&(b=new BigInteger(String(b))),"object"!=typeof c&&(c=new BigInteger(String(c))),a.convertToNXT(b.multiply(c))},a.calculatePercentage=function(a,b){a=new Big(String(a)),b=new Big(String(b));var c=a.div(b).times(new Big("100")).toFixed(2);return c.toString()},a.convertToNXT=function(a,b){var c="",d="";"object"!=typeof a&&(a=new BigInteger(String(a)));var e=a.mod(new BigInteger("100000000")).toString();if(a=a.divide(new BigInteger("100000000")),a.compareTo(BigInteger.ZERO)<0&&(a=a.abs(),c="-"),e&&"0"!=e){d=".";for(var f=e.length;8>f;f++)d+="0";d+=e.replace(/0+$/,"")}return a=a.toString(),b?{negative:c,amount:a,afterComma:d}:c+a+d},a.amountToPrecision=function(a,b){a=String(a);var c=a.split(".");if(1==c.length)return c[0];if(2==c.length){var d=c[1];return d=d.replace(/0+$/,""),d.length>b&&(d=d.substring(0,b)),c[0]+"."+d}throw"Incorrect input"},a.convertToNQT=function(a){a=String(a);var b=a.split("."),c=b[0];if(1==b.length)var d="00000000";else{if(2!=b.length)throw"Invalid input";if(b[1].length<=8)var d=b[1];else var d=b[1].substring(0,8)}for(var e=d.length;8>e;e++)d+="0";var f=c+""+d;if(!/^\d+$/.test(f))throw"Invalid input.";return f=f.replace(/^0+/,""),""===f&&(f="0"),f},a.convertToQNTf=function(a,b,c){if(a=String(a),a.length<b)for(var d=a.length;b>d;d++)a="0"+a;var e="";return b&&(e="."+a.substring(a.length-b),a=a.substring(0,a.length-b),a||(a="0"),e=e.replace(/0+$/,""),"."==e&&(e="")),c?{amount:a,afterComma:e}:a+e},a.convertToQNT=function(a,b){a=String(a);var c=a.split("."),d=c[0];if(1==c.length){if(b)for(var e=0;b>e;e++)d+="0"}else{if(2!=c.length)throw"Incorrect input";var f=c[1];if(f.length>b)throw"Fraction can only have "+b+" decimals max.";if(f.length<b)for(var e=f.length;b>e;e++)f+="0";d+=f}if(!/^\d+$/.test(d))throw"Invalid input. Only numbers and a dot are accepted.";return d.replace(/^0+/,"")},a.format=function(a,b){for(var c=a.amount,d=c.split("").reverse(),e="",f=0;f<d.length;f++)f>0&&f%3==0&&(e="'"+e),e=d[f]+e;var g=(a.negative?a.negative:"")+e+a.afterComma;return b||(g=g.escapeHTML()),g},a.formatQuantity=function(b,c,d){return a.format(a.convertToQNTf(b,c,!0),d)},a.formatAmount=function(b,c,d){if("undefined"==typeof b)return"0";"string"==typeof b&&(b=new BigInteger(b));var e="",f="";if("object"==typeof b){var g=a.convertToNXT(b,!0);e=g.negative,b=g.amount,f=g.afterComma}else if(c&&(b=Math.round(100*b)/100),0>b&&(b=Math.abs(b),e="-"),b=""+b,-1!==b.indexOf(".")){var f=b.substr(b.indexOf("."));b=b.replace(f,"")}else var f="";return a.format({negative:e,amount:b,afterComma:f},d)},a.formatTimestamp=function(a,b){var c=new Date(Date.UTC(2013,10,24,12,0,0,0)+1e3*a);if(isNaN(c)||"function"!=typeof c.getFullYear)return c.toLocaleString();var d=c.getDate(),f=10>d?"0"+d:d,g=c.getMonth()+1,h=10>g?"0"+g:g,i=c.getFullYear(),j=new String(i).substring(2),k=e,l=k.replace(/dd/g,f).replace(/d/g,d).replace(/MM/g,h).replace(/M/g,g).replace(/yyyy/g,i).replace(/yy/g,j);if(!b){var m=c.getHours(),n=c.getMinutes(),o=c.getSeconds();10>m&&(m="0"+m),10>n&&(n="0"+n),10>o&&(o="0"+o),l+=" "+m+":"+n+":"+o}return l},a.formatTime=function(a){var b=new Date(Date.UTC(2013,10,24,12,0,0,0)+1e3*a);if(isNaN(b)||"function"!=typeof b.getFullYear)return b.toLocaleString();var c="",d=b.getHours(),e=b.getMinutes(),f=b.getSeconds();return 10>d&&(d="0"+d),10>e&&(e="0"+e),10>f&&(f="0"+f),c+=" "+d+":"+e+":"+f},a.isPrivateIP=function(a){if(!/^\d+\.\d+\.\d+\.\d+$/.test(a))return!1;var b=a.split(".");return"10"===b[0]||"172"===b[0]&&parseInt(b[1],10)>=16&&parseInt(b[1],10)<=31||"192"===b[0]&&"168"===b[1]?!0:!1},a.convertToHex16=function(a){var b,c,d="";for(c=0;c<a.length;c++)b=a.charCodeAt(c).toString(16),d+=("000"+b).slice(-4);return d},a.convertFromHex16=function(a){var b,c=a.match(/.{1,4}/g)||[],d="";for(b=0;b<c.length;b++)d+=String.fromCharCode(parseInt(c[b],16));return d},a.convertFromHex8=function(a){for(var a=a.toString(),b="",c=0;c<a.length;c+=2)b+=String.fromCharCode(parseInt(a.substr(c,2),16));return b},a.convertToHex8=function(a){for(var b="",c=0;c<a.length;c++)b+=""+a.charCodeAt(c).toString(16);return b},a.generatePublicKey=function(a){return nxtCrypto.getPublicKey(converters.stringToHexString(a))},a.generateAccountId=function(a){return nxtCrypto.getAccountId(a)},a.getFormData=function(a){var b=a.serializeArray(),c={};for(var d in b)c[b[d].name]=b[d].value;return c},a.getAccountTitle=function(b,c){var d=typeof b;return("string"==d||"number"==d)&&(c=b,b=null),c in a.contacts?a.contacts[c].name.escapeHTML():c==a.account||c==a.accountRS?"You":b?a.getAccountFormatted(b,c):String(c).escapeHTML()},a.getAccountFormatted=function(b,c){var d=typeof b;return"string"==d||"number"==d?String(b).escapeHTML():a.settings.reed_solomon?String(b[c+"RS"]).escapeHTML():String(b[c]).escapeHTML()
},a.setupClipboardFunctionality=function(){var c="#asset_id_dropdown .dropdown-menu a, #account_id_dropdown .dropdown-menu a";a.isLocalHost&&b("#account_id_dropdown li.remote_only, #asset_info_dropdown li.remote_only").remove();var d=b(c);if(a.inApp)d.on("click",function(){parent.postMessage({type:"copy",text:a.getClipboardText(b(this).data("type"))},"*"),b.growl("Copied to the clipboard successfully.",{type:"success"})});else{var e=new ZeroClipboard(d,{moviePath:"js/3rdparty/zeroclipboard.swf"});e.on("dataRequested",function(c){c.setText(a.getClipboardText(b(this).data("type")))}),d.hasClass("dropdown-toggle")&&(d.removeClass("dropdown-toggle").data("toggle",""),d.parent().remove(".dropdown-menu")),e.on("complete",function(){b.growl("Copied to the clipboard successfully.",{type:"success"})}),e.on("noflash",function(){b("#account_id_dropdown .dropdown-menu, #asset_id_dropdown .dropdown-menu").remove(),b("#account_id_dropdown, #asset_id").data("toggle",""),b.growl("Your browser doesn't support flash, therefore copy to clipboard functionality will not work.",{type:"danger"})}),e.on("wrongflash",function(){b("#account_id_dropdown .dropdown-menu, #asset_id_dropdown .dropdown-menu").remove(),b("#account_id_dropdown, #asset_id").data("toggle",""),b.growl("Your browser flash version is too old. The copy to clipboard functionality needs version 10 or newer.")})}},a.getClipboardText=function(c){switch(c){case"account_id":return a.account;case"account_rs":return a.accountRS;case"message_link":return document.URL.replace(/#.*$/,"")+"#message:"+a.account;case"send_link":return document.URL.replace(/#.*$/,"")+"#send:"+a.account;case"asset_id":return b("#asset_id").text();case"asset_link":return document.URL.replace(/#.*/,"")+"#asset:"+b("#asset_id").text();default:return""}},a.dataLoadFinished=function(a,c){var d=a.parent();c&&d.hide(),d.removeClass("data-loading");var e=d.data("extra");a.find("tbody tr").length>0?(d.removeClass("data-empty"),d.data("no-padding")&&d.parent().addClass("no-padding"),e&&b(e).show()):(d.addClass("data-empty"),d.data("no-padding")&&d.parent().removeClass("no-padding"),e&&b(e).hide()),c&&d.fadeIn()},a.createInfoTable=function(c,d){var e="";for(var f in c){var g=c[f];/FormattedHTML$/i.test(f)?(f=f.replace("FormattedHTML",""),g=String(g)):/Formatted$/i.test(f)?(f=f.replace("Formatted",""),g=String(g).escapeHTML()):g="Quantity"==f&&b.isArray(g)?b.isArray(g)?a.formatQuantity(g[0],g[1]):a.formatQuantity(g,0):"Price"==f||"Total"==f||"Amount"==f||"Fee"==f?a.formatAmount(new BigInteger(g))+" FIM":"Sender"==f||"Recipient"==f||"Account"==f?"<a href='#' data-user='"+String(g).escapeHTML()+"'>"+a.getAccountTitle(g)+"</a>":String(g).escapeHTML().nl2br(),e+="<tr><td style='font-weight:bold;white-space:nowrap"+(d?";width:150px":"")+"'>"+String(f.capitalize()).escapeHTML()+":</td><td style='width:90%;word-break:break-all'>"+g+"</td></tr>"}return e},a.getSelectedText=function(){var a="";return window.getSelection?a=window.getSelection().toString():document.getSelection?a=document.getSelection().toString():document.selection&&(a=document.selection.createRange().text),a},a.formatStyledAmount=function(b,c){var b=a.formatAmount(b,c);return b=b.split("."),b=2==b.length?b[0]+"<span style='font-size:12px'>."+b[1]+"</span>":b[0]},a}(NRS||{},jQuery);(function(a,b,c,d){"use strict";function e(a,b){return"object"!=typeof b&&(b=b()),Object.keys(b).forEach(function(c){a[c]=b[c]}),a}function f(a){return{from:function(b){return a.prototype=Object.create(b.prototype),a.prototype.constructor=a,{extend:function(c){e(a.prototype,"object"!=typeof c?c(b.prototype):c)}}}}}function g(a,b){return b(a)}function h(b){function l(){c&&wb.on("versionchange",function(b){wb.close(),b.newVersion&&a.location.reload(!0)})}function o(a){this._cfg={version:a,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function t(a,b,c,d){if(0==a){Object.keys(lb).forEach(function(a){N(b,a,lb[a].primKey,lb[a].indexes)});var e=wb._createTransaction(vb,nb,lb);e.idbtrans=b,e.idbtrans.onerror=F(c,["populating database"]),e.on("error").subscribe(c),M.newPSD(function(){M.PSD.trans=e;try{wb.on("populate").fire(e)}catch(a){d.onerror=b.onerror=function(a){a.preventDefault()};try{b.abort()}catch(f){}b.db.close(),c(a)}})}else{var f=[],h=mb.filter(function(b){return b._cfg.version===a})[0];if(!h)throw new kb("Dexie specification of currently installed DB version is missing");lb=wb._dbSchema=h._cfg.dbschema;var i=!1,j=mb.filter(function(b){return b._cfg.version>a});j.forEach(function(a){var b=lb,d=a._cfg.dbschema;lb=wb._dbSchema=d;var e=D(b,d);e.add.forEach(function(a){f.push(function(b,c){N(b,a[0],a[1].primKey,a[1].indexes),c()})}),e.change.forEach(function(a){if(a.recreate)throw new kb("Not yet support for changing primary key");f.push(function(b,c){var d=b.objectStore(a.name);a.add.forEach(function(a){Q(d,a)}),a.change.forEach(function(a){d.deleteIndex(a.name),Q(d,a)}),a.del.forEach(function(a){d.deleteIndex(a)}),c()})}),a._cfg.contentUpgrade&&f.push(function(b,e){i=!0;var f=wb._createTransaction(vb,[].slice.call(b.db.objectStoreNames,0),d);f.idbtrans=b;var h=0;f._promise=g(f._promise,function(a){return function(b,c,d){function f(a){return function(){a.apply(this,arguments),0==--h&&e()}}return++h,a.call(this,b,function(a,b){arguments[0]=f(a),arguments[1]=f(b),c.apply(this,arguments)},d)}}),b.onerror=F(c,["running upgrader function for version",a._cfg.version]),f.on("error").subscribe(c),a._cfg.contentUpgrade(f),0===h&&e()}),i&&eb()||f.push(function(a,b){P(d,a),b()})});var k=function(){try{f.length?f.shift()(b,k):O(lb,b)}catch(a){d.onerror=b.onerror=function(a){a.preventDefault()},b.abort(),b.db.close(),c(a)}};k()}}function D(a,b){var c={del:[],add:[],change:[]};for(var d in a)b[d]||c.del.push(d);for(var d in b){var e=a[d],f=b[d];if(e){var g={name:d,def:b[d],recreate:!1,del:[],add:[],change:[]};if(e.primKey.src!=f.primKey.src)g.recreate=!0,c.change.push(g);else{var h=e.indexes.reduce(function(a,b){return a[b.name]=b,a},{}),i=f.indexes.reduce(function(a,b){return a[b.name]=b,a},{});for(var j in h)i[j]||g.del.push(j);for(var j in i){var k=h[j],l=i[j];k?k.src!=l.src&&g.change.push(l):g.add.push(l)}(g.recreate||g.del.length>0||g.add.length>0||g.change.length>0)&&c.change.push(g)}}else c.add.push([d,f])}return c}function N(a,b,c,d){var e=a.db.createObjectStore(b,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return d.forEach(function(a){Q(e,a)}),e}function O(a,b){Object.keys(a).forEach(function(c){b.db.objectStoreNames.contains(c)||N(b,c,a[c].primKey,a[c].indexes)})}function P(a,b){for(var c=0;c<b.db.objectStoreNames.length;++c){var e=b.db.objectStoreNames[c];(null===a[e]||a[e]===d)&&b.db.deleteObjectStore(e)}}function Q(a,b){a.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function R(a,b){return M.reject(G(new kb("Table "+b[0]+" not part of transaction. Original Scope Function Source: "+h.Promise.PSD.trans.scopeFunc.toString())))}function S(a,b,c,d){this.name=a,this.schema=c,this.hook=ob[a]?ob[a].hook:s(null,{creating:[m,i],reading:[k,j],updating:[n,i],deleting:[q,i]}),this._tpf=b,this._collClass=d||W}function T(a,b,c,d){S.call(this,a,b,c,d||X)}function U(a,b,c){function d(a,b,c,d){return e._promise(a,c,d)}var e=this;this.db=wb,this.mode=a,this.storeNames=b,this.idbtrans=null,this.on=s(this,["complete","error"],"abort"),this._reculock=0,this._blockedFuncs=[],this._psd=null,this.active=!0,this._dbschema=c,this._tpf=d,this.tables=Object.create(pb);for(var f=b.length-1;-1!==f;--f){var g=b[f],h=wb._tableFactory(a,c[g],d);this.tables[g]=h,this[g]||(this[g]=h)}}function V(a,b,c){this._ctx={table:a,index:":id"===b?null:b,collClass:a._collClass,or:c}}function W(a,b){var c=a._ctx;this._ctx={table:c.table,index:c.index,isPrimKey:!c.index||c.table.schema.primKey.keyPath&&c.index===c.table.schema.primKey.keyPath,range:b,op:"openCursor",dir:"next",unique:"",algorithm:null,filter:null,isMatch:null,offset:0,limit:1/0,error:null,or:c.or}}function X(){W.apply(this,arguments)}function Y(a,b){return a._cfg.version-b._cfg.version}function Z(a,b,c,d,e,f){c.forEach(function(c){var g=wb._tableFactory(d,e[c],b);a.forEach(function(a){a[c]||(f?Object.defineProperty(a,c,{configurable:!0,enumerable:!0,get:function(){return M.PSD&&M.PSD.trans?M.PSD.trans.tables[c]:g}}):a[c]=g)})})}function $(a){a.forEach(function(a){for(var b in a)a[b]instanceof S&&delete a[b]})}function _(a,b,c,d,e,f){var g=M.PSD;f=f||j,a.onerror||(a.onerror=F(e)),a.onsuccess=b?w(function(){var g=a.result;if(g){var h=function(){g.continue()};b(g,function(a){h=a},d,e)&&c(f(g.value),g,function(a){h=a}),h()}else d()},e,g):w(function(){var b=a.result;if(b){var e=function(){b.continue()};c(f(b.value),b,function(a){e=a}),e()}else d()},e,g)}function ab(a){var b=[];return a.split(",").forEach(function(a){a=a.trim();var c=a.replace("&","").replace("++","").replace("*",""),d=0!==c.indexOf("[")?c:a.substring(1,a.indexOf("]")).split("+");b.push(new J(c,d||null,-1!=a.indexOf("&"),-1!=a.indexOf("*"),-1!=a.indexOf("++"),Array.isArray(d),-1!=d.indexOf(".")))}),b}function bb(a,b){return b>a?-1:a>b?1:0}function cb(a,b){return b>a?1:a>b?-1:0}function db(a,b){return a?b?function(){return a.apply(this,arguments)&&b.apply(this,arguments)}:a:b}function eb(){return navigator.userAgent.indexOf("Trident")>=0||navigator.userAgent.indexOf("MSIE")>=0}function fb(){if(wb.verno=qb.version/10,wb._dbSchema=lb={},nb=[].slice.call(qb.objectStoreNames,0),0!=nb.length){var a=qb.transaction(nb,"readonly");nb.forEach(function(b){for(var c=a.objectStore(b),d=new J(c.keyPath,c.keyPath||"",!1,!1,!!c.autoIncrement,!1,c.keyPath&&-1!=c.keyPath.indexOf(".")),e=[],f=0;f<c.indexNames.length;++f){var g=c.index(c.indexNames[f]),h=new J(g.name,g.keyPath,!!g.unique,!!g.multiEntry,!1,"string"!=typeof g.keyPath,-1!=g.keyPath.indexOf("."));e.push(h)}lb[b]=new K(b,d,e,{})}),Z([ob],wb._transPromiseFactory,Object.keys(lb),vb,lb)}}var gb=h.dependencies,hb=gb.indexedDB,ib=gb.IDBKeyRange,jb=(gb.IDBTransaction,gb.DOMError,gb.TypeError),kb=gb.Error,lb=this._dbSchema={},mb=[],nb=[],ob={},pb={},qb=null,rb=!0,sb=null,tb=!1,ub="readonly",vb="readwrite",wb=this,xb=[],yb=function(){function a(){}var b=new a;try{return b.__proto__=Object.prototype,!(b instanceof a)}catch(c){return!1}}(),zb=!1;this.version=function(a){if(qb)throw new kb("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var b=mb.filter(function(b){return b._cfg.version==a})[0];return b?b:(b=new o(a),mb.push(b),mb.sort(Y),b)},e(o.prototype,{stores:function(a){this._cfg.storesSource=this._cfg.storesSource?e(this._cfg.storesSource,a):a;var b={};mb.forEach(function(a){e(b,a._cfg.storesSource)});var c=this._cfg.dbschema={};return this._parseStoresSpec(b,c),lb=wb._dbSchema=c,$([ob,wb,pb]),Z([pb],R,Object.keys(c),vb,c),Z([ob,wb,this._cfg.tables],wb._transPromiseFactory,Object.keys(c),vb,c,!0),nb=Object.keys(c),this},upgrade:function(a){var b=this;return v(function(){a(wb._createTransaction(vb,Object.keys(b._cfg.dbschema),b._cfg.dbschema))}),this._cfg.contentUpgrade=a,this},_parseStoresSpec:function(a,b){Object.keys(a).forEach(function(c){if(null!==a[c]){var d={},e=ab(a[c]),f=e.shift();if(f.multi)throw new kb("Primary key cannot be multi-valued");f.keyPath&&f.auto&&y(d,f.keyPath,0),e.forEach(function(a){if(a.auto)throw new kb("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new kb("Index must have a name and cannot be an empty string");y(d,a.keyPath,a.compound?a.keyPath.map(function(){return""}):"")}),b[c]=new K(c,f,e,d)}})}}),this._allTables=ob,this._tableFactory=function(a,b,c){return a===ub?new S(b.name,c,b,W):new T(b.name,c,b)},this._createTransaction=function(a,b,c){return new U(a,b,c)},this._transPromiseFactory=function(a,b,c){if(!rb||M.PSD&&M.PSD.letThrough){var d=wb._createTransaction(a,b,lb);return d._promise(a,function(a,b){c(function(b){d.complete(function(){a(b)})},b,d)})}var e=new M(function(d,f){xb.push({resume:function(){var g=wb._transPromiseFactory(a,b,c);e.onuncatched=g.onuncatched,g.then(d,f)}})});return e},this._whenReady=function(a){return new M(!rb||M.PSD&&M.PSD.letThrough?a:function(b,c){v(function(){new M(function(){a(b,c)})}),xb.push({resume:function(){a(b,c)}})})},this.verno=0,this.open=function(){return new M(function(a,c){function d(a){tb=!1,sb=a,rb=!1,c(sb),xb.forEach(function(a){a.resume()}),xb=[]}if(qb||tb)throw new kb("Database already opened or being opened");try{if(sb=null,tb=!0,0==mb.length&&(zb=!0),!hb)throw new kb("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using Safari, make sure to include indexedDB polyfill.");var e=!1,f=zb?hb.open(b):hb.open(b,10*wb.verno);f.onerror=F(d,["opening database",b]),f.onblocked=function(a){wb.on("blocked").fire(a)},f.onupgradeneeded=function(a){if(zb&&!wb._allowEmptyDB){f.onerror=function(a){a.preventDefault()},f.transaction.abort(),f.result.close();var c=hb.deleteDatabase(b);c.onsuccess=c.onerror=function(){d(new kb("Database '"+b+"' doesnt exist"))}}else 0==a.oldVersion&&(e=!0),f.transaction.onerror=F(d),t(a.oldVersion/10,f.transaction,d,f)},f.onsuccess=function(){tb=!1,qb=f.result,zb&&fb(),qb.onversionchange=wb.on("versionchange").fire,I(function(a){return-1===a.indexOf(b)?a.push(b):void 0}),M.newPSD(function(){function b(){rb=!1,xb.forEach(function(a){a.resume()}),xb=[],a()}M.PSD.letThrough=!0;try{var c=wb.on.ready.fire();c&&"function"==typeof c.then?c.then(b,function(a){qb.close(),qb=null,d(a)}):u(b)}catch(e){d(e)}})}}catch(g){d(g)}})},this.close=function(){qb&&(qb.close(),qb=null,rb=!0,sb=null)},this.delete=function(){var a=arguments;return new M(function(c,d){function e(){wb.close();var a=hb.deleteDatabase(b);a.onsuccess=function(){I(function(a){var c=a.indexOf(b);return c>=0?a.splice(c,1):void 0}),c()},a.onerror=F(d,["deleting",b]),a.onblocked=function(){wb.on("blocked").fire()}}if(a.length>0)throw new kb("Arguments not allowed in db.delete()");tb?xb.push({resume:e}):e()})},this.backendDB=function(){return qb},this.isOpen=function(){return null!==qb},this.hasFailed=function(){return null!==sb},this.name=b,Object.defineProperty(this,"tables",{get:function(){return Object.keys(ob).map(function(a){return ob[a]})}}),this.on=s(this,"error","populate","blocked",{ready:[r,i],versionchange:[p,i]}),this.on.ready.subscribe=g(this.on.ready.subscribe,function(a){return function(b,c){function d(){return c||wb.on.ready.unsubscribe(d),b.apply(this,arguments)}a.call(this,d),wb.isOpen()&&(rb?xb.push({resume:d}):d())}}),v(function(){wb.on("populate").fire(wb._createTransaction(vb,nb,lb)),wb.on("error").fire(new kb)}),this.transaction=function(a,b,c){function d(b,d){var f=null;try{if(i)throw i;f=wb._createTransaction(a,j,lb);var h=j.map(function(a){return f.tables[a]});h.push(f);var k,l=0;M.newPSD(function(){M.PSD.trans=f,f.scopeFunc=c,e&&(f.idbtrans=e.idbtrans,f._promise=g(f._promise,function(a){return function(b,c,d){function e(a){return function(b){var c=a(b);return 0==--l&&f.active&&f.on.complete.fire(),c}}return++l,a.call(this,b,function(a,b,d){return c(e(a),e(b),d)},d)}})),f.complete(function(){b(k)}),f.error(function(a){f.idbtrans.onerror=H,f.abort(),e&&(e.active=!1,e.on.error.fire(a));var b=d(a);e||b||wb.on.error.fire(a)}),k=c.apply(f,h)}),(!f.idbtrans||e&&0===l)&&(f.active=!1,f.on.complete.fire())}catch(m){f&&f.idbtrans&&(f.idbtrans.onerror=H),f&&f.abort(),e&&e.on.error.fire(m),u(function(){d(m)||wb.on("error").fire(m)})}}b=[].slice.call(arguments,1,arguments.length-1),c=arguments[arguments.length-1];var e=M.PSD&&M.PSD.trans;-1!==a.indexOf("!")&&(e=null);var f=-1!==a.indexOf("?");a=a.replace("!","").replace("?","");var h=Array.isArray(b[0])?b.reduce(function(a,b){return a.concat(b)}):b,i=null,j=h.map(function(a){return"string"==typeof a?a:(a instanceof S||(i=i||new jb("Invalid type. Arguments following mode must be instances of Table or String")),a.name)});return"r"==a||a==ub?a=ub:"rw"==a||a==vb?a=vb:i=new kb("Invalid transaction mode: "+a),e&&(i||(e.db!=wb&&(f?e=null:i=new kb("Current transaction bound to different database instance")),e&&e.mode===ub&&a===vb&&(f?e=null:i=i||new kb("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY")),e&&j.forEach(function(a){e.tables.hasOwnProperty(a)||(f?e=null:i=i||new kb("Table "+a+" not included in parent transaction. Parent Transaction function: "+e.scopeFunc.toString()))}))),e?e._promise(a,d,"lock"):wb._whenReady(d)},this.table=function(a){if(!zb&&!ob.hasOwnProperty(a))throw new kb("Table does not exist");return ob[a]},e(S.prototype,function(){function a(){throw new kb("Current Transaction is READONLY")}return{_trans:function(a,b,c){return this._tpf(a,[this.name],b,c)},_idbstore:function(a,b,c){var d=this;return this._tpf(a,[this.name],function(a,c,e){b(a,c,e.idbtrans.objectStore(d.name),e)},c)},get:function(a,b){var c=this;return v(function(){b(c.schema.instanceTemplate)}),this._idbstore(ub,function(b,d,e){var f=e.get(a);f.onerror=F(d,["getting",a,"from",c.name]),f.onsuccess=function(){b(c.hook.reading.fire(f.result))}}).then(b)},where:function(a){return new V(this,a)},count:function(a){return this.toCollection().count(a)},offset:function(a){return this.toCollection().offset(a)},limit:function(a){return this.toCollection().limit(a)},reverse:function(){return this.toCollection().reverse()},filter:function(a){return this.toCollection().and(a)},each:function(a){var b=this;return v(function(){a(b.schema.instanceTemplate)}),this._idbstore(ub,function(c,d,e){var f=e.openCursor();f.onerror=F(d,["calling","Table.each()","on",b.name]),_(f,null,a,c,d,b.hook.reading.fire)})},toArray:function(a){var b=this;return v(function(){a([b.schema.instanceTemplate])}),this._idbstore(ub,function(a,c,d){var e=[],f=d.openCursor();f.onerror=F(c,["calling","Table.toArray()","on",b.name]),_(f,null,function(a){e.push(a)},function(){a(e)},c,b.hook.reading.fire)}).then(a)},orderBy:function(a){return new this._collClass(new V(this,a))},toCollection:function(){return new this._collClass(new V(this))},mapToClass:function(a,b){this.schema.mappedClass=a;var c=Object.create(a.prototype);this.schema.primKey.keyPath&&(y(c,this.schema.primKey.keyPath,this.schema.primKey.auto?0:""),z(a.prototype,this.schema.primKey.keyPath)),b&&E(c,b),this.schema.instanceTemplate=c;var d=yb?function(b){return b?(b.__proto__=a.prototype,b):b}:function(b){if(!b)return b;var c=Object.create(a.prototype);for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=d,this.hook("reading",d),a},defineClass:function(a){return this.mapToClass(h.defineClass(a),a)},add:a,put:a,"delete":a,clear:a,update:a}}),f(T).from(S).extend(function(){return{add:function(a,b){var c=this,e=this.hook.creating.fire;return this._idbstore(vb,function(f,g,h,j){var k={};if(e!==i){var l=b||(h.keyPath?x(a,h.keyPath):d),m=e.call(k,l,a,j);l===d&&m!==d&&(h.keyPath?y(a,h.keyPath,m):b=m)}var n=b?h.add(a,b):h.add(a);n.onerror=F(function(a){return k.onerror&&k.onerror(a),g(a)},["adding",a,"into",c.name]),n.onsuccess=function(b){var c=h.keyPath;c&&y(a,c,b.target.result),k.onsuccess&&k.onsuccess(b.target.result),f(n.result)}})},put:function(a,b){var c=this,e=this.hook.creating.fire,f=this.hook.updating.fire;return e!==i||f!==i?this._trans(vb,function(e,f,g){var h=b||c.schema.primKey.keyPath&&x(a,c.schema.primKey.keyPath);h===d?g.tables[c.name].add(a).then(e,f):(g._lock(),a=B(a),g.tables[c.name].where(":id").equals(h).modify(function(){this.value=a}).then(function(d){return 0===d?g.tables[c.name].add(a,b):h}).finally(function(){g._unlock()}).then(e,f))}):this._idbstore(vb,function(d,e,f){var g=b?f.put(a,b):f.put(a);g.onerror=F(e,["putting",a,"into",c.name]),g.onsuccess=function(b){var c=f.keyPath;c&&y(a,c,b.target.result),d(g.result)}})},"delete":function(a){return this.hook.deleting.subscribers.length?this.where(":id").equals(a).delete():this._idbstore(vb,function(b,c,d){var e=d.delete(a);e.onerror=F(c,["deleting",a,"from",d.name]),e.onsuccess=function(){b(e.result)}})},clear:function(){return this.hook.deleting.subscribers.length?void this.toCollection().delete():this._idbstore(vb,function(a,b,c){var d=c.clear();d.onerror=F(b,["clearing",c.name]),d.onsuccess=function(){a(d.result)}})},update:function(a,b){if("object"!=typeof b||Array.isArray(b))throw new kb("db.update(keyOrObject, modifications). modifications must be an object.");if("object"!=typeof a||Array.isArray(a))return this.where(":id").equals(a).modify(b);Object.keys(b).forEach(function(c){y(a,c,b[c])});var c=x(a,this.schema.primKey.keyPath);return c===d&&M.reject(new kb("Object does not contain its primary key")),this.where(":id").equals(c).modify(b)}}}),e(U.prototype,{_lock:function(){return++this._reculock,1===this._reculock&&M.PSD&&(M.PSD.lockOwnerFor=this),this},_unlock:function(){if(0===--this._reculock)for(M.PSD&&(M.PSD.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var a=this._blockedFuncs.shift();try{a()}catch(b){}}return this},_locked:function(){return this._reculock&&(!M.PSD||M.PSD.lockOwnerFor!==this)},_promise:function(a,b,c){var d=this;return M.newPSD(function(){var e;return d._locked()?e=new M(function(e,f){d._blockedFuncs.push(function(){d._promise(a,b,c).then(e,f)})}):(e=d.active?new M(function(e,f){if(!d.idbtrans&&a){if(!qb)throw new kb(sb?"Database not open. Following error in populate, ready or upgrade function made Dexie.open() fail: "+sb:"Database not open");var g=d.idbtrans=qb.transaction(d.storeNames,d.mode);g.onerror=function(a){d.on("error").fire(a&&a.target.error),a.preventDefault(),d.abort()},g.onabort=function(a){d.active=!1,d.on("abort").fire(a)},g.oncomplete=function(a){d.active=!1,d.on("complete").fire(a)}}c&&d._lock();try{b(e,f,d)}catch(i){h.spawn(function(){d.on("error").fire(i)}),d.abort(),f(i)}}):M.reject(G(new kb("Transaction is inactive. Original Scope Function Source: "+d.scopeFunc.toString()))),d.active&&c&&e.finally(function(){d._unlock()})),e.onuncatched=function(a){h.spawn(function(){d.on("error").fire(a)}),d.abort()},e})},complete:function(a){return this.on("complete",a)},error:function(a){return this.on("error",a)},abort:function(){if(this.idbtrans&&this.active)try{this.active=!1,this.idbtrans.abort(),this.on.error.fire(new kb("Transaction Aborted"))}catch(a){}},table:function(a){if(!this.tables.hasOwnProperty(a))throw new kb("Table "+a+" not in transaction");return this.tables[a]}}),e(V.prototype,function(){function a(a,b){try{throw b}catch(c){a._ctx.error=c}return a}function b(a){return Array.prototype.slice.call(Array.isArray(a[0])?a[0]:a,0).sort(bb)}function c(a){return"next"===a?function(a){return a.toUpperCase()}:function(a){return a.toLowerCase()}}function d(a){return"next"===a?function(a){return a.toLowerCase()}:function(a){return a.toUpperCase()}}function e(a,b,c,d,e,f){for(var g=Math.min(a.length,d.length),h=-1,i=0;g>i;++i){var j=b[i];if(j!==d[i])return e(a[i],c[i])<0?a.substr(0,i)+c[i]+c.substr(i+1):e(a[i],d[i])<0?a.substr(0,i)+d[i]+c.substr(i+1):h>=0?a.substr(0,h)+b[h]+c.substr(h+1):null;e(a[i],j)<0&&(h=i)}return g<d.length&&"next"===f?a+c.substr(a.length):g<a.length&&"prev"===f?a.substr(0,c.length):0>h?null:a.substr(0,h)+d[h]+c.substr(h+1)}function f(a,b,f){function g(a){h=c(a),i=d(a),j="next"===a?bb:cb,k=h(f),l=i(f),m=a}var h,i,j,k,l,m;g("next"),a._ondirectionchange=function(a){g(a)},a._addAlgorithm(function(a,c,d){var f=a.key;if("string"!=typeof f)return!1;var g=i(f);if(b(g,l))return c(function(){a.continue()}),!0;var h=e(f,g,k,l,j,m);return c(h?function(){a.continue(h)}:d),!1})}return{between:function(a,b,c,d){return c=c!==!1,d=d===!0,a>b||a==b&&(c||d)&&(!c||!d)?new this._ctx.collClass(this,ib.only(a)).limit(0):new this._ctx.collClass(this,ib.bound(a,b,!c,!d))},equals:function(a){return new this._ctx.collClass(this,ib.only(a))},above:function(a){return new this._ctx.collClass(this,ib.lowerBound(a,!0))},aboveOrEqual:function(a){return new this._ctx.collClass(this,ib.lowerBound(a))},below:function(a){return new this._ctx.collClass(this,ib.upperBound(a,!0))},belowOrEqual:function(a){return new this._ctx.collClass(this,ib.upperBound(a))},startsWith:function(b){return"string"!=typeof b?a(new this._ctx.collClass(this),new jb("String expected")):this.between(b,b+String.fromCharCode(65535),!0,!0)},startsWithIgnoreCase:function(b){if("string"!=typeof b)return a(new this._ctx.collClass(this),new jb("String expected"));if(""===b)return this.startsWith(b);var c=new this._ctx.collClass(this,ib.bound(b.toUpperCase(),b.toLowerCase()+String.fromCharCode(65535)));return f(c,function(a,b){return 0===a.indexOf(b)},b),c._ondirectionchange=function(){a(c,new kb("reverse() not supported with WhereClause.startsWithIgnoreCase()"))},c},equalsIgnoreCase:function(b){if("string"!=typeof b)return a(new this._ctx.collClass(this),new jb("String expected"));var c=new this._ctx.collClass(this,ib.bound(b.toUpperCase(),b.toLowerCase()));return f(c,function(a,b){return a===b},b),c},anyOf:function(){var a=b(arguments);if(0===a.length)return new this._ctx.collClass(this,ib.only("")).limit(0);var c=new this._ctx.collClass(this,ib.bound(a[0],a[a.length-1])),d=bb;c._ondirectionchange=function(b){d="next"===b?bb:cb,a.sort(d)};var e=0;return c._addAlgorithm(function(b,c,f){for(var g=b.key;d(g,a[e])>0;)if(++e,e===a.length)return c(f),!1;return g===a[e]?(c(function(){b.continue()}),!0):(c(function(){b.continue(a[e])}),!1)}),c}}}),e(W.prototype,function(){function a(a,b){a.filter=db(a.filter,b)}function b(a,b){a.isMatch=db(a.isMatch,b)}function c(a,b){return a.isPrimKey?b:b.index(a.index)}function d(a,b){return c(a,b)[a.op](a.range||null,a.dir+a.unique)}function e(a,b,c,e,f){a.or?!function(){function g(){2===++k&&c()}function h(a,c,d){if(!i||i(c,d,g,e)){var f=c.primaryKey.toString();j.hasOwnProperty(f)||(j[f]=!0,b(a,c,d))}}var i=a.filter,j={},k=(a.table.schema.primKey.keyPath,0);a.or._iterate(h,g,e,f),_(d(a,f),a.algorithm,h,g,e,a.table.hook.reading.fire)}():_(d(a,f),db(a.algorithm,a.filter),b,c,e,a.table.hook.reading.fire)}function f(a){return a.table.schema.instanceTemplate}return{_read:function(a,b){var c=this._ctx;return c.error?c.table._trans(null,function(a,b){b(c.error)}):c.table._idbstore(ub,a).then(b)},_write:function(a){var b=this._ctx;return b.error?b.table._trans(null,function(a,c){c(b.error)}):b.table._idbstore(vb,a,"locked")},_addAlgorithm:function(a){var b=this._ctx;b.algorithm=db(b.algorithm,a)},_iterate:function(a,b,c,d){return e(this._ctx,a,b,c,d)},each:function(a){var b=this._ctx;return v(function(){a(f(b))}),this._read(function(c,d,f){e(b,a,c,d,f)})},count:function(a){v(function(){a(0)});var b=this,d=this._ctx;if(d.filter||d.algorithm||d.or){var f=0;return this._read(function(a,b,c){e(d,function(){return++f,!1},function(){a(f)},b,c)},a)}return this._read(function(a,e,f){var g=c(d,f),h=d.range?g.count(d.range):g.count();h.onerror=F(e,["calling","count()","on",b.name]),h.onsuccess=function(b){a(Math.min(b.target.result,Math.max(0,d.limit-d.offset)))}},a)},sortBy:function(a,b){function c(a,b){return b?c(a[g[b]],b-1):a[h]}function d(a,b){var d=c(a,i),e=c(b,i);return e>d?-j:d>e?j:0}var e=this._ctx;v(function(){b([f(e)])});var g=a.split(".").reverse(),h=g[0],i=g.length-1,j="next"===this._ctx.dir?1:-1;return this.toArray(function(a){return a.sort(d)}).then(b)},toArray:function(a){var b=this._ctx;return v(function(){a([f(b)])}),this._read(function(a,c,d){var f=[];e(b,function(a){f.push(a)},function(){a(f)},c,d)},a)},offset:function(b){var c=this._ctx;return 0>=b?this:(c.offset+=b,c.or||c.algorithm||c.filter?a(c,function(){return--b<0}):a(c,function(a,c){return 0===b?!0:1===b?(--b,!1):(c(function(){a.advance(b),b=0}),!1)}),this)},limit:function(b){return this._ctx.limit=Math.min(this._ctx.limit,b),a(this._ctx,function(a,c,d){return--b<=0&&c(d),b>=0}),this},until:function(b,c){var d=this._ctx;return v(function(){b(f(d))}),a(this._ctx,function(a,d,e){return b(a.value)?(d(e),c):!0}),this},first:function(a){var b=this;return v(function(){a(f(b._ctx))}),this.limit(1).toArray(function(a){return a[0]}).then(a)},last:function(a){return this.reverse().first(a)},and:function(c){var d=this;return v(function(){c(f(d._ctx))}),a(this._ctx,function(a){return c(a.value)}),b(this._ctx,c),this},or:function(a){return new V(this._ctx.table,a,this)},reverse:function(){return this._ctx.dir="prev"==this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(a){var b=this,c=this._ctx;return v(function(){a(f(b._ctx)[b._ctx.index])}),c.isPrimKey||(c.op="openKeyCursor"),this.each(function(b,c){a(c.key,c)})},eachUniqueKey:function(a){return this._ctx.unique="unique",this.eachKey(a)},keys:function(a){v(function(){a([f(c)[b._ctx.index]])});var b=this,c=this._ctx;c.isPrimKey||(c.op="openKeyCursor");var d=[];return this.each(function(a,b){d.push(b.key)}).then(function(){return d}).then(a)},uniqueKeys:function(a){return this._ctx.unique="unique",this.keys(a)},firstKey:function(a){return this.limit(1).keys(function(a){return a[0]}).then(a)},lastKey:function(a){return this.reverse().firstKey(a)},distinct:function(){var b={};return a(this._ctx,function(a){var c=a.primaryKey.toString(),d=b.hasOwnProperty(c);return b[c]=!0,!d}),this}}}),f(X).from(W).extend({modify:function(a){var b=this,c=this._ctx,d=c.table.hook,f=d.updating.fire,g=d.deleting.fire;return v(function(){"function"==typeof a&&a.call({value:c.table.schema.instanceTemplate},c.table.schema.instanceTemplate)}),this._write(function(d,h,j,k){function l(a,b){z=b.primaryKey;var d={primKey:b.primaryKey,value:a};if(o.call(d,a)!==!1){var e=!d.hasOwnProperty("value"),f=e?b.delete():b.update(d.value);++s,f.onerror=F(function(a){return v.push(a),w.push(d.primKey),d.onerror&&d.onerror(a),!0},e?["deleting",a,"from",c.table.name]:["modifying",a,"on",c.table.name]),f.onsuccess=function(){d.onsuccess&&d.onsuccess(d.value),++t,n()}}}function m(a){return a&&(v.push(a),w.push(z)),h(new L("Error modifying one or more objects",v,t,w))}function n(){u&&t+v.length===s&&(v.length>0?m():d(t))}var o;if("function"==typeof a)o=f===i&&g===i?a:function(b){var c=B(b);if(a.call(this,b)===!1)return!1;if(this.hasOwnProperty("value")){var d=C(c,this.value),e=f.call(this,d,this.primKey,c,k);e&&(b=this.value,Object.keys(e).forEach(function(a){y(b,a,e[a])}))}else g.call(this,this.primKey,b,k)};else if(f===i){var p=Object.keys(a),q=p.length;o=function(b){for(var c=!1,d=0;q>d;++d){var e=p[d],f=a[e];x(b,e)!==f&&(y(b,e,f),c=!0)}return c}}else{var r=a;a=A(r),o=function(b){var c=!1,d=f.call(this,a,this.primKey,B(b),k);return d&&e(a,d),Object.keys(a).forEach(function(d){var e=a[d];x(b,d)!==e&&(y(b,d,a[d]),c=!0)}),d&&(a=A(r)),c}}var s=0,t=0,u=!1,v=[],w=[],z=null;b._iterate(l,function(){u=!0,n()},m,j)})},"delete":function(){return this.modify(function(){delete this.value})}}),e(this,{Collection:W,Table:S,Transaction:U,Version:o,WhereClause:V,WriteableCollection:X,WriteableTable:T}),l(),h.addons.forEach(function(a){a(wb)})}function i(){}function j(a){return a}function k(a,b){return a===j?b:function(c){return b(a(c))}}function l(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function m(a,b){return a===i?b:function(){var c=a.apply(this,arguments);c!==d&&(arguments[0]=c);var e=this.onsuccess,f=this.onerror;delete this.onsuccess,delete this.onerror;var g=b.apply(this,arguments);return e&&(this.onsuccess=this.onsuccess?l(e,this.onsuccess):e),f&&(this.onerror=this.onerror?l(f,this.onerror):f),g!==d?g:c}}function n(a,b){return a===i?b:function(){var c=a.apply(this,arguments);c!==d&&e(arguments[0],c);var f=this.onsuccess,g=this.onerror;delete this.onsuccess,delete this.onerror;var h=b.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?l(f,this.onsuccess):f),g&&(this.onerror=this.onerror?l(g,this.onerror):g),c===d?h===d?d:h:c.extend(h)}}function o(a,b){return a===i?b:function(){return a.apply(this,arguments)===!1?!1:b.apply(this,arguments)}}function p(a,b){return a===i?b:function(){return b.apply(this,arguments)===!1?!1:a.apply(this,arguments)
}}function q(a,b){return a===i?b:function(){a.apply(this,arguments),b.apply(this,arguments)}}function r(a,b){return a===i?b:function(){var c=a.apply(this,arguments);if(c&&"function"==typeof c.then){var d=this,e=arguments;return c.then(function(){return b.apply(d,e)})}return b.apply(this,arguments)}}function s(b){function c(a,b,c){if(Array.isArray(a))return e(a);if("object"==typeof a)return d(a);b||(b=o),c||(c=i);var f={subscribers:[],fire:c,subscribe:function(a){f.subscribers.push(a),f.fire=b(f.fire,a)},unsubscribe:function(a){f.subscribers=f.subscribers.filter(function(b){return b!==a}),f.fire=f.subscribers.reduce(b,c)}};return g[a]=h[a]=f,f}function d(b){Object.keys(b).forEach(function(d){var e=b[d];if(Array.isArray(e))c(d,b[d][0],b[d][1]);else{if("asap"!==e)throw new Error("Invalid event config");var f=c(d,null,function(){var b=arguments;f.subscribers.forEach(function(c){u(function(){c.apply(a,b)})})});f.subscribe=function(a){-1===f.subscribers.indexOf(a)&&f.subscribers.push(a)},f.unsubscribe=function(a){var b=f.subscribers.indexOf(a);-1!==b&&f.subscribers.splice(b,1)}}})}function e(a){function b(){return d?!1:void(d=!0)}var d=!1;a.forEach(function(a){c(a).subscribe(b)})}var f=arguments,g={},h=function(a,c){if(c){var d=[].slice.call(arguments,1),e=g[a];return e.subscribe.apply(e,d),b}return"string"==typeof a?g[a]:void 0};h.addEventType=c;for(var j=1,k=f.length;k>j;++j)c(f[j]);return h}function t(a){if(!a)throw new Error("Assertion failed")}function u(b){a.setImmediate?setImmediate(b):setTimeout(b,0)}function v(a){var b=setTimeout(a,1e3);clearTimeout(b)}function w(a,b,c){return function(){var d=M.PSD;M.PSD=c;try{a.apply(this,arguments)}catch(e){b(e)}finally{M.PSD=d}}}function x(a,b){if(a.hasOwnProperty(b))return a[b];if(!b)return a;if("string"!=typeof b){for(var c=[],e=0,f=b.length;f>e;++e){var g=x(a,b[e]);if(g===d)return;c.push(g)}return g}var h=b.indexOf(".");if(-1!==h){var i=a[b.substr(0,h)];return i===d?d:x(i,b.substr(h+1))}return d}function y(a,b,c){if(a&&b!==d)if(Array.isArray(b)){t(Array.isArray(c));for(var e=0,f=b.length;f>e;++e)y(a,b[e],c[e])}else{var g=b.indexOf(".");if(-1!==g){var h=b.substr(0,g),i=b.substr(g+1);if(""===i)c===d?delete a[h]:a[h]=c;else{var j=a[h];j||(j=a[h]={}),y(j,i,c)}}else c===d?delete a[b]:a[b]=c}}function z(a,b){y(a,b,d)}function A(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function B(a){if(!a||"object"!=typeof a)return a;var b;if(Array.isArray(a)){b=[];for(var c=0,d=a.length;d>c;++c)b.push(B(a[c]))}else if(a instanceof Date)b=new Date,b.setTime(a.getTime());else{b=a.constructor?Object.create(a.constructor.prototype):{};for(var e in a)a.hasOwnProperty(e)&&(b[e]=B(a[e]))}return b}function C(a,b){var c={};for(var e in a)a.hasOwnProperty(e)&&(b.hasOwnProperty(e)?a[e]!==b[e]&&JSON.stringify(a[e])!=JSON.stringify(b[e])&&(c[e]=b[e]):c[e]=d);for(var e in b)b.hasOwnProperty(e)&&!a.hasOwnProperty(e)&&(c[e]=b[e]);return c}function D(a){if("function"==typeof a)return new a;if(Array.isArray(a))return[D(a[0])];if(a&&"object"==typeof a){var b={};return E(b,a),b}return a}function E(a,b){Object.keys(b).forEach(function(c){var d=D(b[c]);a[c]=d})}function F(a,b){return function(c){var d=c&&c.target.error||new Error;if(b){var e=" occured when "+b.map(function(a){switch(typeof a){case"function":return a();case"string":return a;default:return JSON.stringify(a)}}).join(" ");d.name?d.toString=function(){return d.name+e+(d.message?". "+d.message:"")}:d+=e}return a(d),c.stopPropagation(),c.preventDefault(),!1}}function G(a){try{throw a}catch(b){return b}}function H(a){a.preventDefault()}function I(a){var b;try{b=JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]")}catch(c){b=[]}a(b)&&localStorage.setItem("Dexie.DatabaseNames",JSON.stringify(b))}function J(a,b,c,d,e,f,g){this.name=a,this.keyPath=b,this.unique=c,this.multi=d,this.auto=e,this.compound=f,this.dotted=g,this.src=(c?"&":"")+(d?"*":"")+(e?"++":"")+b}function K(a,b,c,d){this.name=a,this.primKey=b||new J,this.indexes=c||[new J],this.instanceTemplate=d,this.mappedClass=null}function L(a,b,c,d){this.name="ModifyError",this.failures=b,this.failedKeys=d,this.successCount=c,this.message=b.join("\n")}var M=function(){function a(b){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof b)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],this._catched=!1;var c=this,f=!0;this._PSD=a.PSD;try{h(this,b,function(a){f?i(d,c,a):d(c,a)},function(a){return f?(i(e,c,a),!1):e(c,a)})}finally{f=!1}}function b(a){var b=this;if(null===this._state)return void this._deferreds.push(a);var d=b._state?a.onFulfilled:a.onRejected;if(null===d)return(b._state?a.resolve:a.reject)(b._value);var e;try{e=d(b._value),b._state||e&&"function"==typeof e.then&&e._state===!1||c(b)}catch(f){var g=a.reject(f);if(!g&&b.onuncatched)try{b.onuncatched(f)}catch(f){}return}a.resolve(e)}function c(a){a._catched=!0,a._parent&&c(a._parent)}function d(b,c){var g=a.PSD;a.PSD=b._PSD;try{if(c===b)throw new TypeError("A promise cannot be resolved with itself.");if(c&&("object"==typeof c||"function"==typeof c)&&"function"==typeof c.then)return void h(b,function(a,b){c.then(a,b)},function(a){d(b,a)},function(a){e(b,a)});b._state=!0,b._value=c,f.call(b)}catch(i){e(i)}finally{a.PSD=g}}function e(b,c){var d=a.PSD;if(a.PSD=b._PSD,b._state=!1,b._value=c,f.call(b),!b._catched&&b.onuncatched)try{b.onuncatched(b._value)}catch(e){}return a.PSD=d,b._catched}function f(){for(var a=0,c=this._deferreds.length;c>a;a++)b.call(this,this._deferreds[a]);this._deferreds=[]}function g(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function h(a,b,c,d){var e=!1;try{b(function(a){e||(e=!0,c(a))},function(b){return e?a._catched:(e=!0,d(b))})}catch(f){if(e)return;return d(f)}}var i="undefined"==typeof setImmediate?function(a){var b=arguments;setTimeout(function(){a.apply(this,[].slice.call(b,1))},0)}:function(){setImmediate.apply(this,arguments)};return a.all=function(){var b=Array.prototype.slice.call(1===arguments.length&&Array.isArray(arguments[0])?arguments[0]:arguments);return new a(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0===--e&&a(b)}catch(i){c(i)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},a.prototype.then=function(c,d){var e=this,f=new a(function(a,f){b.call(e,new g(c,d,a,f))});return f._PSD=this._PSD,f.onuncatched=this.onuncatched,f._parent=this,f},a.prototype["catch"]=function(b){if(1===arguments.length)return this.then(null,b);var c=arguments[0],d=arguments[1];return"function"==typeof c?this.then(null,function(b){return b instanceof c?d(b):a.reject(b)}):this.then(null,function(b){return b&&b.name===c?d(b):a.reject(b)})},a.prototype["finally"]=function(b){return this.then(function(a){return b(),a},function(c){return b(),a.reject(c)})},a.prototype.onuncatched=null,a.resolve=function(b){var c=new a(function(){});return c._state=!0,c._value=b,c},a.reject=function(b){var c=new a(function(){});return c._state=!1,c._value=b,c},a.race=function(b){return new a(function(a,c){b.map(function(b){b.then(a,c)})})},a.PSD=null,a.newPSD=function(b){var c=a.PSD;a.PSD=c?Object.create(c):{};try{return b()}finally{a.PSD=c}},a}();f(L).from(Error),h.delete=function(a){var b=new h(a),c=b.delete();return c.onblocked=function(a){return b.on("blocked",a),this},c},h.getDatabaseNames=function(a){return new M(function(a,b){if("webkitGetDatabaseNames"in indexedDB||"getDatabaseNames"in indexedDB){var c="getDatabaseNames"in indexedDB?indexedDB.getDatabaseNames():indexedDB.webkitGetDatabaseNames();c.onsuccess=function(b){a([].slice.call(b.target.result,0))},c.onerror=F(b)}else I(a)}).then(a)},h.defineClass=function(a){function b(a){a&&e(this,a)}return E(b.prototype,a),b},h.spawn=function(a){return M.newPSD(function(){return M.PSD.trans=null,a()})},h.vip=function(a){return M.newPSD(function(){return M.PSD.letThrough=!0,a()})},Object.defineProperty(h,"currentTransaction",{get:function(){return M.PSD&&M.PSD.trans||null}}),h.Promise=M,h.derive=f,h.extend=e,h.override=g,h.events=s,h.getByKeyPath=x,h.setByKeyPath=y,h.delByKeyPath=z,h.shallowClone=A,h.deepClone=B,h.addons=[],h.fakeAutoComplete=v,h.asap=u,h.ModifyError=L,h.MultiModifyError=L,h.IndexSpec=J,h.TableSchema=K,h.dependencies={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange,IDBTransaction:a.IDBTransaction||a.webkitIDBTransaction,Error:a.Error||String,SyntaxError:a.SyntaxError||String,TypeError:a.TypeError||String,DOMError:a.DOMError||String},h.version=.99,b("Dexie",h)}).apply(this,"undefined"==typeof module||"undefined"!=typeof window&&this==window?[window,function(a,b){window[a]=b},!0]:[global,function(a,b){module.exports=b},!1]),function(a,b,c,d){"use strict";function e(){}function f(a,b){return a===e?b:function(){var c=a.apply(this,arguments);if(c&&"function"==typeof c.then){var d=this,e=arguments;return c.then(function(){return b.apply(d,e)})}return b.apply(this,arguments)}}var g=Dexie.defineClass({rev:Number,source:String,table:String,key:Object,type:Number,obj:Object,mods:Object,oldObj:Object}),h=Dexie.override,i=Dexie.Promise,j=!1;Dexie.Observable=function(b){function c(a){Dexie.Observable.latestRevision[b.name]<a&&(Dexie.Observable.latestRevision[b.name]=a,Dexie.spawn(function(){Dexie.Observable.on("latestRevisionIncremented").fire(b.name,a)}),A.setItem("Dexie.Observable/latestRevision/"+b.name,a))}function k(a){var b=a.name;a.hook("creating").subscribe(function(c,e,f){var g=d;return c===d&&a.schema.primKey.uuid&&(c=g=Dexie.createUUID()),this.onsuccess=function(a){f.tables._changes.add({source:f.source||null,table:b,key:a,type:x,obj:e}).then(function(a){f._lastWrittenRevision=a})},g}),a.hook("updating").subscribe(function(a,c,d,e){this.onsuccess=function(f){var g=Dexie.deepClone(a);for(var h in g)"undefined"==typeof g[h]&&(g[h]=null);e.tables._changes.add({source:e.source||null,table:b,key:c,type:y,mods:g,oldObj:d,obj:f}).then(function(a){e._lastWrittenRevision=a})}}),a.hook("deleting").subscribe(function(a,c,d){this.onsuccess=function(){d.tables._changes.add({source:d.source||null,table:b,key:a,type:z,oldObj:c}).then(function(a){d._lastWrittenRevision=a})}})}function l(a,c){if(a===b.name){if(E>=c)return;E=c,Dexie.vip(function(){m(c)})}}function m(c,d,e){if(!d&&m.ongoingOperation)return m.ongoingOperation;var f=!1,g=C;if(!g)return i.reject("Database closed");var h=b._changes.where("rev").above(g.myRevision).limit(1e3).toArray(function(a){if(a.length>0){var c=a[a.length-1];f=1e3==a.length,a.forEach(function(a){var c=b.table(a.table);a.obj&&(a.obj=c.hook.reading.fire(a.obj)),a.oldObj&&(a.oldObj=c.hook.reading.fire(a.oldObj))}),b.on("changes").fire(a,f),g.myRevision=c.rev}else e&&b.on("changes").fire([],!1);return b.table("_syncNodes").update(g,{lastHeartBeat:Date.now(),deleteTimeStamp:null})}).then(function(c){if(!c)throw j?new Error("Browser is shutting down"):(b.close(),alert("Out of sync"),a.location.reload(!0),new Error("Out of sync"));return f||Dexie.Observable.latestRevision[b.name]>g.myRevision?m(Dexie.Observable.latestRevision[b.name],(d||0)+1,f):void 0}).finally(function(){delete m.ongoingOperation});return d||(m.ongoingOperation=h),h}function n(){D=null;var a=C.id;Dexie.vip(function(){m(Dexie.Observable.latestRevision[b.name]).then(o).then(r).finally(function(){C&&C.id===a&&(D=setTimeout(n,w))})})}function o(){var a=C;return a?b.transaction("rw","_syncNodes","_changes","_intercomm",function(){var c=!1;b._syncNodes.where("lastHeartBeat").below(Date.now()-u).and(function(a){return"local"===a.type}).modify(function(d){d.deleteTimeStamp&&d.deleteTimeStamp<Date.now()?(delete this.value,A.removeItem("Dexie.Observable/deadnode:"+d.id+"/"+b.name),d.isMaster&&(b._syncNodes.update(a,{isMaster:1}),c=!0),b._intercomm.where("destinationNode").equals(d.id).modify(function(a){delete this.value,a.wantReply&&Dexie.spawn(function(){s(a)})})):d.deleteTimeStamp||(d.deleteTimeStamp=Date.now()+v)}).then(function(){return b._syncNodes.orderBy("myRevision").first(function(a){return b._changes.where("rev").below(a.myRevision).delete()})}).then(function(){return b.on("cleanup").fire(c)})}):i.reject("Database closed")}function p(){C&&(j=!0,C.deleteTimeStamp=1,C.lastHeartBeat=0,b._syncNodes.put(C),Dexie.Observable.wereTheOneDying=!0,A.setItem("Dexie.Observable/deadnode:"+C.id.toString()+"/"+b.name,"dead"))}function q(a,c){a!==b.name||Dexie.Observable.wereTheOneDying||Dexie.vip(function(){b._syncNodes.update(c,{deleteTimeStamp:1,lastHeartBeat:0}).then(o)})}function r(){return C?b.table("_intercomm").where("destinationNode").equals(C.id).modify(function(a){delete this.value,Dexie.spawn(function(){s(a)})}):i.reject("Database closed")}function s(a){if("response"===a.type){var c=F[a.requestId.toString()];c&&(a.isFailure?c.reject(a.message.error):c.resolve(a.message.result),delete F[a.requestId.toString()])}else{a.resolve=function(c){b.sendMessage("response",{result:c},a.sender,{requestId:a.id})},a.reject=function(c){b.sendMessage("response",{error:c.toString()},a.sender,{isFailure:!0,requestId:a.id})};var d=a.message;delete a.message,Dexie.extend(a,d),b.on.message.fire(a)}}function t(a){a===b.name&&r()}var u=2e4,v=2e4,w=2e3,x=1,y=2,z=3,A=Dexie.Observable.localStorageImpl,B=Dexie.defineClass({myRevision:Number,type:String,lastHeartBeat:Number,deleteTimeStamp:Number,url:String,isMaster:Number,syncProtocol:String,syncContext:null,syncOptions:Object,connected:!1,status:Number,appliedRemoteRevision:null,remoteBaseRevisions:[{local:Number,remote:null}],dbUploadState:{tablesToUpload:[String],currentTable:String,currentKey:null,localBaseRevision:Number}}),C=null;Object.defineProperty(b,"_localSyncNode",{get:function(){return C}});var D=null;Dexie.fakeAutoComplete(function(){b.version(1).stores({_syncNodes:"++id,myRevision,lastHeartBeat",_changes:"++rev",_intercomm:"++id,destinationNode",_uncommittedChanges:"++id,node"}),b._syncNodes.mapToClass(B),b._changes.mapToClass(g),C=new B({myRevision:0,type:"local",lastHeartBeat:Date.now(),deleteTimeStamp:null})}),b.Version.prototype._parseStoresSpec=h(b.Version.prototype._parseStoresSpec,function(a){return function(b,c){b._changes="++rev",b._syncNodes="++id,myRevision,lastHeartBeat,url,isMaster,type,status",b._intercomm="++id,destinationNode",b._uncommittedChanges="++id,node",a.call(this,b,c),Object.keys(c).forEach(function(a){var b=c[a];0==b.primKey.name.indexOf("$$")&&(b.primKey.uuid=!0,b.primKey.name=b.primKey.name.substr(2),b.primKey.keyPath=b.primKey.keyPath.substr(2))}),Object.keys(c).forEach(function(a){0!=a.indexOf("_")&&0!=a.indexOf("$")&&(c[a].observable=!0)})}}),b._tableFactory=h(b._tableFactory,function(a){return function(c,d,e){var f=a.apply(this,arguments);return f.schema.observable&&e===b._transPromiseFactory&&k(f),"_syncNodes"===f.name&&e===b._transPromiseFactory&&f.mapToClass(B),f}}),b.on.addEventType({changes:"asap",cleanup:[f,e],message:"asap"}),b._createTransaction=h(b._createTransaction,function(a){return function(b,d,e,f){var g=!1;"readwrite"===b&&d.some(function(a){return e[a]&&e[a].observable})&&(g=!0,d=d.slice(0),-1===d.indexOf("_changes")&&d.push("_changes"));var h=a.call(this,b,d,e,f);return g&&(h._lastWrittenRevision=0,h.on("complete",function(){if(h._lastWrittenRevision)if(f){var a=function b(a){return a.parent?b(a.parent):a}(f);a._lastWrittenRevision=Math.max(h._lastWrittenRevision,a.lastWrittenRevision||0)}else c.timeoutHandle&&clearTimeout(c.timeoutHandle),c.timeoutHandle=setTimeout(function(){delete c.timeoutHandle,c(h._lastWrittenRevision)},25)}),h.parent&&h.parent.source&&(h.source=h.parent.source)),h}}),Dexie.Observable.latestRevision[b.name]=Dexie.Observable.latestRevision[b.name]||0,b.close=h(b.close,function(a){return function(){return c.timeoutHandle&&(clearTimeout(c.timeoutHandle),delete c.timeoutHandle),Dexie.Observable.on("latestRevisionIncremented").unsubscribe(l),Dexie.Observable.on("suicideNurseCall").unsubscribe(q),Dexie.Observable.on("intercomm").unsubscribe(t),Dexie.Observable.on("beforeunload").unsubscribe(p),C&&C.id&&(Dexie.Observable.on.suicideNurseCall.fire(b.name,C.id),A.setItem("Dexie.Observable/deadnode:"+C.id.toString()+"/"+b.name,"dead"),C.deleteTimeStamp=1,C.lastHeartBeat=0,b._syncNodes.put(C),C=null),D&&clearTimeout(D),D=null,a.apply(this,arguments)}}),b.delete=h(b.delete,function(a){return function(){return a.apply(this,arguments).then(function(a){return Dexie.Observable.latestRevision[b.name]=0,a})}}),b.on("ready",function(){return b.table("_changes").orderBy("rev").last(function(a){var c=a?a.rev:0;return C=new B({myRevision:c,type:"local",lastHeartBeat:Date.now(),deleteTimeStamp:null,isMaster:0}),Dexie.Observable.latestRevision[b.name]<c&&(Dexie.Observable.latestRevision[b.name]=c,Dexie.spawn(function(){Dexie.Observable.on.latestRevisionIncremented.fire(c)})),b.transaction("rw","_syncNodes",function(){b._syncNodes.where("isMaster").equals(1).count(function(a){a||(C.isMaster=1),b._syncNodes.add(C).then(function(){Dexie.Observable.on("latestRevisionIncremented",l),Dexie.Observable.on("beforeunload",p),Dexie.Observable.on("suicideNurseCall",q),Dexie.Observable.on("intercomm",t),D=setTimeout(n,w)})})}).then(o)})},!0);var E=0,F={};b.sendMessage=function(a,c,d,e){if(!C)return i.reject("Database closed");e=e||{};var f={message:c,destinationNode:d,sender:C.id,type:a};Dexie.extend(f,e);var g=["_intercomm"];return e.wantReply&&g.push("_syncNodes"),b.transaction("rw",g,function(){function a(a){return b._intercomm.add(a).then(function(a){return A.setItem("Dexie.Observable/intercomm/"+b.name,a.toString()),Dexie.spawn(function(){Dexie.Observable.on.intercomm.fire(b.name)}),e.wantReply?new i(function(b,c){F[a.toString()]={resolve:b,reject:c}}):void 0})}return e.wantReply?b._syncNodes.where("id").equals(d).count(function(c){return c?a(f):b._syncNodes.where("isMaster").above(0).first(function(b){return f.destinationNode=b.id,a(f)})}):void a(f)})},b.broadcastMessage=function(a,c,d){if(!C)return i.reject("Database closed");var e=C.id;b._syncNodes.each(function(f){"local"!=f.type||!d&&f.id===e||b.sendMessage(a,c,f.id)})},b.observable={},b.observable.SyncNode=B};Dexie.Observable.latestRevision={},Dexie.Observable.on=Dexie.events(null,"latestRevisionIncremented","suicideNurseCall","intercomm","beforeunload"),Dexie.createUUID=function(){var a=Date.now(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==b?c:7&c|8).toString(16)});return b},Dexie.Observable._onStorage=function(a){if(0===a.key.indexOf("Dexie.Observable/")){var b=a.key.split("/"),c=b[1],d=b[2];if("latestRevision"===c){var e=parseInt(a.newValue,10);!isNaN(e)&&e>Dexie.Observable.latestRevision[d]&&(Dexie.Observable.latestRevision[d]=e,Dexie.spawn(function(){Dexie.Observable.on("latestRevisionIncremented").fire(d,e)}))}else if(0===c.indexOf("deadnode:")){var f=parseInt(c.split(":")[1],10);a.newValue&&Dexie.Observable.on.suicideNurseCall.fire(d,f)}else"intercomm"===c&&a.newValue&&Dexie.Observable.on.intercomm.fire(d)}},Dexie.Observable._onBeforeUnload=function(){Dexie.Observable.on.beforeunload.fire()},Dexie.Observable.localStorageImpl=a.localStorage,a.addEventListener("storage",Dexie.Observable._onStorage),a.addEventListener("beforeunload",Dexie.Observable._onBeforeUnload),Dexie.addons.push(Dexie.Observable)}.apply(this,"undefined"==typeof module||"undefined"!=typeof window&&this==window?[window,function(a,b){window[a]=b},!0]:[global,function(a,b){module.exports=b},!1]),function(){function a(a){a.Table.prototype.addObserver=function(a,b){var c=this._observers||(this._observers=[]),d=c.indexOf(b);if(-1===d&&c.push(b),a){var e=this;a.$on("$destroy",function(){e.removeObserver(b)})}},a.Table.prototype.removeObserver=function(a){var b=this._observers||(this._observers=[]),c=b.indexOf(a);-1!==c&&b.splice(c,1)},a.Table.prototype.notifyObservers=function(a){this._observers&&angular.forEach(this._observers,function(b){a(b)})}}Dexie.addons.push(a)}();var __entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};String.prototype.escapeHTML=function(){return String(this).replace(/[&<>"'\/]/g,function(a){return __entityMap[a]})},String.prototype.unescapeHTML=function(){return String(this).replace("&amp;","&").replace("&lt;","<").replace("&gt;",">").replace("&quot;",'"').replace("&#39;","'").replace("&#x2F;","/")},String.prototype.nl2br=function(){return String(this).replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br />$2")},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Number.prototype.pad=function(a){var b=String(this);for("number"!=typeof a&&(a=2);b.length<a;)b="0"+b;return b},"function"!=typeof Object.keys&&!function(){function a(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c}Object.keys=a}(),$.fn.hasAttr=function(a){var b=this.attr(a);return void 0!==b&&b!==!1},function(){var a,b=[].slice;a=function(){{var a,c,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};String(this).replace(/[&<>"']/g,function(a){return d[a]})}return a=1<=arguments.length?b.call(arguments,0):[],c=/(^|\s)((?:https?|ftp):\/\/[\-A-Z0-9+\u0026\u2019@#\/%?=()~_|!:,.;]*[\-A-Z0-9+\u0026@#\/%=~()_|])/gi,this.replace(c,"$1<a href='$2' target='_blank'>$2</a>")},String.prototype.autoLink=a}.call(this);var converters=function(){var a,b={},c=[];for(a=0;9>=a;++a){var d=a.toString();b[d]=a,c.push(d)}for(a=10;15>=a;++a){var e=String.fromCharCode("a".charCodeAt(0)+a-10),f=String.fromCharCode("A".charCodeAt(0)+a-10);b[e]=a,b[f]=a,c.push(e)}return{byteArrayToHexString:function(a){for(var b="",d=0;d<a.length;++d)a[d]<0&&(a[d]+=256),b+=c[a[d]>>4]+c[15&a[d]];return b},stringToByteArray:function(a){a=unescape(encodeURIComponent(a));for(var b=new Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b},hexStringToByteArray:function(a){var c=[],d=0;for(0!==a.length%2&&(c.push(b[a.charAt(0)]),++d);d<a.length-1;d+=2)c.push((b[a.charAt(d)]<<4)+b[a.charAt(d+1)]);return c},stringToHexString:function(a){return this.byteArrayToHexString(this.stringToByteArray(a))},hexStringToString:function(a){return this.byteArrayToString(this.hexStringToByteArray(a))},checkBytesToIntInput:function(a,b,c){var d=c||0;if(0>d)throw new Error("Start index should not be negative");if(a.length<d+b)throw new Error("Need at least "+b+" bytes to convert to an integer");return d},byteArrayToSignedShort:function(a,b){var c=this.checkBytesToIntInput(a,2,b),d=a[c];return d+=a[c+1]<<8},byteArrayToSignedInt32:function(a,b){var c=this.checkBytesToIntInput(a,4,b);return value=a[c],value+=a[c+1]<<8,value+=a[c+2]<<16,value+=a[c+3]<<24},byteArrayToBigInteger:function(a,b){for(var c,d,e=(this.checkBytesToIntInput(a,8,b),new BigInteger("0",10)),f=7;f>=0;f--)c=e.multiply(new BigInteger("256",10)),d=c.add(new BigInteger(a[b+f].toString(10),10)),e=d;return e},byteArrayToWordArray:function(a){for(var b=0,c=0,d=0,e=a.length,f=new Uint32Array((e/4|0)+(e%4==0?0:1));e-e%4>b;)f[c++]=a[b++]<<24|a[b++]<<16|a[b++]<<8|a[b++];e%4!=0&&(d=a[b++]<<24,e%4>1&&(d|=a[b++]<<16),e%4>2&&(d|=a[b++]<<8),f[c]=d);var g=new Object;return g.sigBytes=e,g.words=f,g},wordArrayToByteArray:function(a){var b=a.words.length;if(0==b)return new Array(0);var c,d,e=new Array(a.sigBytes),f=0;for(d=0;b-1>d;d++)c=a.words[d],e[f++]=c>>24,e[f++]=c>>16&255,e[f++]=c>>8&255,e[f++]=255&c;return c=a.words[b-1],e[f++]=c>>24,a.sigBytes%4==0&&(e[f++]=c>>16&255,e[f++]=c>>8&255,e[f++]=255&c),a.sigBytes%4>1&&(e[f++]=c>>16&255),a.sigBytes%4>2&&(e[f++]=c>>8&255),e},byteArrayToString:function(a,b,c){if(0==c)return"";if(b&&c){{this.checkBytesToIntInput(a,parseInt(c,10),parseInt(b,10))}a=a.slice(b,b+c)}return decodeURIComponent(escape(String.fromCharCode.apply(null,a)))},byteArrayToShortArray:function(a){var b,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(b=0;16>b;b++)c[b]=a[2*b]|a[2*b+1]<<8;return c},shortArrayToByteArray:function(a){var b,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(b=0;16>b;b++)c[2*b]=255&a[b],c[2*b+1]=a[b]>>8;return c},shortArrayToHexString:function(a){for(var b="",d=0;d<a.length;d++)b+=c[a[d]>>4&15]+c[15&a[d]]+c[a[d]>>12&15]+c[a[d]>>8&15];return b},intToBytes_:function(a,b,c,d){var e=Math.floor(c/2),f=-1*(e+1);if(a!=Math.floor(a)||f>a||a>c)throw new Error(a+" is not a "+8*b+" bit integer");var g,h=[],i=a>=0&&e>=a?0:a>e&&c>=a?1:2;2==i&&(a=-1*a-1);for(var j=0;b>j;j++)g=2==i?255-a%256:a%256,d?h.unshift(g):h.push(g),1==i?a=Math.floor(a/256):a>>=8;return h},int32ToBytes:function(a,b){return converters.intToBytes_(a,4,4294967295,b)}}}(),SHA256_buf=new Array,SHA256_len=0,SHA256_H=new Array;SHA256_hexchars=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),SHA256_K=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298);var curve25519=function(){function a(a){a[31]&=127,a[31]|=64,a[0]&=248}function b(a,b){for(var c=0;32>c;c++)a[c]=b[c]}function c(a,b,c,d,e,f){c=0|c,e=0|e,f=0|f;for(var g=0,h=0;e>h;++h)g+=(255&b[h+c])+f*(255&d[h]),a[h+c]=255&g,g>>=8;return g}function d(a,b,d,e,f){e=0|e,f=0|f;for(var g=31,h=0,i=0;e>i;i++){var j=f*(255&d[i]);h+=c(a,a,i,b,g,j)+(255&a[i+g])+j*(255&b[g]),a[i+g]=255&h,h>>=8}return a[i+g]=h+(255&a[i+g])&255,h>>8}function e(a,b,d,e,f){d=0|d,f=0|f;var g=0,h=(255&e[f-1])<<8;for(f>1&&(h|=255&e[f-2]);d-->=f;){var i=g<<16|(255&b[d])<<8;d>0&&(i|=255&b[d-1]);var j=d-f+1;i/=h,g+=c(b,b,j,e,f,-i),a[j]=i+g&255,c(b,b,j,e,f,-g),g=255&b[d],b[d]=0}b[f-1]=255&g}function f(a,b){for(;0!==b--&&0===a[b];);return b+1}function g(a,b,c,g){var h,i,j,k=32;for(j=0;32>j;j++)a[j]=b[j]=0;if(a[0]=1,h=f(c,32),0===h)return b;for(var l=new Array(32);;){if(i=k-h+1,e(l,g,k,c,h),k=f(g,k),0===k)return a;if(d(b,a,l,i,-1),i=h-k+1,e(l,c,h,g,k),h=f(c,h),0===h)return b;d(a,b,l,i,-1)}}function h(a,b){for(var c=0;G>c;c+=2)a[c/2]=255&b[c]|(255&b[c+1])<<8}function i(a){return a[0]>R-19&&(a[1]&a[3]&a[5]&a[7]&a[9])===Q&&(a[2]&a[4]&a[6]&a[8])===R||a[9]>Q}function j(a,b){for(var c=0;H>c;++c)b[2*c]=255&a[c],b[2*c+1]=(65280&a[c])>>8}function k(){return new Uint16Array(H)}function l(a,b){for(var c=0;H>c;++c)a[c]=b[c]}function m(a,b){a[0]=b;for(var c=1;H>c;++c)a[c]=0}function n(a,b,c){var d,e=k(),f=k(),g=k(),h=k(),i=k();for(W(f,b),W(g,f),W(e,g),V(g,e,b),V(e,g,f),W(f,e),V(h,f,g),W(f,h),W(g,f),W(f,g),W(g,f),W(f,g),V(g,f,h),W(f,g),W(h,f),d=1;5>d;d++)W(f,h),W(h,f);for(V(f,h,g),W(h,f),W(i,h),d=1;10>d;d++)W(h,i),W(i,h);for(V(h,i,f),d=0;5>d;d++)W(f,h),W(h,f);for(V(f,h,g),W(g,f),W(h,g),d=1;25>d;d++)W(g,h),W(h,g);for(V(g,h,f),W(h,g),W(i,h),d=1;50>d;d++)W(h,i),W(i,h);for(V(h,i,g),d=0;25>d;d++)W(i,h),W(h,i);V(g,h,f),W(f,g),W(g,f),0!==c?V(a,b,g):(W(f,g),W(g,f),W(f,g),V(a,f,e))}function o(a){var b=i(a)||a[9]<0,c=1&a[0];return 4294967295&((b?1:0)^c)}function p(a,b){var c=k(),d=k(),e=k();S(d,b,b),n(c,d,1),W(a,c),V(e,d,a),T(e,e,M),V(d,c,e),V(a,b,d)}function q(a,b,c,d,e,f,g,h){var i,j=[];return j[0]=65535&(i=h*h),j[1]=65535&(i=(i/65536|0)+2*h*g),j[2]=65535&(i=(i/65536|0)+2*h*f+g*g),j[3]=65535&(i=(i/65536|0)+2*h*e+2*g*f),j[4]=65535&(i=(i/65536|0)+2*h*d+2*g*e+f*f),j[5]=65535&(i=(i/65536|0)+2*h*c+2*g*d+2*f*e),j[6]=65535&(i=(i/65536|0)+2*h*b+2*g*c+2*f*d+e*e),j[7]=65535&(i=(i/65536|0)+2*h*a+2*g*b+2*f*c+2*e*d),j[8]=65535&(i=(i/65536|0)+2*g*a+2*f*b+2*e*c+d*d),j[9]=65535&(i=(i/65536|0)+2*f*a+2*e*b+2*d*c),j[10]=65535&(i=(i/65536|0)+2*e*a+2*d*b+c*c),j[11]=65535&(i=(i/65536|0)+2*d*a+2*c*b),j[12]=65535&(i=(i/65536|0)+2*c*a+b*b),j[13]=65535&(i=(i/65536|0)+2*b*a),j[14]=65535&(i=(i/65536|0)+a*a),j[15]=i/65536|0,j}function r(a,b){var c,d=q(b[15],b[14],b[13],b[12],b[11],b[10],b[9],b[8]),e=q(b[7],b[6],b[5],b[4],b[3],b[2],b[1],b[0]),f=q(b[15]+b[7],b[14]+b[6],b[13]+b[5],b[12]+b[4],b[11]+b[3],b[10]+b[2],b[9]+b[1],b[8]+b[0]);a[0]=65535&(c=8388608+e[0]+38*(f[8]-d[8]-e[8]+d[0]-128)),a[1]=65535&(c=8388480+(c/65536|0)+e[1]+38*(f[9]-d[9]-e[9]+d[1])),a[2]=65535&(c=8388480+(c/65536|0)+e[2]+38*(f[10]-d[10]-e[10]+d[2])),a[3]=65535&(c=8388480+(c/65536|0)+e[3]+38*(f[11]-d[11]-e[11]+d[3])),a[4]=65535&(c=8388480+(c/65536|0)+e[4]+38*(f[12]-d[12]-e[12]+d[4])),a[5]=65535&(c=8388480+(c/65536|0)+e[5]+38*(f[13]-d[13]-e[13]+d[5])),a[6]=65535&(c=8388480+(c/65536|0)+e[6]+38*(f[14]-d[14]-e[14]+d[6])),a[7]=65535&(c=8388480+(c/65536|0)+e[7]+38*(f[15]-d[15]-e[15]+d[7])),a[8]=65535&(c=8388480+(c/65536|0)+e[8]+f[0]-d[0]-e[0]+38*d[8]),a[9]=65535&(c=8388480+(c/65536|0)+e[9]+f[1]-d[1]-e[1]+38*d[9]),a[10]=65535&(c=8388480+(c/65536|0)+e[10]+f[2]-d[2]-e[2]+38*d[10]),a[11]=65535&(c=8388480+(c/65536|0)+e[11]+f[3]-d[3]-e[3]+38*d[11]),a[12]=65535&(c=8388480+(c/65536|0)+e[12]+f[4]-d[4]-e[4]+38*d[12]),a[13]=65535&(c=8388480+(c/65536|0)+e[13]+f[5]-d[5]-e[5]+38*d[13]),a[14]=65535&(c=8388480+(c/65536|0)+e[14]+f[6]-d[6]-e[6]+38*d[14]);var g=8388480+(c/65536|0)+e[15]+f[7]-d[7]-e[7]+38*d[15];u(a,g)}function s(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q,r=[];return r[0]=65535&(q=h*p),r[1]=65535&(q=(q/65536|0)+h*o+g*p),r[2]=65535&(q=(q/65536|0)+h*n+g*o+f*p),r[3]=65535&(q=(q/65536|0)+h*m+g*n+f*o+e*p),r[4]=65535&(q=(q/65536|0)+h*l+g*m+f*n+e*o+d*p),r[5]=65535&(q=(q/65536|0)+h*k+g*l+f*m+e*n+d*o+c*p),r[6]=65535&(q=(q/65536|0)+h*j+g*k+f*l+e*m+d*n+c*o+b*p),r[7]=65535&(q=(q/65536|0)+h*i+g*j+f*k+e*l+d*m+c*n+b*o+a*p),r[8]=65535&(q=(q/65536|0)+g*i+f*j+e*k+d*l+c*m+b*n+a*o),r[9]=65535&(q=(q/65536|0)+f*i+e*j+d*k+c*l+b*m+a*n),r[10]=65535&(q=(q/65536|0)+e*i+d*j+c*k+b*l+a*m),r[11]=65535&(q=(q/65536|0)+d*i+c*j+b*k+a*l),r[12]=65535&(q=(q/65536|0)+c*i+b*j+a*k),r[13]=65535&(q=(q/65536|0)+b*i+a*j),r[14]=65535&(q=(q/65536|0)+a*i),r[15]=q/65536|0,r}function t(a,b,c){var d,e=s(b[15],b[14],b[13],b[12],b[11],b[10],b[9],b[8],c[15],c[14],c[13],c[12],c[11],c[10],c[9],c[8]),f=s(b[7],b[6],b[5],b[4],b[3],b[2],b[1],b[0],c[7],c[6],c[5],c[4],c[3],c[2],c[1],c[0]),g=s(b[15]+b[7],b[14]+b[6],b[13]+b[5],b[12]+b[4],b[11]+b[3],b[10]+b[2],b[9]+b[1],b[8]+b[0],c[15]+c[7],c[14]+c[6],c[13]+c[5],c[12]+c[4],c[11]+c[3],c[10]+c[2],c[9]+c[1],c[8]+c[0]);a[0]=65535&(d=8388608+f[0]+38*(g[8]-e[8]-f[8]+e[0]-128)),a[1]=65535&(d=8388480+(d/65536|0)+f[1]+38*(g[9]-e[9]-f[9]+e[1])),a[2]=65535&(d=8388480+(d/65536|0)+f[2]+38*(g[10]-e[10]-f[10]+e[2])),a[3]=65535&(d=8388480+(d/65536|0)+f[3]+38*(g[11]-e[11]-f[11]+e[3])),a[4]=65535&(d=8388480+(d/65536|0)+f[4]+38*(g[12]-e[12]-f[12]+e[4])),a[5]=65535&(d=8388480+(d/65536|0)+f[5]+38*(g[13]-e[13]-f[13]+e[5])),a[6]=65535&(d=8388480+(d/65536|0)+f[6]+38*(g[14]-e[14]-f[14]+e[6])),a[7]=65535&(d=8388480+(d/65536|0)+f[7]+38*(g[15]-e[15]-f[15]+e[7])),a[8]=65535&(d=8388480+(d/65536|0)+f[8]+g[0]-e[0]-f[0]+38*e[8]),a[9]=65535&(d=8388480+(d/65536|0)+f[9]+g[1]-e[1]-f[1]+38*e[9]),a[10]=65535&(d=8388480+(d/65536|0)+f[10]+g[2]-e[2]-f[2]+38*e[10]),a[11]=65535&(d=8388480+(d/65536|0)+f[11]+g[3]-e[3]-f[3]+38*e[11]),a[12]=65535&(d=8388480+(d/65536|0)+f[12]+g[4]-e[4]-f[4]+38*e[12]),a[13]=65535&(d=8388480+(d/65536|0)+f[13]+g[5]-e[5]-f[5]+38*e[13]),a[14]=65535&(d=8388480+(d/65536|0)+f[14]+g[6]-e[6]-f[6]+38*e[14]);var h=8388480+(d/65536|0)+f[15]+g[7]-e[7]-f[7]+38*e[15];u(a,h)}function u(a,b){var c=b;a[15]=32767&c,c=19*(c/32768|0);for(var d=0;14>=d;++d)a[d]=65535&(c+=a[d]),c=c/65536|0;a[15]+=c}function v(a,b,c){var d;a[0]=65535&(d=19*((b[15]/32768|0)+(c[15]/32768|0))+b[0]+c[0]);for(var e=1;14>=e;++e)a[e]=65535&(d=(d/65536|0)+b[e]+c[e]);a[15]=(d/65536|0)+(32767&b[15])+(32767&c[15])
}function w(a,b,c){var d;a[0]=65535&(d=524288+19*((b[15]/32768|0)-(c[15]/32768|0)-1)+b[0]-c[0]);for(var e=1;14>=e;++e)a[e]=65535&(d=(d/65536|0)+524280+b[e]-c[e]);a[15]=(d/65536|0)+32760+(32767&b[15])-(32767&c[15])}function x(a,b,c){var d;a[0]=65535&(d=b[0]*c);for(var e=1;14>=e;++e)a[e]=65535&(d=(d/65536|0)+b[e]*c);var f=(d/65536|0)+b[15]*c;u(a,f)}function y(a,b,c,d){S(a,c,d),T(b,c,d)}function z(a,b,c,d,e,f,g){V(e,b,c),V(f,a,d),S(a,e,f),T(b,e,f),W(e,a),W(a,b),V(f,a,g)}function A(a,b,c,d,e,f){W(a,c),W(b,d),V(e,a,b),T(b,a,b),U(f,b,121665),S(a,a,f),V(f,a,b)}function B(a,b,c){W(a,c),U(b,c,486662),S(a,a,b),S(a,a,M),V(b,a,c)}function C(a,d,e,f){var i,p,q=k(),r=k(),s=k(),t=k(),u=k(),v=[k(),k()],w=[k(),k()];for(null!==f?h(q,f):m(q,9),m(v[0],1),m(w[0],0),l(v[1],q),m(w[1],1),i=32;0!==i--;)for(p=8;0!==p--;){var x=(255&e[i])>>p&1,C=~(255&e[i])>>p&1,D=v[C],E=w[C],F=v[x],G=w[x];y(r,s,D,E),y(t,u,F,G),z(r,s,t,u,D,E,q),A(r,s,t,u,F,G)}if(n(r,w[0],0),V(q,v[0],r),j(q,a),null!==d){B(s,r,q),n(t,w[1],0),V(s,v[1],t),S(s,s,q),S(s,s,O),T(q,q,N),W(t,q),V(q,s,t),T(q,q,r),T(q,q,P),V(r,q,L),0!==o(r)?b(d,e):c(d,J,0,e,32,-1);var H=new Array(32),K=new Array(64),M=new Array(64);b(H,I),b(d,g(K,M,d,H)),0!==(128&d[31])&&c(d,d,0,I,32,1)}}function D(a,f,g){var h,i,j=new Array(32),k=new Array(32),l=new Array(64),m=new Array(64);b(j,a),b(k,f);var n=new Array(32);e(n,j,32,I,32),e(n,k,32,I,32);var o=new Array(32);for(c(o,k,0,j,32,-1),c(o,o,0,I,32,1),d(l,o,g,32,1),e(m,l,64,I,32),h=0,i=0;32>i;i++)h|=o[i]=l[i];return 0!==h?o:void 0}function E(a,b,c){var d,e,f,g=new Array(32),i=[k(),k()],q=[k(),k()],r=[k(),k(),k()],s=[k(),k(),k()],t=[k(),k(),k()],u=[k(),k(),k()],v=0,w=0,x=0,C=0;for(m(i[0],9),h(i[1],c),B(t[0],u[0],i[1]),p(t[0],u[0]),e=o(t[0]),S(u[0],u[0],P),V(u[1],K,t[0]),T(t[e],u[0],u[1]),S(t[1-e],u[0],u[1]),l(u[0],i[1]),T(u[0],u[0],N),W(u[1],u[0]),n(u[0],u[1],0),V(q[0],t[0],u[0]),T(q[0],q[0],i[1]),T(q[0],q[0],O),V(q[1],t[1],u[0]),T(q[1],q[1],i[1]),T(q[1],q[1],O),U(q[0],q[0],1),U(q[1],q[1],1),d=0;32>d;d++)v=v>>8^255&a[d]^(255&a[d])<<1,w=w>>8^255&b[d]^(255&b[d])<<1,C=~(v^w),x=C&(128&x)>>7^v,x^=C&(1&x)<<1,x^=C&(2&x)<<1,x^=C&(4&x)<<1,x^=C&(8&x)<<1,x^=C&(16&x)<<1,x^=C&(32&x)<<1,x^=C&(64&x)<<1,g[d]=255&x;for(x=(C&(128&x)<<1^v)>>8,m(r[0],1),l(r[1],i[x]),l(r[2],q[0]),m(s[0],0),m(s[1],1),m(s[2],1),v=0,w=0,d=32;0!==d--;)for(v=v<<8|255&a[d],w=w<<8|255&b[d],x=x<<8|255&g[d],e=8;0!==e--;)y(t[0],u[0],r[0],s[0]),y(t[1],u[1],r[1],s[1]),y(t[2],u[2],r[2],s[2]),f=((v^v>>1)>>e&1)+((w^w>>1)>>e&1),A(r[2],s[2],t[f],u[f],r[0],s[0]),f=x>>e&2^(x>>e&1)<<1,z(t[1],u[1],t[f],u[f],r[1],s[1],i[x>>e&1]),z(t[2],u[2],t[0],u[0],r[2],s[2],q[((v^w)>>e&2)>>1]);f=(1&v)+(1&w),n(t[0],s[f],0),V(t[1],r[f],t[0]);var D=[];return j(t[1],D),D}function F(b){var c=[],d=[];return b=b||[],a(b),C(c,d,b,null),{p:c,s:d,k:b}}var G=32,H=16,I=[237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16],J=[104,159,174,231,210,24,147,192,178,230,188,23,245,206,247,166,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128],K=[22587,610,29883,44076,15515,9479,25859,56197,23910,4462,17831,16322,62102,36542,52412,16035],L=[5744,16384,61977,54121,8776,18501,26522,34893,23833,5823,55924,58749,24147,14085,13606,6080],M=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],O=[27919,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=[33224,601,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Q=33554431,R=67108863,S=v,T=w,U=x,V=t,W=r;return{sign:D,verify:E,keygen:F}}();curve25519_zero=function(){return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},curve25519_one=function(){return[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},curve25519_two=function(){return[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},curve25519_nine=function(){return[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},curve25519_486671=function(){return[27919,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},curve25519_39420360=function(){return[33224,601,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},curve25519_r2y=function(){return[5744,16384,61977,54121,8776,18501,26522,34893,23833,5823,55924,58749,24147,14085,13606,6080]},curve25519_2y=function(){return[22587,610,29883,44076,15515,9479,25859,56197,23910,4462,17831,16322,62102,36542,52412,16035]},curve25519_clamp=function(a){return a[0]&=65528,a[15]&=32767,a[15]|=16384,a},curve25519_getbit=function(a,b){return~~(a[~~(b/16)]/Math.pow(2,b%16))%2},curve25519_prime=[65517,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,32767],curve25519_order=[237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16],curve25519_order_times_8=[104,159,174,231,210,24,147,192,178,230,188,23,245,206,247,166,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128],curve25519_convertToByteArray=function(a){var b,c=new Int8Array(32);for(b=0;16>b;b++)c[2*b]=255&a[b],c[2*b+1]=a[b]>>8;return c},curve25519_convertToShortArray=function(a){var b,c,d,e=new Array(16);for(b=0;16>b;b++)c=a[2*b],0>c&&(c+=256),d=a[2*b+1],0>d&&(d+=256),e[b]=c+256*d;return e},curve25519_fillShortArray=function(a,b){var c;for(c=0;16>c;c++)b[c]=a[c]},curve25519_fillByteArray=function(a,b){var c;for(c=0;32>c;c++)b[c]=a[c]},curve25519_log16=function(a,b){var c=shortArray_to_hex_string(b);addText(a+c)},curve25519_log32=function(a,b){var c=byteArray_to_hex_string(b);addText(a+c)},curve25519_cpy32=function(a){var b=new Int8Array(32);for(i=0;32>i;i++)b[i]=a[i];return b},curve25519_mula_small=function(a,b,c,d,e,f){var g=0;for(j=0;e>j;++j)g+=(255&b[j+c])+f*(255&d[j]),a[j+c]=255&g,g>>=8;return g},curve25519_mula32=function(a,b,c,d,e){var f=31,g=0;for(i=0;d>i;i++)zy=e*(255&c[i]),g+=curve25519_mula_small(a,a,i,b,f,zy)+(255&a[i+f])+zy*(255&b[f]),a[i+f]=255&g,g>>=8;return a[i+f]=g+(255&a[i+f])&255,g>>8},curve25519_divmod=function(a,b,c,d,e){var f=0,g=0,h=(255&d[e-1])<<8;for(e>1&&(h|=255&d[e-2]);c-->=e;)g=f<<16|(255&b[c])<<8,c>0&&(g|=255&b[c-1]),g=parseInt(g/h),f+=curve25519_mula_small(b,b,c-e+1,d,e,-g),a[c-e+1]=g+f&255,curve25519_mula_small(b,b,c-e+1,d,e,-f),f=255&b[c],b[c]=0;b[e-1]=255&f},curve25519_numsize=function(a,b){for(;0!=b--&&0==a[b];);return b+1},curve25519_egcd32=function(a,b,c,d){var e=0,f=32,g=0,h=0;for(h=0;32>h;h++)a[h]=b[h]=0;if(a[0]=1,e=curve25519_numsize(c,32),0==e)return b;for(temp=new Int8Array(32);;){if(g=f-e+1,curve25519_divmod(temp,d,f,c,e),f=curve25519_numsize(d,f),0==f)return a;if(curve25519_mula32(b,a,temp,g,-1),g=e-f+1,curve25519_divmod(temp,c,e,d,f),e=curve25519_numsize(c,e),0==e)return b;curve25519_mula32(a,b,temp,g,-1)}},curve25519_compare=function(a,b){var c;for(c=15;c>=0;c--){var d=a[c],e=b[c];if(d>e)return 1;if(e>d)return-1}return 0},curve25519_cpy16=function(a){var b,c=new Array(16);for(b=0;16>b;b++)c[b]=a[b];return c},curve25519_isNegative=function(a){return 1&a[0]},curve25519_isOverflow=function(a){if(a[15]>=32768)return 1;if(a[0]>=65536){var b;for(b=1;15>b;b++)if(a[b]<65535)return 0;return 1}return 0},curve25519_sqr8h=function(a,b,c,d,e,f,g,h,i){var j=0;a[0]=65535&(j=i*i),a[1]=65535&(j=~~(j/65536)+2*i*h),a[2]=65535&(j=~~(j/65536)+2*i*g+h*h),a[3]=65535&(j=~~(j/65536)+2*i*f+2*h*g),a[4]=65535&(j=~~(j/65536)+2*i*e+2*h*f+g*g),a[5]=65535&(j=~~(j/65536)+2*i*d+2*h*e+2*g*f),a[6]=65535&(j=~~(j/65536)+2*i*c+2*h*d+2*g*e+f*f),a[7]=65535&(j=~~(j/65536)+2*i*b+2*h*c+2*g*d+2*f*e),a[8]=65535&(j=~~(j/65536)+2*h*b+2*g*c+2*f*d+e*e),a[9]=65535&(j=~~(j/65536)+2*g*b+2*f*c+2*e*d),a[10]=65535&(j=~~(j/65536)+2*f*b+2*e*c+d*d),a[11]=65535&(j=~~(j/65536)+2*e*b+2*d*c),a[12]=65535&(j=~~(j/65536)+2*d*b+c*c),a[13]=65535&(j=~~(j/65536)+2*c*b),a[14]=65535&(j=~~(j/65536)+b*b),a[15]=~~(j/65536)},curve25519_sqrmodp=function(a,b){var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];curve25519_sqr8h(c,b[15],b[14],b[13],b[12],b[11],b[10],b[9],b[8]),curve25519_sqr8h(e,b[7],b[6],b[5],b[4],b[3],b[2],b[1],b[0]),curve25519_sqr8h(d,b[15]+b[7],b[14]+b[6],b[13]+b[5],b[12]+b[4],b[11]+b[3],b[10]+b[2],b[9]+b[1],b[8]+b[0]);var f=0;a[0]=65535&(f=8388608+e[0]+38*(d[8]-c[8]-e[8]+c[0]-128)),a[1]=65535&(f=8388480+~~(f/65536)+e[1]+38*(d[9]-c[9]-e[9]+c[1])),a[2]=65535&(f=8388480+~~(f/65536)+e[2]+38*(d[10]-c[10]-e[10]+c[2])),a[3]=65535&(f=8388480+~~(f/65536)+e[3]+38*(d[11]-c[11]-e[11]+c[3])),a[4]=65535&(f=8388480+~~(f/65536)+e[4]+38*(d[12]-c[12]-e[12]+c[4])),a[5]=65535&(f=8388480+~~(f/65536)+e[5]+38*(d[13]-c[13]-e[13]+c[5])),a[6]=65535&(f=8388480+~~(f/65536)+e[6]+38*(d[14]-c[14]-e[14]+c[6])),a[7]=65535&(f=8388480+~~(f/65536)+e[7]+38*(d[15]-c[15]-e[15]+c[7])),a[8]=65535&(f=8388480+~~(f/65536)+e[8]+d[0]-c[0]-e[0]+38*c[8]),a[9]=65535&(f=8388480+~~(f/65536)+e[9]+d[1]-c[1]-e[1]+38*c[9]),a[10]=65535&(f=8388480+~~(f/65536)+e[10]+d[2]-c[2]-e[2]+38*c[10]),a[11]=65535&(f=8388480+~~(f/65536)+e[11]+d[3]-c[3]-e[3]+38*c[11]),a[12]=65535&(f=8388480+~~(f/65536)+e[12]+d[4]-c[4]-e[4]+38*c[12]),a[13]=65535&(f=8388480+~~(f/65536)+e[13]+d[5]-c[5]-e[5]+38*c[13]),a[14]=65535&(f=8388480+~~(f/65536)+e[14]+d[6]-c[6]-e[6]+38*c[14]),a[15]=8388480+~~(f/65536)+e[15]+d[7]-c[7]-e[7]+38*c[15],curve25519_reduce(a)},curve25519_mul8h=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=0;a[0]=65535&(r=i*q),a[1]=65535&(r=~~(r/65536)+i*p+h*q),a[2]=65535&(r=~~(r/65536)+i*o+h*p+g*q),a[3]=65535&(r=~~(r/65536)+i*n+h*o+g*p+f*q),a[4]=65535&(r=~~(r/65536)+i*m+h*n+g*o+f*p+e*q),a[5]=65535&(r=~~(r/65536)+i*l+h*m+g*n+f*o+e*p+d*q),a[6]=65535&(r=~~(r/65536)+i*k+h*l+g*m+f*n+e*o+d*p+c*q),a[7]=65535&(r=~~(r/65536)+i*j+h*k+g*l+f*m+e*n+d*o+c*p+b*q),a[8]=65535&(r=~~(r/65536)+h*j+g*k+f*l+e*m+d*n+c*o+b*p),a[9]=65535&(r=~~(r/65536)+g*j+f*k+e*l+d*m+c*n+b*o),a[10]=65535&(r=~~(r/65536)+f*j+e*k+d*l+c*m+b*n),a[11]=65535&(r=~~(r/65536)+e*j+d*k+c*l+b*m),a[12]=65535&(r=~~(r/65536)+d*j+c*k+b*l),a[13]=65535&(r=~~(r/65536)+c*j+b*k),a[14]=65535&(r=~~(r/65536)+b*j),a[15]=~~(r/65536)},curve25519_mulmodp=function(a,b,c){var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];curve25519_mul8h(d,b[15],b[14],b[13],b[12],b[11],b[10],b[9],b[8],c[15],c[14],c[13],c[12],c[11],c[10],c[9],c[8]),curve25519_mul8h(f,b[7],b[6],b[5],b[4],b[3],b[2],b[1],b[0],c[7],c[6],c[5],c[4],c[3],c[2],c[1],c[0]),curve25519_mul8h(e,b[15]+b[7],b[14]+b[6],b[13]+b[5],b[12]+b[4],b[11]+b[3],b[10]+b[2],b[9]+b[1],b[8]+b[0],c[15]+c[7],c[14]+c[6],c[13]+c[5],c[12]+c[4],c[11]+c[3],c[10]+c[2],c[9]+c[1],c[8]+c[0]);var g=0;a[0]=65535&(g=8388608+f[0]+38*(e[8]-d[8]-f[8]+d[0]-128)),a[1]=65535&(g=8388480+~~(g/65536)+f[1]+38*(e[9]-d[9]-f[9]+d[1])),a[2]=65535&(g=8388480+~~(g/65536)+f[2]+38*(e[10]-d[10]-f[10]+d[2])),a[3]=65535&(g=8388480+~~(g/65536)+f[3]+38*(e[11]-d[11]-f[11]+d[3])),a[4]=65535&(g=8388480+~~(g/65536)+f[4]+38*(e[12]-d[12]-f[12]+d[4])),a[5]=65535&(g=8388480+~~(g/65536)+f[5]+38*(e[13]-d[13]-f[13]+d[5])),a[6]=65535&(g=8388480+~~(g/65536)+f[6]+38*(e[14]-d[14]-f[14]+d[6])),a[7]=65535&(g=8388480+~~(g/65536)+f[7]+38*(e[15]-d[15]-f[15]+d[7])),a[8]=65535&(g=8388480+~~(g/65536)+f[8]+e[0]-d[0]-f[0]+38*d[8]),a[9]=65535&(g=8388480+~~(g/65536)+f[9]+e[1]-d[1]-f[1]+38*d[9]),a[10]=65535&(g=8388480+~~(g/65536)+f[10]+e[2]-d[2]-f[2]+38*d[10]),a[11]=65535&(g=8388480+~~(g/65536)+f[11]+e[3]-d[3]-f[3]+38*d[11]),a[12]=65535&(g=8388480+~~(g/65536)+f[12]+e[4]-d[4]-f[4]+38*d[12]),a[13]=65535&(g=8388480+~~(g/65536)+f[13]+e[5]-d[5]-f[5]+38*d[13]),a[14]=65535&(g=8388480+~~(g/65536)+f[14]+e[6]-d[6]-f[6]+38*d[14]),a[15]=8388480+~~(g/65536)+f[15]+e[7]-d[7]-f[7]+38*d[15],curve25519_reduce(a)},curve25519_mulasmall=function(a,b,c){var d=0;a[0]=65535&(d=b[0]*c),a[1]=65535&(d=~~(d/65536)+b[1]*c),a[2]=65535&(d=~~(d/65536)+b[2]*c),a[3]=65535&(d=~~(d/65536)+b[3]*c),a[4]=65535&(d=~~(d/65536)+b[4]*c),a[5]=65535&(d=~~(d/65536)+b[5]*c),a[6]=65535&(d=~~(d/65536)+b[6]*c),a[7]=65535&(d=~~(d/65536)+b[7]*c),a[8]=65535&(d=~~(d/65536)+b[8]*c),a[9]=65535&(d=~~(d/65536)+b[9]*c),a[10]=65535&(d=~~(d/65536)+b[10]*c),a[11]=65535&(d=~~(d/65536)+b[11]*c),a[12]=65535&(d=~~(d/65536)+b[12]*c),a[13]=65535&(d=~~(d/65536)+b[13]*c),a[14]=65535&(d=~~(d/65536)+b[14]*c),a[15]=~~(d/65536)+b[15]*c,curve25519_reduce(a)},curve25519_addmodp=function(a,b,c){var d=0;a[0]=65535&(d=19*(~~(b[15]/32768)+~~(c[15]/32768))+b[0]+c[0]),a[1]=65535&(d=~~(d/65536)+b[1]+c[1]),a[2]=65535&(d=~~(d/65536)+b[2]+c[2]),a[3]=65535&(d=~~(d/65536)+b[3]+c[3]),a[4]=65535&(d=~~(d/65536)+b[4]+c[4]),a[5]=65535&(d=~~(d/65536)+b[5]+c[5]),a[6]=65535&(d=~~(d/65536)+b[6]+c[6]),a[7]=65535&(d=~~(d/65536)+b[7]+c[7]),a[8]=65535&(d=~~(d/65536)+b[8]+c[8]),a[9]=65535&(d=~~(d/65536)+b[9]+c[9]),a[10]=65535&(d=~~(d/65536)+b[10]+c[10]),a[11]=65535&(d=~~(d/65536)+b[11]+c[11]),a[12]=65535&(d=~~(d/65536)+b[12]+c[12]),a[13]=65535&(d=~~(d/65536)+b[13]+c[13]),a[14]=65535&(d=~~(d/65536)+b[14]+c[14]),a[15]=~~(d/65536)+b[15]%32768+c[15]%32768},curve25519_submodp=function(a,b,c){var d=0;a[0]=65535&(d=524288+19*(~~(b[15]/32768)-~~(c[15]/32768)-1)+b[0]-c[0]),a[1]=65535&(d=~~(d/65536)+524280+b[1]-c[1]),a[2]=65535&(d=~~(d/65536)+524280+b[2]-c[2]),a[3]=65535&(d=~~(d/65536)+524280+b[3]-c[3]),a[4]=65535&(d=~~(d/65536)+524280+b[4]-c[4]),a[5]=65535&(d=~~(d/65536)+524280+b[5]-c[5]),a[6]=65535&(d=~~(d/65536)+524280+b[6]-c[6]),a[7]=65535&(d=~~(d/65536)+524280+b[7]-c[7]),a[8]=65535&(d=~~(d/65536)+524280+b[8]-c[8]),a[9]=65535&(d=~~(d/65536)+524280+b[9]-c[9]),a[10]=65535&(d=~~(d/65536)+524280+b[10]-c[10]),a[11]=65535&(d=~~(d/65536)+524280+b[11]-c[11]),a[12]=65535&(d=~~(d/65536)+524280+b[12]-c[12]),a[13]=65535&(d=~~(d/65536)+524280+b[13]-c[13]),a[14]=65535&(d=~~(d/65536)+524280+b[14]-c[14]),a[15]=~~(d/65536)+32760+b[15]%32768-c[15]%32768},curve25519_invmodp=function(a,b,c){var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;for(curve25519_sqrmodp(e,b),curve25519_sqrmodp(f,e),curve25519_sqrmodp(d,f),curve25519_mulmodp(f,d,b),curve25519_mulmodp(d,f,e),curve25519_sqrmodp(e,d),curve25519_mulmodp(g,e,f),curve25519_sqrmodp(e,g),curve25519_sqrmodp(f,e),curve25519_sqrmodp(e,f),curve25519_sqrmodp(f,e),curve25519_sqrmodp(e,f),curve25519_mulmodp(f,e,g),curve25519_sqrmodp(e,f),curve25519_sqrmodp(g,e),i=1;5>i;i++)curve25519_sqrmodp(e,g),curve25519_sqrmodp(g,e);for(curve25519_mulmodp(e,g,f),curve25519_sqrmodp(g,e),curve25519_sqrmodp(h,g),i=1;10>i;i++)curve25519_sqrmodp(g,h),curve25519_sqrmodp(h,g);for(curve25519_mulmodp(g,h,e),i=0;5>i;i++)curve25519_sqrmodp(e,g),curve25519_sqrmodp(g,e);for(curve25519_mulmodp(e,g,f),curve25519_sqrmodp(f,e),curve25519_sqrmodp(g,f),i=1;25>i;i++)curve25519_sqrmodp(f,g),curve25519_sqrmodp(g,f);for(curve25519_mulmodp(f,g,e),curve25519_sqrmodp(g,f),curve25519_sqrmodp(h,g),i=1;50>i;i++)curve25519_sqrmodp(g,h),curve25519_sqrmodp(h,g);for(curve25519_mulmodp(g,h,f),i=0;25>i;i++)curve25519_sqrmodp(h,g),curve25519_sqrmodp(g,h);curve25519_mulmodp(f,g,e),curve25519_sqrmodp(e,f),curve25519_sqrmodp(f,e),1==c?curve25519_mulmodp(a,b,f):(curve25519_sqrmodp(e,f),curve25519_sqrmodp(f,e),curve25519_sqrmodp(e,f),curve25519_mulmodp(a,e,d))},curve25519_sqrtmodp=function(a,b){var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];curve25519_addmodp(c,b,b),curve25519_invmodp(d,c,1),curve25519_sqrmodp(e,d),curve25519_mulmodp(f,c,e),curve25519_submodp(a,f,curve25519_one()),curve25519_mulmodp(c,d,a),curve25519_mulmodp(a,b,c)},curve25519_reduce=function(a){if(curve25519_reduce2(a),!(32767!=a[15]||65535!=a[14]||65535!=a[13]||65535!=a[12]||65535!=a[11]||65535!=a[10]||65535!=a[9]||65535!=a[8]||65535!=a[7]||65535!=a[6]||65535!=a[5]||65535!=a[4]||65535!=a[3]||65535!=a[2]||65535!=a[1]||a[0]<65517)){var b;for(b=1;16>b;b++)a[b]=0;a[0]=a[0]-65517}},curve25519_reduce2=function(a){var b=a[15];32768>b||(a[15]=b%32768,b=19*~~(b/32768),a[0]=65535&(b+=a[0]),(b=~~(b/65536))<1||(a[1]=65535&(b+=a[1]),(b=~~(b/65536))<1||(a[2]=65535&(b+=a[2]),(b=~~(b/65536))<1||(a[3]=65535&(b+=a[3]),(b=~~(b/65536))<1||(a[4]=65535&(b+=a[4]),(b=~~(b/65536))<1||(a[5]=65535&(b+=a[5]),(b=~~(b/65536))<1||(a[6]=65535&(b+=a[6]),(b=~~(b/65536))<1||(a[7]=65535&(b+=a[7]),(b=~~(b/65536))<1||(a[8]=65535&(b+=a[8]),(b=~~(b/65536))<1||(a[9]=65535&(b+=a[9]),(b=~~(b/65536))<1||(a[10]=65535&(b+=a[10]),(b=~~(b/65536))<1||(a[11]=65535&(b+=a[11]),(b=~~(b/65536))<1||(a[12]=65535&(b+=a[12]),(b=~~(b/65536))<1||(a[13]=65535&(b+=a[13]),(b=~~(b/65536))<1||(a[14]=65535&(b+=a[14]),(b=~~(b/65536))<1||(a[15]+=b))))))))))))))))},curve25519_x_to_y2=function(a,b){var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];curve25519_sqrmodp(c,b),curve25519_mulasmall(d,b,486662),curve25519_addmodp(a,c,d),curve25519_addmodp(c,a,curve25519_one()),curve25519_mulmodp(a,c,b)},curve25519_prep=function(a,b,c,d){curve25519_addmodp(a,c,d),curve25519_submodp(b,c,d)},curve25519_dbl=function(a,b,c,d){var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];curve25519_sqrmodp(e,c),curve25519_sqrmodp(f,d),curve25519_submodp(g,e,f),curve25519_mulmodp(a,f,e),curve25519_mulasmall(f,g,121665),curve25519_addmodp(h,f,e),curve25519_mulmodp(b,h,g)},curve25519_keygen=function(a,b){return curve25519_clamp(b),curve25519_(b,curve25519_nine(),a)},curve25519_sign=function(a,b,c,d){for(tmp1=new Int8Array(65),tmp2=new Int8Array(33),i=0;32>i;i++)a[i]=0;for(curve25519_mula_small(a,c,0,b,32,-1),curve25519_mula_small(a,a,0,curve25519_order,32,parseInt((15-a[31])/16)),curve25519_mula32(tmp1,a,d,32,1),curve25519_divmod(tmp2,tmp1,64,curve25519_order,32),w=0,k=0;32>k;k++)a[k]=tmp1[k],w|=a[k];return 0!=w},curve25519_verify=function(a,b,c,e){d=new Int8Array(32),yx=new Array(new Array(16),new Array(16),new Array(16)),yz=new Array(new Array(16),new Array(16),new Array(16));var f=new Array(new Array(16),new Array(16)),g=new Array(new Array(16),new Array(16)),h=new Array(new Array(16),new Array(16),new Array(16)),i=new Array(new Array(16),new Array(16),new Array(16)),j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=[curve25519_nine(),curve25519_convertToShortArray(e)];for(curve25519_x_to_y2(g[0],q[1]),curve25519_sqrtmodp(h[0],g[0]),o=curve25519_isNegative(h[0]),curve25519_addmodp(i[0],g[0],curve25519_39420360()),curve25519_mulmodp(i[1],curve25519_2y(),h[0]),curve25519_submodp(h[o],i[0],i[1]),curve25519_addmodp(h[1-o],i[0],i[1]),g[0]=curve25519_cpy16(q[1]),curve25519_submodp(i[0],g[0],curve25519_nine()),curve25519_sqrmodp(i[1],i[0]),curve25519_invmodp(i[0],i[1],0),curve25519_mulmodp(g[0],h[0],i[0]),curve25519_submodp(g[1],g[0],q[1]),curve25519_submodp(f[0],g[1],curve25519_486671()),curve25519_mulmodp(g[0],h[1],i[0]),curve25519_submodp(g[1],g[0],q[1]),curve25519_submodp(f[1],g[1],curve25519_486671()),n=0;32>n;n++)j=j>>8^255&b[n]^(255&b[n])<<1,k=k>>8^255&c[n]^(255&c[n])<<1,m=~(j^k),l=m&(128&l)>>7^j,l^=m&(1&l)<<1,l^=m&(2&l)<<1,l^=m&(4&l)<<1,l^=m&(8&l)<<1,l^=m&(16&l)<<1,l^=m&(32&l)<<1,l^=m&(64&l)<<1,d[n]=255&l;for(l=(m&(128&l)<<1^j)>>8,yx[0]=curve25519_cpy16(curve25519_one()),yx[1]=curve25519_cpy16(q[l]),yx[2]=curve25519_cpy16(f[0]),yz[0]=curve25519_cpy16(curve25519_zero()),yz[1]=curve25519_cpy16(curve25519_one()),yz[2]=curve25519_cpy16(curve25519_one()),j=0,k=0,n=32;0!=n--;n=n)for(j=j<<8|255&b[n],k=k<<8|255&c[n],l=l<<8|255&d[n],o=8;0!=o--;o=o)p=((j^j>>1)>>o&1)+((k^k>>1)>>o&1),curve25519_prep(h[0],i[0],yx[0],yz[0]),curve25519_prep(h[1],i[1],yx[1],yz[1]),curve25519_prep(h[2],i[2],yx[2],yz[2]),curve25519_dbl(yx[0],yz[0],h[p],i[p]),p=l>>o&2^(l>>o&1)<<1,curve25519_sum(yx[1],yz[1],h[1],i[1],h[p],i[p],q[l>>o&1]),curve25519_sum(yx[2],yz[2],h[2],i[2],h[0],i[0],f[((j^k)>>o&2)>>1]);p=(1&j)+(1&k),curve25519_invmodp(h[0],yz[p],0),curve25519_mulmodp(h[1],yx[p],h[0]);var r=curve25519_convertToByteArray(h[1]);curve25519_fillByteArray(r,a)};var CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=function(){},f=d.Base={extend:function(a){e.prototype=this;var b=new e;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},g=d.WordArray=f.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||i).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;if(a=a.sigBytes,this.clamp(),d%4)for(var e=0;a>e;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;a>e;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-8*(c%4),b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;b>d;d+=4)c.push(4294967296*a.random()|0);return new g.init(c,b)}}),h=c.enc={},i=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;a>d;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16)),c.push((15&e).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new g.init(c,b/2)}},j=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;a>d;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return new g.init(c,b)}},k=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},l=d.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,h=e/(4*f),h=b?a.ceil(h):a.max((0|h)-this._minBufferSize,0);if(b=h*f,e=a.min(4*b,e),b){for(var i=0;b>i;i+=f)this._doProcessBlock(d,i);i=d.splice(0,b),c.sigBytes-=e}return new g.init(i,e)},clone:function(){var a=f.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});d.Hasher=l.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return new m.HMAC.init(a,c).finalize(b)}}});var m=c.algo={};return c}(Math);!function(){var a=CryptoJS,b=a.lib.WordArray;a.enc.Base64={stringify:function(a){var b=a.words,c=a.sigBytes,d=this._map;a.clamp(),a=[];for(var e=0;c>e;e+=3)for(var f=(b[e>>>2]>>>24-8*(e%4)&255)<<16|(b[e+1>>>2]>>>24-8*((e+1)%4)&255)<<8|b[e+2>>>2]>>>24-8*((e+2)%4)&255,g=0;4>g&&c>e+.75*g;g++)a.push(d.charAt(f>>>6*(3-g)&63));if(b=d.charAt(64))for(;a.length%4;)a.push(b);return a.join("")},parse:function(a){var c=a.length,d=this._map,e=d.charAt(64);e&&(e=a.indexOf(e),-1!=e&&(c=e));for(var e=[],f=0,g=0;c>g;g++)if(g%4){var h=d.indexOf(a.charAt(g-1))<<2*(g%4),i=d.indexOf(a.charAt(g))>>>6-2*(g%4);e[f>>>2]|=(h|i)<<24-8*(f%4),f++}return b.create(e,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(a){function b(a,b,c,d,e,f,g){return a=a+(b&c|~b&d)+e+g,(a<<f|a>>>32-f)+b}function c(a,b,c,d,e,f,g){return a=a+(b&d|c&~d)+e+g,(a<<f|a>>>32-f)+b}function d(a,b,c,d,e,f,g){return a=a+(b^c^d)+e+g,(a<<f|a>>>32-f)+b}function e(a,b,c,d,e,f,g){return a=a+(c^(b|~d))+e+g,(a<<f|a>>>32-f)+b}for(var f=CryptoJS,g=f.lib,h=g.WordArray,i=g.Hasher,g=f.algo,j=[],k=0;64>k;k++)j[k]=4294967296*a.abs(a.sin(k+1))|0;g=g.MD5=i.extend({_doReset:function(){this._hash=new h.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(a,f){for(var g=0;16>g;g++){var h=f+g,i=a[h];a[h]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var g=this._hash.words,h=a[f+0],i=a[f+1],k=a[f+2],l=a[f+3],m=a[f+4],n=a[f+5],o=a[f+6],p=a[f+7],q=a[f+8],r=a[f+9],s=a[f+10],t=a[f+11],u=a[f+12],v=a[f+13],w=a[f+14],x=a[f+15],y=g[0],z=g[1],A=g[2],B=g[3],y=b(y,z,A,B,h,7,j[0]),B=b(B,y,z,A,i,12,j[1]),A=b(A,B,y,z,k,17,j[2]),z=b(z,A,B,y,l,22,j[3]),y=b(y,z,A,B,m,7,j[4]),B=b(B,y,z,A,n,12,j[5]),A=b(A,B,y,z,o,17,j[6]),z=b(z,A,B,y,p,22,j[7]),y=b(y,z,A,B,q,7,j[8]),B=b(B,y,z,A,r,12,j[9]),A=b(A,B,y,z,s,17,j[10]),z=b(z,A,B,y,t,22,j[11]),y=b(y,z,A,B,u,7,j[12]),B=b(B,y,z,A,v,12,j[13]),A=b(A,B,y,z,w,17,j[14]),z=b(z,A,B,y,x,22,j[15]),y=c(y,z,A,B,i,5,j[16]),B=c(B,y,z,A,o,9,j[17]),A=c(A,B,y,z,t,14,j[18]),z=c(z,A,B,y,h,20,j[19]),y=c(y,z,A,B,n,5,j[20]),B=c(B,y,z,A,s,9,j[21]),A=c(A,B,y,z,x,14,j[22]),z=c(z,A,B,y,m,20,j[23]),y=c(y,z,A,B,r,5,j[24]),B=c(B,y,z,A,w,9,j[25]),A=c(A,B,y,z,l,14,j[26]),z=c(z,A,B,y,q,20,j[27]),y=c(y,z,A,B,v,5,j[28]),B=c(B,y,z,A,k,9,j[29]),A=c(A,B,y,z,p,14,j[30]),z=c(z,A,B,y,u,20,j[31]),y=d(y,z,A,B,n,4,j[32]),B=d(B,y,z,A,q,11,j[33]),A=d(A,B,y,z,t,16,j[34]),z=d(z,A,B,y,w,23,j[35]),y=d(y,z,A,B,i,4,j[36]),B=d(B,y,z,A,m,11,j[37]),A=d(A,B,y,z,p,16,j[38]),z=d(z,A,B,y,s,23,j[39]),y=d(y,z,A,B,v,4,j[40]),B=d(B,y,z,A,h,11,j[41]),A=d(A,B,y,z,l,16,j[42]),z=d(z,A,B,y,o,23,j[43]),y=d(y,z,A,B,r,4,j[44]),B=d(B,y,z,A,u,11,j[45]),A=d(A,B,y,z,x,16,j[46]),z=d(z,A,B,y,k,23,j[47]),y=e(y,z,A,B,h,6,j[48]),B=e(B,y,z,A,p,10,j[49]),A=e(A,B,y,z,w,15,j[50]),z=e(z,A,B,y,n,21,j[51]),y=e(y,z,A,B,u,6,j[52]),B=e(B,y,z,A,l,10,j[53]),A=e(A,B,y,z,s,15,j[54]),z=e(z,A,B,y,i,21,j[55]),y=e(y,z,A,B,q,6,j[56]),B=e(B,y,z,A,x,10,j[57]),A=e(A,B,y,z,o,15,j[58]),z=e(z,A,B,y,v,21,j[59]),y=e(y,z,A,B,m,6,j[60]),B=e(B,y,z,A,t,10,j[61]),A=e(A,B,y,z,k,15,j[62]),z=e(z,A,B,y,r,21,j[63]);g[0]=g[0]+y|0,g[1]=g[1]+z|0,g[2]=g[2]+A|0,g[3]=g[3]+B|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;c[e>>>5]|=128<<24-e%32;var f=a.floor(d/4294967296);for(c[(e+64>>>9<<4)+15]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),c[(e+64>>>9<<4)+14]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),b.sigBytes=4*(c.length+1),this._process(),b=this._hash,c=b.words,d=0;4>d;d++)e=c[d],c[d]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8);return b},clone:function(){var a=i.clone.call(this);return a._hash=this._hash.clone(),a}}),f.MD5=i._createHelper(g),f.HmacMD5=i._createHmacHelper(g)}(Math),function(){var a=CryptoJS,b=a.lib,c=b.Base,d=b.WordArray,b=a.algo,e=b.EvpKDF=c.extend({cfg:c.extend({keySize:4,hasher:b.MD5,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,b){for(var c=this.cfg,e=c.hasher.create(),f=d.create(),g=f.words,h=c.keySize,c=c.iterations;g.length<h;){i&&e.update(i);var i=e.update(a).finalize(b);e.reset();for(var j=1;c>j;j++)i=e.finalize(i),e.reset();f.concat(i)}return f.sigBytes=4*h,f}});a.EvpKDF=function(a,b,c){return e.create(c).compute(a,b)}}(),CryptoJS.lib.Cipher||function(a){var b=CryptoJS,c=b.lib,d=c.Base,e=c.WordArray,f=c.BufferedBlockAlgorithm,g=b.enc.Base64,h=b.algo.EvpKDF,i=c.Cipher=f.extend({cfg:d.extend(),createEncryptor:function(a,b){return this.create(this._ENC_XFORM_MODE,a,b)},createDecryptor:function(a,b){return this.create(this._DEC_XFORM_MODE,a,b)},init:function(a,b,c){this.cfg=this.cfg.extend(c),this._xformMode=a,this._key=b,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(a){return this._append(a),this._process()},finalize:function(a){return a&&this._append(a),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(a){return{encrypt:function(b,c,d){return("string"==typeof c?o:n).encrypt(a,b,c,d)},decrypt:function(b,c,d){return("string"==typeof c?o:n).decrypt(a,b,c,d)}}}});c.StreamCipher=i.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var j=b.mode={},k=function(b,c,d){var e=this._iv;e?this._iv=a:e=this._prevBlock;for(var f=0;d>f;f++)b[c+f]^=e[f]},l=(c.BlockCipherMode=d.extend({createEncryptor:function(a,b){return this.Encryptor.create(a,b)},createDecryptor:function(a,b){return this.Decryptor.create(a,b)},init:function(a,b){this._cipher=a,this._iv=b}})).extend();l.Encryptor=l.extend({processBlock:function(a,b){var c=this._cipher,d=c.blockSize;k.call(this,a,b,d),c.encryptBlock(a,b),this._prevBlock=a.slice(b,b+d)}}),l.Decryptor=l.extend({processBlock:function(a,b){var c=this._cipher,d=c.blockSize,e=a.slice(b,b+d);c.decryptBlock(a,b),k.call(this,a,b,d),this._prevBlock=e}}),j=j.CBC=l,l=(b.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,f=[],g=0;c>g;g+=4)f.push(d);c=e.create(f,c),a.concat(c)},unpad:function(a){a.sigBytes-=255&a.words[a.sigBytes-1>>>2]}},c.BlockCipher=i.extend({cfg:i.cfg.extend({mode:j,padding:l}),reset:function(){i.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,this,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var m=c.CipherParams=d.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),j=(b.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;return a=a.salt,(a?e.create([1398893684,1701076831]).concat(a).concat(b):b).toString(g)},parse:function(a){a=g.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=e.create(b.slice(2,4));b.splice(0,4),a.sigBytes-=16}return m.create({ciphertext:a,salt:c})}},n=c.SerializableCipher=d.extend({cfg:d.extend({format:j}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var e=a.createEncryptor(c,d);return b=e.finalize(b),e=e.cfg,m.create({ciphertext:b,key:c,iv:e.iv,algorithm:a,mode:e.mode,padding:e.padding,blockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){return d=this.cfg.extend(d),b=this._parse(b,d.format),a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),b=(b.kdf={}).OpenSSL={execute:function(a,b,c,d){return d||(d=e.random(8)),a=h.create({keySize:b+c}).compute(a,d),c=e.create(a.words.slice(b),4*c),a.sigBytes=4*b,m.create({key:a,iv:c,salt:d})}},o=c.PasswordBasedCipher=n.extend({cfg:n.cfg.extend({kdf:b}),encrypt:function(a,b,c,d){return d=this.cfg.extend(d),c=d.kdf.execute(c,a.keySize,a.ivSize),d.iv=c.iv,a=n.encrypt.call(this,a,b,c.key,d),a.mixIn(c),a},decrypt:function(a,b,c,d){return d=this.cfg.extend(d),b=this._parse(b,d.format),c=d.kdf.execute(c,a.keySize,a.ivSize,b.salt),d.iv=c.iv,n.decrypt.call(this,a,b,c.key,d)}})}(),function(){for(var a=CryptoJS,b=a.lib.BlockCipher,c=a.algo,d=[],e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[],n=[],o=0;256>o;o++)n[o]=128>o?o<<1:o<<1^283;for(var p=0,q=0,o=0;256>o;o++){var r=q^q<<1^q<<2^q<<3^q<<4,r=r>>>8^255&r^99;d[p]=r,e[r]=p;var s=n[p],t=n[s],u=n[t],v=257*n[r]^16843008*r;f[p]=v<<24|v>>>8,g[p]=v<<16|v>>>16,h[p]=v<<8|v>>>24,i[p]=v,v=16843009*u^65537*t^257*s^16843008*p,j[r]=v<<24|v>>>8,k[r]=v<<16|v>>>16,l[r]=v<<8|v>>>24,m[r]=v,p?(p=s^n[n[n[u^s]]],q^=n[n[q]]):p=q=1}var w=[0,1,2,4,8,16,32,64,128,27,54],c=c.AES=b.extend({_doReset:function(){for(var a=this._key,b=a.words,c=a.sigBytes/4,a=4*((this._nRounds=c+6)+1),e=this._keySchedule=[],f=0;a>f;f++)if(c>f)e[f]=b[f];else{var g=e[f-1];f%c?c>6&&4==f%c&&(g=d[g>>>24]<<24|d[g>>>16&255]<<16|d[g>>>8&255]<<8|d[255&g]):(g=g<<8|g>>>24,g=d[g>>>24]<<24|d[g>>>16&255]<<16|d[g>>>8&255]<<8|d[255&g],g^=w[f/c|0]<<24),e[f]=e[f-c]^g}for(b=this._invKeySchedule=[],c=0;a>c;c++)f=a-c,g=c%4?e[f]:e[f-4],b[c]=4>c||4>=f?g:j[d[g>>>24]]^k[d[g>>>16&255]]^l[d[g>>>8&255]]^m[d[255&g]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,f,g,h,i,d)},decryptBlock:function(a,b){var c=a[b+1];a[b+1]=a[b+3],a[b+3]=c,this._doCryptBlock(a,b,this._invKeySchedule,j,k,l,m,e),c=a[b+1],a[b+1]=a[b+3],a[b+3]=c},_doCryptBlock:function(a,b,c,d,e,f,g,h){for(var i=this._nRounds,j=a[b]^c[0],k=a[b+1]^c[1],l=a[b+2]^c[2],m=a[b+3]^c[3],n=4,o=1;i>o;o++)var p=d[j>>>24]^e[k>>>16&255]^f[l>>>8&255]^g[255&m]^c[n++],q=d[k>>>24]^e[l>>>16&255]^f[m>>>8&255]^g[255&j]^c[n++],r=d[l>>>24]^e[m>>>16&255]^f[j>>>8&255]^g[255&k]^c[n++],m=d[m>>>24]^e[j>>>16&255]^f[k>>>8&255]^g[255&l]^c[n++],j=p,k=q,l=r;
p=(h[j>>>24]<<24|h[k>>>16&255]<<16|h[l>>>8&255]<<8|h[255&m])^c[n++],q=(h[k>>>24]<<24|h[l>>>16&255]<<16|h[m>>>8&255]<<8|h[255&j])^c[n++],r=(h[l>>>24]<<24|h[m>>>16&255]<<16|h[j>>>8&255]<<8|h[255&k])^c[n++],m=(h[m>>>24]<<24|h[j>>>16&255]<<16|h[k>>>8&255]<<8|h[255&l])^c[n++],a[b]=p,a[b+1]=q,a[b+2]=r,a[b+3]=m},keySize:8});a.AES=b._createHelper(c)}();var CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=function(){},f=d.Base={extend:function(a){e.prototype=this;var b=new e;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},g=d.WordArray=f.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||i).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;if(a=a.sigBytes,this.clamp(),d%4)for(var e=0;a>e;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;a>e;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-8*(c%4),b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;b>d;d+=4)c.push(4294967296*a.random()|0);return new g.init(c,b)}}),h=c.enc={},i=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;a>d;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16)),c.push((15&e).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new g.init(c,b/2)}},j=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;a>d;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return new g.init(c,b)}},k=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},l=d.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,h=e/(4*f),h=b?a.ceil(h):a.max((0|h)-this._minBufferSize,0);if(b=h*f,e=a.min(4*b,e),b){for(var i=0;b>i;i+=f)this._doProcessBlock(d,i);i=d.splice(0,b),c.sigBytes-=e}return new g.init(i,e)},clone:function(){var a=f.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});d.Hasher=l.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return new m.HMAC.init(a,c).finalize(b)}}});var m=c.algo={};return c}(Math);!function(a){for(var b=CryptoJS,c=b.lib,d=c.WordArray,e=c.Hasher,c=b.algo,f=[],g=[],h=function(a){return 4294967296*(a-(0|a))|0},i=2,j=0;64>j;){var k;a:{k=i;for(var l=a.sqrt(k),m=2;l>=m;m++)if(!(k%m)){k=!1;break a}k=!0}k&&(8>j&&(f[j]=h(a.pow(i,.5))),g[j]=h(a.pow(i,1/3)),j++),i++}var n=[],c=c.SHA256=e.extend({_doReset:function(){this._hash=new d.init(f.slice(0))},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],e=c[1],f=c[2],h=c[3],i=c[4],j=c[5],k=c[6],l=c[7],m=0;64>m;m++){if(16>m)n[m]=0|a[b+m];else{var o=n[m-15],p=n[m-2];n[m]=((o<<25|o>>>7)^(o<<14|o>>>18)^o>>>3)+n[m-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+n[m-16]}o=l+((i<<26|i>>>6)^(i<<21|i>>>11)^(i<<7|i>>>25))+(i&j^~i&k)+g[m]+n[m],p=((d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22))+(d&e^d&f^e&f),l=k,k=j,j=i,i=h+o|0,h=f,f=e,e=d,d=o+p|0}c[0]=c[0]+d|0,c[1]=c[1]+e|0,c[2]=c[2]+f|0,c[3]=c[3]+h|0,c[4]=c[4]+i|0,c[5]=c[5]+j|0,c[6]=c[6]+k|0,c[7]=c[7]+l|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;return c[e>>>5]|=128<<24-e%32,c[(e+64>>>9<<4)+14]=a.floor(d/4294967296),c[(e+64>>>9<<4)+15]=d,b.sigBytes=4*c.length,this._process(),this._hash},clone:function(){var a=e.clone.call(this);return a._hash=this._hash.clone(),a}});b.SHA256=e._createHelper(c),b.HmacSHA256=e._createHmacHelper(c)}(Math),function(a,b,c,d,e,f,g,h,i){function j(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=r&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=r&f+1],c=c*d+h[r&(h[f]=h[g=r&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function k(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)try{d.push(k(a[c],b-1))}catch(f){}return d.length?d:"string"==e?a:a+"\x00"}function l(a,b){for(var c,d=a+"",e=0;e<d.length;)b[r&e]=r&(c^=19*b[r&e])+d.charCodeAt(e++);return n(b)}function m(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),n(c)}catch(e){return[+new Date,a,(c=a.navigator)&&c.plugins,a.screen,n(b)]}}function n(a){return String.fromCharCode.apply(0,a)}var o=c.pow(d,e),p=c.pow(2,f),q=2*p,r=d-1,s=c["seed"+i]=function(a,f,g){var h=[],r=l(k(f?[a,n(b)]:null==a?m():a,3),h),s=new j(h);return l(n(s.S),b),(g||function(a,b,d){return d?(c[i]=a,b):a})(function(){for(var a=s.g(e),b=o,c=0;p>a;)a=(a+c)*d,b*=d,c=s.g(1);for(;a>=q;)a/=2,b/=2,c>>>=1;return(a+c)/b},r,this==c)};l(c[i](),b),g&&g.exports?g.exports=s:h&&h.amd&&h(function(){return s})}(this,[],Math,256,6,52,"object"==typeof module&&module,"function"==typeof define&&define,"random"),angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){function e(b){return angular.isString(b)?void a.$watch(b,function(){angular.forEach(g,function(a){a(d.$modelValue)})}):angular.isArray(b)?void angular.forEach(b,function(b){a.$watch(b,function(){angular.forEach(g,function(a){a(d.$modelValue)})})}):void(angular.isObject(b)&&angular.forEach(b,function(b,c){angular.isString(b)&&a.$watch(b,function(){g[c](d.$modelValue)}),angular.isArray(b)&&angular.forEach(b,function(b){a.$watch(b,function(){g[c](d.$modelValue)})})}))}var f,g={},h=a.$eval(c.uiValidate);h&&(angular.isString(h)&&(h={validator:h}),angular.forEach(h,function(b,c){f=function(e){var f=a.$eval(b,{$value:e});return angular.isObject(f)&&angular.isFunction(f.then)?(f.then(function(){d.$setValidity(c,!0)},function(){d.$setValidity(c,!1)}),e):f?(d.$setValidity(c,!0),e):(d.$setValidity(c,!1),e)},g[c]=f,d.$formatters.push(f),d.$parsers.push(f)}),c.uiValidateWatch&&e(a.$eval(c.uiValidateWatch)))}}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(){var b=c(this),g=f.settings;return isNaN(b.datetime)||(0==g.cutoff||Math.abs(e(b.datetime))<g.cutoff)&&a(this).text(d(b.datetime)),this}function c(b){if(b=a(b),!b.data("timeago")){b.data("timeago",{datetime:f.datetime(b)});var c=a.trim(b.text());f.settings.localeTitle?b.attr("title",b.data("timeago").datetime.toLocaleString()):!(c.length>0)||f.isTime(b)&&b.attr("title")||b.attr("title",c)}return b.data("timeago")}function d(a){return f.inWords(e(a))}function e(a){return(new Date).getTime()-a.getTime()}a.timeago=function(b){return d(b instanceof Date?b:"string"==typeof b?a.timeago.parse(b):"number"==typeof b?new Date(b):a.timeago.datetime(b))};var f=a.timeago;a.extend(a.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(b){function c(c,e){var f=a.isFunction(c)?c(e,b):c,g=d.numbers&&d.numbers[e]||e;return f.replace(/%d/i,g)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var d=this.settings.strings,e=d.prefixAgo,f=d.suffixAgo;if(this.settings.allowFuture&&0>b&&(e=d.prefixFromNow,f=d.suffixFromNow),!this.settings.allowPast&&b>=0)return this.settings.strings.inPast;var g=Math.abs(b)/1e3,h=g/60,i=h/60,j=i/24,k=j/365,l=45>g&&c(d.seconds,Math.round(g))||90>g&&c(d.minute,1)||45>h&&c(d.minutes,Math.round(h))||90>h&&c(d.hour,1)||24>i&&c(d.hours,Math.round(i))||42>i&&c(d.day,1)||30>j&&c(d.days,Math.round(j))||45>j&&c(d.month,1)||365>j&&c(d.months,Math.round(j/30))||1.5>k&&c(d.year,1)||c(d.years,Math.round(k)),m=d.wordSeparator||"";return void 0===d.wordSeparator&&(m=" "),a.trim([e,l,f].join(m))},parse:function(b){var c=a.trim(b);return c=c.replace(/\.\d+/,""),c=c.replace(/-/,"/").replace(/-/,"/"),c=c.replace(/T/," ").replace(/Z/," UTC"),c=c.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),c=c.replace(/([\+\-]\d\d)$/," $100"),new Date(c)},datetime:function(b){var c=a(b).attr(f.isTime(b)?"datetime":"title");return f.parse(c)},isTime:function(b){return"time"===a(b).get(0).tagName.toLowerCase()}});var g={init:function(){var c=a.proxy(b,this);c();var d=f.settings;d.refreshMillis>0&&(this._timeagoInterval=setInterval(c,d.refreshMillis))},update:function(c){var d=f.parse(c);a(this).data("timeago",{datetime:d}),f.settings.localeTitle&&a(this).attr("title",d.toLocaleString()),b.apply(this)},updateFromDOM:function(){a(this).data("timeago",{datetime:f.parse(a(this).attr(f.isTime(this)?"datetime":"title"))}),b.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};a.fn.timeago=function(a,b){var c=a?g[a]:g.init;if(!c)throw new Error("Unknown function name '"+a+"' for timeago");return this.each(function(){c.call(this,b)}),this},document.createElement("abbr"),document.createElement("time")}),function(a){"use strict";if(a.URL=a.URL||a.webkitURL,a.Blob&&a.URL)try{return void new Blob}catch(b){}var c=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||function(a){var b=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},c=function(){this.data=[]},d=function(a,b,c){this.data=a,this.size=a.length,this.type=b,this.encoding=c},e=c.prototype,f=d.prototype,g=a.FileReaderSync,h=function(a){this.code=this[this.name=a]},i="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),j=i.length,k=a.URL||a.webkitURL||a,l=k.createObjectURL,m=k.revokeObjectURL,n=k,o=a.btoa,p=a.atob,q=a.ArrayBuffer,r=a.Uint8Array,s=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(d.fake=f.fake=!0;j--;)h.prototype[i[j]]=j+1;return k.createObjectURL||(n=a.URL=function(a){var b,c=document.createElementNS("http://www.w3.org/1999/xhtml","a");return c.href=a,"origin"in c||("data:"===c.protocol.toLowerCase()?c.origin=null:(b=a.match(s),c.origin=b&&b[1])),c}),n.createObjectURL=function(a){var b,c=a.type;return null===c&&(c="application/octet-stream"),a instanceof d?(b="data:"+c,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):o?b+";base64,"+o(a.data):b+","+encodeURIComponent(a.data)):l?l.call(k,a):void 0},n.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&m&&m.call(k,a)},e.append=function(a){var c=this.data;if(r&&(a instanceof q||a instanceof r)){for(var e="",f=new r(a),i=0,j=f.length;j>i;i++)e+=String.fromCharCode(f[i]);c.push(e)}else if("Blob"===b(a)||"File"===b(a)){if(!g)throw new h("NOT_READABLE_ERR");var k=new g;c.push(k.readAsBinaryString(a))}else a instanceof d?"base64"===a.encoding&&p?c.push(p(a.data)):"URI"===a.encoding?c.push(decodeURIComponent(a.data)):"raw"===a.encoding&&c.push(a.data):("string"!=typeof a&&(a+=""),c.push(unescape(encodeURIComponent(a))))},e.getBlob=function(a){return arguments.length||(a=null),new d(this.data.join(""),a,"raw")},e.toString=function(){return"[object BlobBuilder]"},f.slice=function(a,b,c){var e=arguments.length;return 3>e&&(c=null),new d(this.data.slice(a,e>1?b:this.data.length),c,this.encoding)},f.toString=function(){return"[object Blob]"},f.close=function(){this.size=0,delete this.data},c}(a);a.Blob=function(a,b){var d=b?b.type||"":"",e=new c;if(a)for(var f=0,g=a.length;g>f;f++)e.append(a[f]);return e.getBlob(d)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in d,f=function(c){var d=b.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(d)},g=a.webkitRequestFileSystem,h=a.requestFileSystem||g||a.mozRequestFileSystem,i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j="application/octet-stream",k=0,l=10,m=function(b){var d=function(){"string"==typeof b?c().revokeObjectURL(b):b.remove()};a.chrome?d():setTimeout(d,l)},n=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){i(f)}}},o=function(b,i){var l,o,p,q=this,r=b.type,s=!1,t=function(){n(q,"writestart progress write writeend".split(" "))},u=function(){if((s||!l)&&(l=c().createObjectURL(b)),o)o.location.href=l;else{var d=a.open(l,"_blank");void 0==d&&"undefined"!=typeof safari&&(a.location.href=l)}q.readyState=q.DONE,t(),m(l)},v=function(a){return function(){return q.readyState!==q.DONE?a.apply(this,arguments):void 0}},w={create:!0,exclusive:!1};return q.readyState=q.INIT,i||(i="download"),e?(l=c().createObjectURL(b),d.href=l,d.download=i,f(d),q.readyState=q.DONE,t(),void m(l)):(a.chrome&&r&&r!==j&&(p=b.slice||b.webkitSlice,b=p.call(b,0,b.size,j),s=!0),g&&"download"!==i&&(i+=".download"),(r===j||g)&&(o=a),h?(k+=b.size,void h(a.TEMPORARY,k,v(function(a){a.root.getDirectory("saved",w,v(function(a){var c=function(){a.getFile(i,w,v(function(a){a.createWriter(v(function(c){c.onwriteend=function(b){o.location.href=a.toURL(),q.readyState=q.DONE,n(q,"writeend",b),m(a)},c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&u()},"writestart progress write abort".split(" ").forEach(function(a){c["on"+a]=q["on"+a]}),c.write(b),q.abort=function(){c.abort(),q.readyState=q.DONE},q.readyState=q.WRITING}),u)}),u)};a.getFile(i,{create:!1},v(function(a){a.remove(),c()}),v(function(a){a.code===a.NOT_FOUND_ERR?c():u()}))}),u)}),u)):void u())},p=o.prototype,q=function(a,b){return new o(a,b)};return p.abort=function(){var a=this;a.readyState=a.DONE,n(a,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,q}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&null!==module?module.exports=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});var UTILS=function(a){"use strict";a.formatPrice=function(a,b){try{return"string"==typeof a?parseFloat(a).toFixed(b):a.toFixed(b)}catch(c){return"undef"}};var b=0;return a.uniqueID=function(){return b++},a.queryString=function(a){var b=[];for(var c in a)b.push(c+"="+a[c]);return b.join("&")},a.contains=function(a,b){return"object"==typeof a&&null!==a&&b in a},a.formatDate=function(a){function b(a){return 10>a?"0"+a:a}var c=a;return"number"==typeof c&&(c=new Date(c)),b(c.getDate())+"-"+b(c.getMonth())+" "+b(c.getHours())+":"+b(c.getMinutes())+":"+b(c.getSeconds())},a.compareString=function(a,b){var c=a.toLowerCase(),d=b.toLowerCase();return c.name>d.name?1:c.name<d.name?-1:0},a.compareNumber=function(a,b){return a-b},a.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},a.findFirst=function(a,b){for(var c=0;c<a.length;c++)if(b(a[c]))return a[c];return null},a.findFirstPropIndex=function(a,b,c,d){d=d||c;for(var e=0;e<a.length;e++)if(b[c]==a[e][d])return e;return-1},a.removeFirst=function(a,b){for(var c=0;c<a.length;c++)if(b(a[c]))return a.splice(c,1),!0;return!1},a.validateAmount=function(b,c){if(!a.isNumber(b))return{error:"Invalid number"};var d=b.split(".");return d.length>1&&d[1].length>c?{error:"Max decimals ("+c+") exceeded"}:!0},a.each=function(a,b){a.forEach(b)},a}(UTILS||{});!function(){"use strict";"undefined"!=typeof process&&process.on("uncaughtException",function(a){console.log("Caught exception: "+a)});var a=angular.module("fim.base",["ngAnimate","ui.router","ui.bootstrap","ngSanitize","ngTouch","angular-loading-bar","pascalprecht.translate","ngTable","ui.validate"]);a.run(function(a){a.log("fim.base application started")}),a.config(function(a){delete a.defaults.headers.common["X-Requested-With"]})}(),function(){"use strict";var a=angular.module("fim.base");a.value("assets",{NULL:{symbol:".",name:".",decimals:0,max:0},BTC:{symbol:"BTC",name:"Bitcoin",decimals:8,max:21e6},NXT:{symbol:"NXT",name:"Nxt",decimals:8,max:1e9},NAS:{symbol:"NAS",name:"NAS",decimals:8,max:1e9},FIMK:{symbol:"FIMK",name:"FIMKrypto",decimals:8,max:1e9},DGEX:{symbol:"DGEX",name:"DGEX asset",decimals:0,max:1e5}})}(),function(){"use strict";var a=angular.module("fim.base");a.config(function(a){a.preferredLanguage("en"),a.translations("en",{TITLE:"Hello",FOO:"This is a paragraph"}),a.translations("nl",{TITLE:"Hallo",FOO:"Dies ist ein Paragraph"})})}(),function(){"use strict";var a=angular.module("fim.base");a.factory("Setting",function(){var a=null;return{initialize:function(b){return a=b.settings.defineClass({id:String,label:String,value:Object}),a.prototype.save=function(){return b.settings.put(this)},a.prototype.delete=function(){return b.settings.delete(this.id_rs)},a.prototype.update=function(a){return angular.extend(this,a),b.settings.update(this.id,a)},a},get:function(){return a}}})}(),function(){"use strict";var a=angular.module("fim.base");a.factory("Account",function(){var a=null;return{initialize:function(b){return a=b.accounts.defineClass({id:String,id_rs:String,name:String,passphrase:String,guaranteedBalanceNXT:String,balanceNXT:String,effectiveBalanceNXT:String,unconfirmedBalanceNXT:String,forgedBalanceNXT:String,publicKey:String,engine:String,isPublished:Boolean}),a.prototype.formatEngine=function(){return"TYPE_FIM"==this.engine?"FIM accounts":"NXT accounts"},a.prototype.save=function(){return b.accounts.put(this)},a.prototype.delete=function(){return b.accounts.delete(this.id_rs)},a.prototype.update=function(a){return angular.extend(this,a),b.accounts.update(this.id_rs,a)},a},get:function(){return a}}})}(),function(){"use strict";var a=angular.module("fim.base");a.factory("Contact",function(){var a=null;return{initialize:function(b){return a=b.contacts.defineClass({id_rs:String,name:String,email:String,website:String,publicKey:String}),a.prototype.update=function(a){return angular.extend(this,a),b.contacts.update(this.id_rs,a)},a.prototype.save=function(){return b.contacts.put(this)},a.prototype.save=function(){return b.contacts.put(this)},a},get:function(){return a}}})}(),function(){"use strict";var a=angular.module("fim.base");a.factory("Node",function(){var a=null;return{initialize:function(b){return a=b.nodes.defineClass({url:String,port:Number,downloaded:Number,success_timestamp:Number,failed_timestamp:Number,success_status:Number,failed_status:Number,start_timestamp:Number,supports_cors:Boolean,scan_height:Number,onfork:Boolean,version:String,lastBlock:String}),a.prototype.update=function(a){return angular.extend(this,a),b.nodes.update(this.id,a)},a.prototype.save=function(){return b.nodes.put(this)},a.prototype.save=function(){return b.nodes.put(this)},a.prototype.delete=function(){return b.nodes.delete(this.id)},a},get:function(){return a}}})}(),function(){"use strict";var a=angular.module("fim.base");a.filter("money",function(){return function(a,b){var c=parseInt(b||0);return parseFloat(a).toFixed(c).replace(/(\.0+)$/,"")}}),a.directive("money",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){function f(a){var b=parseInt(d.precision||0);return a?parseFloat(a).toFixed(b).replace(/(\.0+)$/,""):""}function g(b){var f=parseInt(d.precision||0),g=new RegExp(0==f?"^\\d+$":"^\\d+(\\.)?(\\d{1,"+f+"})?$"),h=e.$modelValue,i=e.$isEmpty(b)||void 0==b;if(b=i?"0":b,g.test(b))return b;if(0==f&&new RegExp("\\.$").test(b))var j="No decimals places allowed";else var j=new RegExp("^\\d+\\.\\d{9,}$").test(b)?"Only "+f+" decimals allowed":"Allowed format is 12.345";return $(c[0]).popover("destroy"),$(c[0]).popover({html:!1,content:j,placement:"auto top",container:"body"}),$(c[0]).closest(".form-group").addClass("has-error"),$(c[0]).popover("show"),a(function(){$(c[0]).popover("destroy"),$(c[0]).closest(".form-group").removeClass("has-error")},2e3),e.$setViewValue(h),e.$render(),h}e.$parsers.push(g),e.$formatters.push(function(a){return f(a)}),c.bind("blur",function(){var a=e.$modelValue;a&&(e.$viewValue=f(a),e.$render())})}}})}(),function(){var a=angular.module("fim.base");a.factory("startupService",function(a,b,c,d,e,f,g){function h(){o.registerActivity(new k(b.nxt()),function(){d(function(){var a=new l(b.nxt());a.start(j),o.registerActivity(a)})}),o.registerActivity(new k(b.fim()),function(){d(function(){var a=new l(b.fim());a.start(j),o.registerActivity(a)})}),isNodeJS&&(o.registerActivity(new m(b.fim())),o.registerActivity(new m(b.nxt()))),o.registerActivity(new n)}function i(a,b){var c=a.indexOf(b);a.splice(c,1)}function j(a){!a.__complete&&a.isDone()&&(a.__complete=!0,a.oncomplete&&(a.oncomplete.call(),a.oncomplete=null),i(o.activities,a),0==o.activities.length&&o.notifyDone())}function k(a){this.api=a,this.base="Scanning "+a.engine.symbol+" for forks",this.base2="Fine tune "+a.engine.symbol+" nodes",this.total=0,this.scanCount=0,this.index=0,this.nodes=[],this.message=this.base,this.progress=0}function l(a){this.api=a,this.progress=100,this.message="Downloading "+a.engine.symbol+" asset information"}function m(a){this.api=a,this.base="Starting "+a.engine.symbol+" server",this.progress=100,this.message=this.base}function n(){this.base="Loading accounts ",this.progress=100,this.message=this.base}var o={activities:[],deferred:e.defer(),start:function(){angular.forEach(this.activities,function(a){a.start(j)})},notifyDone:function(){console.log("And we are done !!!!"),this.deferred.resolve()},registerActivity:function(a,b){b&&(a.oncomplete=b),this.activities.push(a)}};return k.prototype={isDone:function(){return this.scanCount>=this.nodes.length?(this.markForkedNodes(),!0):!1},start:function(a){this.onSomeWorkDone=a;var b=this;c.nodes.where("port").equals(this.api.engine.port).toArray().then(function(a){d(function(){b.total=a.length});var c=new Iterator(a);b.processNextNode(c)})},processNextNode:function(a){var b=this;if(a.hasMore()){var c=a.next();this.nodes.push(c),c.update({onfork:!1}).then(function(){b.processNextNode(a)},function(){b.processNextNode(a)})}else angular.forEach(this.nodes,function(a){b.startScan(a)})},startScan:function(a){function b(){c.scanCount++,c.scanCount>=c.nodes.length&&d(function(){c.total=c.nodes.length,c.index=0,c.progress=0,c.message=c.base2,c.syncNodes(c.nodes)},500)}var c=this;this.api.getState({},{node:a,priority:4}).then(function(e){a.update({scan_height:e.numberOfBlocks,lastBlock:e.lastBlock,version:e.version}).then(function(){c.index++,d(function(){c.progress=100*c.index/c.total,c.message=c.base+" "+a.url}),b()},b)},function(){c.index++,d(function(){c.progress=100*c.index/c.total,c.message=c.base+" possible fork "+a.url}),b()})},syncNodes:function(a){function b(){var b=a.map(function(a){return a.scan_height}).sort(function(a,b){return a-b}),c=Math.floor((b.length-1)/2);return b.length%2?b[c]:(b[c]+b[c+1])/2}var c=this,d=b(),e=Number.MAX_VALUE;angular.forEach(a,function(a){a.scan_height>d-100&&a.scan_height<e&&(e=a.scan_height)}),c.total=a.length,c.scanCount=0,angular.forEach(a,function(a){c.getBlockId(e,a)})},getBlockId:function(a,b){var c=this;this.api.getBlockId({height:a},{node:b,priority:4}).then(function(e){b.update({scan_height:a,lastBlock:e.block}).then(function(){c.index++,d(function(){c.progress=100*c.index/c.total,c.message=c.base2+" "+b.url}),c.scanCount++,c.onSomeWorkDone(c)},function(){c.scanCount++,c.onSomeWorkDone(c)})},function(){c.index++,d(function(){c.progress=100*c.index/c.total,c.message=c.base2+" weak "+b.url}),c.scanCount++,c.onSomeWorkDone(c)})},markForkedNodes:function(){var a={};angular.forEach(this.nodes,function(b){a[b.scan_height]?a[b.scan_height]+=1:a[b.scan_height]=1});var b=0,d=0;angular.forEach(a,function(a,c){a>d&&(d=a,b=parseInt(c))});var e=this,f=new Iterator(this.nodes);c.transaction("rw",c.nodes,function(){e.markNode(f,b)})},markNode:function(a,b){if(a.hasMore()){var c=this,d=a.next();"number"==typeof d.scan_height&&d.scan_height==b?d.update({onfork:!1}).then(function(){c.markNode(a,b)},function(){c.markNode(a,b)}):d.update({onfork:!0}).then(function(){c.markNode(a,b)},function(){c.markNode(a,b)})}}},l.prototype={isDone:function(){return!0},start:function(a){var b=this;this.api.assets.init().then(function(){a(b)},function(){a(b)})}},m.prototype={isDone:function(){return!0},start:function(a){this.onSomeWorkDone=a,this.onmsg=this.createOnMsg(),f.addListener(this.api.type,"stdout",this.onmsg),f.addListener(this.api.type,"stderr",this.onmsg),f.addListener(this.api.type,"start",this.onmsg),f.addListener(this.api.type,"exit",this.onmsg),f.startServer(this.api.type)},done:function(){f.removeListener(this.api.type,"stdout",this.onmsg),f.removeListener(this.api.type,"stderr",this.onmsg),f.removeListener(this.api.type,"start",this.onmsg),f.removeListener(this.api.type,"exit",this.onmsg),this.onmsg=null,this.onSomeWorkDone(this),this.onSomeWorkDone=null},createOnMsg:function(){var a=this;return function(b){b=b.toString(),-1!=b.indexOf(" started successfully.")?d(function(){a.message=a.api.engine.symbol+" server started successfully",d(function(){a.done()},1e3,!1)}):-1!=b.indexOf("org.h2.jdbc.JdbcSQLException")?(g.failed(a.api.engine.symbol+" Server Database Error"),a.done()):d(function(){a.message=a.api.engine.symbol+" server "+b.replace(/^(.*(INFO|FINE):)/,"")})}}},n.prototype={isDone:function(){return!0},start:function(b){var c=this;a.get("accounts").loadAccounts().then(function(){d(function(){c.message="Success loading accounts",d(function(){b(c)},2e3)},2e3)},function(){d(function(){c.message="Failed loading accounts",d(function(){b(c)},2e3)},2e3)})}},h(),o})}(),function(){"use strict";function a(){if(-1!=navigator.appVersion.indexOf("Win"))return"WIN";if(-1!=navigator.appVersion.indexOf("Mac"))return"MAC";if(-1!=navigator.appVersion.indexOf("X11"))return"LINUX";if(-1!=navigator.appVersion.indexOf("Linux"))return"LINUX";throw new Error("Could not detect OS")}var b={TYPE_NXT:{commands:{WIN:{start:{command:"java",args:["-cp","classes;lib\\*;conf","nxt.Nxt"]}},LINUX:{start:{command:"java",args:["-cp","classes:lib/*:conf","nxt.Nxt"]}},MAC:{start:{command:"java",args:["-cp","classes:lib/*:conf","nxt.Nxt"],extra:"../../../../Resources/"}}},listeners:{stdout:[],stderr:[],exit:[],start:[]},messages:[],server:null},TYPE_FIM:{commands:{WIN:{start:{command:"java",args:["-cp","fim.jar;lib\\*;conf","nxt.Nxt"]}},LINUX:{start:{command:"java",args:["-cp","fim.jar:lib/*:conf","nxt.Nxt"]}},MAC:{start:{command:"java",args:["-cp","fim.jar:lib/*:conf","nxt.Nxt"],extra:"../../../../Resources/"}}},listeners:{stdout:[],stderr:[],exit:[],start:[]},messages:[],server:null}};try{var c="function"==typeof require&&require("child_process")}catch(d){var c=!1}c&&(process.once("SIGTERM",function(){process.exit(0)}),process.once("SIGINT",function(){process.exit(0)}),process.once("exit",function(){try{b.TYPE_NXT.server&&b.TYPE_NXT.server.shutdown()}catch(a){console.log("NodeJS exit - shutdown nxt",a)}try{b.TYPE_FIM.server&&b.TYPE_FIM.server.shutdown()}catch(a){console.log("NodeJS exit - shutdown fim",a)}}),process.once("uncaughtException",function(a){if(0===process.listeners("uncaughtException").length)throw console.log("uncaughtException",a),child.shutdown(),a}));var e=angular.module("fim.base");e.factory("serverService",function(){function d(a,b){for(var c=0;c<a.length;c++)a[c].call(null,b)}return{getDir:function(c){try{var d,e="TYPE_NXT"==c?"nxt":"fim",f=require("path");return d=b[c].commands[a()].start.extra?f.join(f.dirname(process.execPath),b[c].commands[a()].start.extra,e):f.join(f.dirname(process.execPath),e),console.log("serverService-getDir",d),d}catch(g){return console.log("server-service.js getCWD",g),""}},getStartCommand:function(c){return b[c].commands[a()].start},isNodeJS:function(){return c},startServer:function(c){if(this.isRunning(c))throw new Error("Server "+c+" already running");var e=b[c].messages,f=b[c].listeners,g=(require("path"),{cwd:this.getDir(c)}),h=b[c].commands,i=a();d(f.stdout,"Detected Operating System "+i),d(f.stdout,"Starting mofowallet in "+g.cwd);var j=require("child_process").spawn,k=b[c].server=j(h[i].start.command,h[i].start.args,g);k.shutdown=function(){try{this.kill("SIGTERM")}finally{b[c].server=null}},k.onstdout=function(a){e.push(a.toString()),d(f.stdout,a)},k.onstderr=function(a){e.push(a.toString()),d(f.stderr,a)},k.onexit=function(a){e.push("Exit event. code="+a),d(f.exit,a),console.log("Child process terminated with code: "+a)},k.stdout.on("data",k.onstdout),k.stderr.on("data",k.onstderr),k.on("exit",k.onexit),d(f.start,"Starting server")},stopServer:function(a){b[a].server&&(b[a].server.shutdown(),b[a].server=null)},isRunning:function(a){return!!b[a].server},addListener:function(a,c,d){b[a].listeners[c].push(d)},removeListener:function(a,c,d){b[a].listeners[c]=b[a].listeners[c].filter(function(a){return a!=d})},getMessages:function(a){return b[a].messages}}})}(),function(){"use strict";var a=angular.module("fim.base");a.factory("requests",function(a,b,c){function d(b){if(b.hasMore()){var c=b.next();c.state!==c.DESTROYED&&(c.options.node?(c.perform(c.options.node),d(b)):c.provider.getNode2().then(function(a){a&&c.perform(a),d(b)},function(){console.log("ERROR in pulse - getNode"),d(b)}))}else a(e,k,!1)}function e(){var b=Date.now(),c=[],f=0;for(var g in q.theater.podiums)for(var h=q.theater.podiums[g],i=0;i<h.actors.length;i++){var j=h.actors[i];j.state!==j.DESTROYED&&(j.started&&b-j.started>j.options.timeout?j.retry(j.options.node_out)&&f++:b-j.created>j.options.giveup?j.destroy("giveup"):j.state===j.ACTIVE?f++:j.state===j.PENDING&&c.push(j))}for(var m=0;m<q.providers.length;m++)for(var n=q.providers[m].getAllNodes(),i=0;i<n.length;i++){var o=n[i];b-(o.failed_timestamp||0)>l&&(o.blacklisted=!1)}f<q.concurrent?(c.sort(function(a,b){return a.options.priority>b.options.priority?-1:a.options.priority<b.options.priority?1:0}),d(new Iterator(c))):a(e,k,!1)}function f(){this.theater=new g,this.concurrent=6,this.providers=[]}function g(){this.podiums={}}function h(a,b){this.name=a,this.theater=b,this.actors=[]}function i(a,b,c,d){this.builder=a,this.provider=b,this.options=c,this.podium=d,this.state=this.PENDING,this.created=Date.now(),this.retries=0,this.failed=[],this.options.timeout=this.options.timeout||m,this.options.retry_count=this.options.retry_count||n,this.options.giveup=this.options.giveup||o,this.options.priority=this.options.priority||p,this.observers=[]}function j(a,b,c){this.methodName=a,this.methodConfig=b,this.args=c}var k=500,l=6e4,m=5e3,n=10,o=45e3,p=0;a(e,k,!1),f.prototype={createRequestBuilder:function(a,b,c){return new j(a,b,c)
},registerNodeProvider:function(a){-1==this.providers.indexOf(a)&&this.providers.push(a)}},g.prototype={createPodium:function(a,b){a in this.podiums&&(this.podiums[a].destroy(),delete this.podiums[a]);var c=new h(a,this);if(b){var d=this;b.$on("destroy",function(){c.destroy(),c=null,delete d.podiums[a]})}return this.podiums[a]=c},destroy:function(){for(var a in this.podiums)this.podiums[a].destroy(),delete this.podiums[a]}},h.prototype={createActor:function(a,b,c){for(var d=new i(a,b,c,this),e=this.actors.length,f=d.options.priority,g=0;g<this.actors.length;g++)if(this.actors[g].options.priority>f){e=g;break}return this.actors.splice(e,0,d),d},destroy:function(){if(this.theater){for(var a=this.actors.slice(),b=0;b<a.length;b++)a[b].destroy("podium destroyed");delete this.theater.podiums[this.name],this.theater=null,this.actors=null}},removeActor:function(a){var b=this.actors.indexOf(a);this.actors.splice(b,1)}},i.prototype={PENDING:0,ACTIVE:1,DESTROYED:2,addObserver:function(a){this.observers.push(a)},notify:function(a,b){for(var c=0;c<this.observers.length;c++)this.observers[c][a].apply(this.observers[c],b)},perform:function(a){if(this.state!==this.DESTROYED){this.notify(0==this.retries?"start":"retry",[a]),this.http_args=this.builder.build(a),this.http_args.timeout||(this.canceller=b.defer(),this.http_args.timeout=this.canceller.promise),this.options.node_out=a;var d=this;this.state=this.ACTIVE,this.started=Date.now(),c(this.http_args).success(function(b){d.state!==d.DESTROYED&&(d.canceller=null,d.duration=Date.now()-d.started,d.notify("success",[a,b,d.options.retry_count-d.retries-1]),d.destroy("done"))}).error(function(b){d.canceller=null,a.failed_timestamp=Date.now(),a.blacklisted=!0,d.state!==d.DESTROYED&&(d.options.node?(d.duration=Date.now()-d.started,d.notify("failed",[a,b,d.options.retry_count-d.retries-1]),d.destroy("forced node")):d.retry(a))})}},retry:function(a){function b(a){a.provider.getNode2({not:a.failed}).then(function(b){b?(a.retries+=1,a.perform(b)):(a.duration=Date.now()-a.started,a.notify("failed",[b,"",a.options.retry_count-a.retries-1]),a.destroy("no more nodes"))},function(){a.destroy("error could not get node")})}var c=this;return this.retries<this.options.retry_count?(this.failed.push(a),this.canceller?(this.canceller.promise.then(function(){c.canceller=null,b(c)},function(){c.canceller=null,b(c)}),this.canceller.resolve()):b(this),!0):(this.duration=Date.now()-this.started,this.notify("failed",[a,data,this.options.retry_count-this.retries-1]),this.destroy("no retries"),!1)},destroy:function(a){if(this.state!==this.DESTROYED){if(this.state=this.DESTROYED,this.podium&&this.podium.removeActor(this),this.canceller){var b=this;this.canceller.promise.then(function(){b.canceller=null,b.notify("destroy",[a]),delete b.observers},function(){b.canceller=null,b.notify("destroy",[a]),delete b.observers}),this.canceller.resolve()}else this.notify("destroy",[a]),delete this.observers;delete this.options,delete this.podium,delete this.builder,delete this.failed}}},j.prototype={build:function(a){if(this.methodConfig.args.secretPhrase||this.methodConfig.requirePost){var b="";if(Array.isArray(this.args))angular.forEach(this.args,function(a){for(var c in a)b+="&"+c+"="+encodeURIComponent(a[c])});else for(var c in this.args)b+="&"+c+"="+encodeURIComponent(this.args[c]);return{method:"POST",url:this.create_url(a,this.methodName),data:b,headers:{"Content-Type":"application/x-www-form-urlencoded"}}}var d=this.create_url(a,this.methodName);if(Array.isArray(this.args))angular.forEach(this.args,function(a){for(var b in a)d+="&"+b+"="+encodeURIComponent(a[b])});else for(var c in this.args)d+="&"+c+"="+encodeURIComponent(this.args[c]);return{method:"GET",dataType:"json",url:d}},create_url:function(a,b){return[a.url,":",a.port,"/nxt?requestType=",b,"&random=",Math.random()].join("")}};var q=new f;return q})}(),function(){"use strict";var a=angular.module("fim.base");a.factory("nxt",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(a){if(a!=N&&a!=O)throw new Error("Unsupported engine type")}function p(a,b){return function(c){console.log("DB.Error."+a,c),b&&b.reject(c)}}function q(a,b){return function(c){console.log("Net.Error."+a,c),b&&b.reject(c)}}function r(a){o(a),this.type=a}function s(a,b){o(a),this.type=a,this.port=a==N?b?6886:7886:b?6876:7876,this.net=b?"test":"main",this.blockTime=a==N?30:60,this.feeCost=a==N?.1:1,this.symbol=a==N?"FIM":"NXT",this.promise=void 0,this.nodes=[],this.localhost="http://127.0.0.1",this.localHostNode=null,this.can_use_localhost=!1;var c=this.type==O?"nxt":"fim",d=this;this.db={},angular.forEach(["transactions","blocks","assets"],function(a){var e=c+a+(b?"_test":"");d.db[a]=g[e]})}function t(a,b,c){this.requestHandler=a,this.methodName=b,this.deferred=c,this.complete=!1}function u(a){this.engine=a,this.observers=[]}function v(a){this.last=0,this.api=a,this.methods="application|version|nxtversion|time|lastBlock|cumulativeDifficulty|totalEffectiveBalanceNXT|numberOfBlocks|numberOfTransactions|numberOfAccounts|numberOfAssets|numberOfOrders|numberOfTrades|numberOfAliases|numberOfPolls|numberOfVotes|numberOfPeers|numberOfUnlockedAccounts|lastBlockchainFeeder|lastBlockchainFeederHeight|isScanning|availableProcessors|maxMemory|totalMemory|freeMemory".split("|"),this.data={},this.promise=null,this.installMethods(this)}function w(a,b,c){this.api=c,this.state=new v(c),this.lastBlock=null;var d=this;c.engine.db.blocks.orderBy("height").last().then(function(a){d.lastBlock=a})}function x(a,b){this.account=a,this.api=b,this.busy=!1,this.isBackFilling=!1,this.canceller=null,this.startBackfilling()}function y(a){this.api=a,this.assets={}}function z(a){this.api=a,this.keys=[],this.values=[],this.priv={}}function A(a){var b=this;this.api=a,this.TYPE={ALIAS_NAME:"ALIAS_NAME",ALIAS_URI:"ALIAS_URI",ASSET_NAME:"ASSET_NAME",ASSET_ID:"ASSET_ID",ACCOUNT:"ACCOUNT",ACCOUNT_NAME:"ACCOUNT_NAME",ASK_ORDER:"ASK_ORDER",BID_ORDER:"BID_ORDER",GOODS:"GOODS",GOODS_NAME:"GOODS_NAME",PURCHASE:"PURCHASE",NS_ALIAS_NAME:"NS_ALIAS_NAME",POLL_NAME:"POLL_NAME",POLL_ID:"POLL_ID",TEXT:"TEXT",DESCRIPTION:"DESCRIPTION",ATTACHMENT:"ATTACHMENT",TAGS:"TAGS",DELIVERY_DEADLINE:"DELIVERY_DEADLINE",JSON:"JSON"},this.CONSTANTS={0:{0:{label:"Payment",icon:"fa fa-money",clazz:"warning"}},1:{0:{label:"Message",icon:"fa fa-envelope-o",clazz:"info"},1:{label:"Alias",icon:"fa fa-cloud",clazz:"success"},2:{label:"Create",icon:"fa fa-question",clazz:"info"},3:{label:"Cast",icon:"fa fa-exclamation",clazz:"info"},4:{label:"Hub",icon:"fa fa-bullhorn",clazz:"info"},5:{label:"Account",icon:"fa fa-cogs",clazz:"danger"},6:{label:"Sell",icon:"fa fa-cloud-upload",clazz:"success"},7:{label:"Buy",icon:"fa fa-cloud-download",clazz:"success"}},2:{0:{label:"Issue",icon:"fa fa-area-chart",clazz:"success"},1:{label:"Transfer",icon:"fa fa-paper-plane-o",clazz:"success"},2:{label:"Ask",icon:"fa fa-thumbs-o-down",clazz:"primary"},3:{label:"Bid",icon:"fa fa-thumbs-o-up",clazz:"primary"},4:{label:"Cancel",icon:"fa fa-thumbs-down",clazz:"danger"},5:{label:"Cancel",icon:"fa fa-thumbs-up",clazz:"danger"}},3:{0:{label:"DGS List",icon:"fa fa-shopping-cart",clazz:"success"},1:{label:"DGS Delist",icon:"fa fa-shopping-cart",clazz:"danger"},2:{label:"DGS Change",icon:"fa fa-sliders",clazz:"info"},3:{label:"DGS Change",icon:"fa fa-sliders",clazz:"info"},4:{label:"Purchase",icon:"fa fa-shopping-cart",clazz:"primary"},5:{label:"Delivery",icon:"fa fa-truck",clazz:"success"},6:{label:"Feedback",icon:"fa fa-comment-o",clazz:"info"},7:{label:"Refund",icon:"fa fa-meh-o",clazz:"danger"}},4:{0:{label:"Lease Balance",icon:"fa fa-rocket"}},40:{0:{label:"Private Alias",icon:"fa fa-cubes"}}},this.templates={},angular.forEach(this.TYPE,function(a){b.templates[a]=['<a href data-engine="',b.api.type,'" data-type="',a,'" data-value="__VALUE__" class="txn txn-',a,'" onclick="event.preventDefault(); if (angular.element(this).scope().onTransactionIdentifierClick) { angular.element(this).scope().onTransactionIdentifierClick(this) }" ','onmouseover="if (angular.element(this).scope().onTransactionIdentifierMouseOver) { angular.element(this).scope().onTransactionIdentifierMouseOver(this) }" ','onmouseleave="if (angular.element(this).scope().onTransactionIdentifierMouseLeave) { angular.element(this).scope().onTransactionIdentifierMouseLeave(this) }">__LABEL__</a>'].join("")})}function B(){var a=new Error,b=a.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@").split("\n");return b[2]}function C(a,b){o(a),this.installMethods(this),this.type=a,this.test=b,this.downloaders={},this.engine=new s(a,b),this.secretPhraseProvider=new r(a),this.requestHandler=new u(this.engine),this.blockchain=new w(a,b,this),this.crypto=new F(a,this),this.assets=new y(this),this.renderer=new A(this),this.decoder=new z(this),n.registerNodeProvider(this.engine),function(a){setInterval(function(){a.getNewBlocks()},1e4),setTimeout(function(){a.getNewBlocks()},100)}(this.blockchain)}function D(a,b){return P.api[a].blockchain.getHeight()>b}function E(a,b,c,d,e,f){o(e);var g={},h=converters.hexStringToByteArray(a);g.type=h[0],D(e,f.DIGITAL_GOODS_STORE_BLOCK)?(g.version=(240&h[1])>>4,g.subtype=15&h[1]):g.subtype=h[1],g.timestamp=String(converters.byteArrayToSignedInt32(h,2)),g.deadline=String(converters.byteArrayToSignedShort(h,6)),e==N?(g.recipient=String(converters.byteArrayToBigInteger(h,8)),g.publicKey=converters.byteArrayToHexString(h.slice(16,48))):(g.publicKey=converters.byteArrayToHexString(h.slice(8,40)),g.recipient=String(converters.byteArrayToBigInteger(h,40))),g.amountNQT=String(converters.byteArrayToBigInteger(h,48)),g.feeNQT=String(converters.byteArrayToBigInteger(h,56));var i=h.slice(64,96);if(g.referencedTransactionFullHash=converters.byteArrayToHexString(i),"0000000000000000000000000000000000000000000000000000000000000000"==g.referencedTransactionFullHash&&(g.referencedTransactionFullHash=""),g.flags=0,g.version>0&&(g.flags=converters.byteArrayToSignedInt32(h,160),g.ecBlockHeight=String(converters.byteArrayToSignedInt32(h,164)),g.ecBlockId=String(converters.byteArrayToBigInteger(h,168))),"amountNQT"in d||(d.amountNQT="0"),"recipient"in d||(d.recipient="1739068987193023818",d.recipientRS=e==N?"FIM-MRCC-2YLS-8M54-3CMAJ":"NXT-MRCC-2YLS-8M54-3CMAJ"),g.publicKey!=d.publicKey)return console.log("verifyAndSignTransactionBytes.failed | transaction.publicKey != data.publicKey",g,d),!1;if(g.deadline!==d.deadline)return console.log("verifyAndSignTransactionBytes.failed | transaction.deadline !== data.deadline",g,d),!1;if(g.recipient!==d.recipient&&("1739068987193023818"!=d.recipient||"0"!=g.recipient))return console.log("verifyAndSignTransactionBytes.failed | transaction.recipient !== data.recipient",g,d),!1;if(g.amountNQT!==d.amountNQT||g.feeNQT!==d.feeNQT)return console.log("verifyAndSignTransactionBytes.failed | transaction.amountNQT !== data.amountNQT || transaction.feeNQT !== data.feeNQT",g,d),!1;if("referencedTransactionFullHash"in d){if(g.referencedTransactionFullHash!==d.referencedTransactionFullHash)return console.log("verifyAndSignTransactionBytes.failed | transaction.referencedTransactionFullHash !== data.referencedTransactionFullHash",g,d),!1}else if(""!==g.referencedTransactionFullHash)return console.log('verifyAndSignTransactionBytes.failed | transaction.referencedTransactionFullHash !== ""',g,d),!1;if(g.version>0)if("sendMoney"==c||"sendMessage"==c)var j=176;else var j=177;else var j=160;switch(c){case"sendMoney":if(0!==g.type||0!==g.subtype)return console.log("verifyAndSignTransactionBytes.failed | transaction.type !== 0 || transaction.subtype !== 0",g),!1;break;case"sendMessage":if(1!==g.type||0!==g.subtype)return!1;if(!D(e,f.DIGITAL_GOODS_STORE_BLOCK)){var k=String(converters.byteArrayToSignedInt32(h,j));j+=4;var l=h.slice(j,j+k);if(g.message=converters.byteArrayToHexString(l),g.message!==d.message)return!1}break;case"setAlias":if(1!==g.type||1!==g.subtype)return!1;var m=parseInt(h[j],10);j++,g.aliasName=converters.byteArrayToString(h,j,m),j+=m;var n=converters.byteArrayToSignedShort(h,j);if(j+=2,g.aliasURI=converters.byteArrayToString(h,j,n),j+=n,g.aliasName!==d.aliasName||g.aliasURI!==d.aliasURI)return!1;break;case"setNamespacedAlias":if(40!==g.type||0!==g.subtype)return!1;var m=parseInt(h[j],10);j++,g.aliasName=converters.byteArrayToString(h,j,m),j+=m;var n=converters.byteArrayToSignedShort(h,j);if(j+=2,g.aliasURI=converters.byteArrayToString(h,j,n),j+=n,g.aliasName!==d.aliasName||g.aliasURI!==d.aliasURI)return!1;break;case"createPoll":if(1!==g.type||2!==g.subtype)return!1;var p=converters.byteArrayToSignedShort(h,j);j+=2,g.name=converters.byteArrayToString(h,j,p),j+=p;var q=converters.byteArrayToSignedShort(h,j);j+=2,g.description=converters.byteArrayToString(h,j,q),j+=q;var r=h[j];j++;for(var s=0;r>s;s++){var t=converters.byteArrayToSignedShort(h,j);j+=2,g["option"+s]=converters.byteArrayToString(h,j,t),j+=t}if(g.minNumberOfOptions=String(h[j]),j++,g.maxNumberOfOptions=String(h[j]),j++,g.optionsAreBinary=String(h[j]),j++,g.name!==d.name||g.description!==d.description||g.minNumberOfOptions!==d.minNumberOfOptions||g.maxNumberOfOptions!==d.maxNumberOfOptions||g.optionsAreBinary!==d.optionsAreBinary)return!1;for(var s=0;r>s;s++)if(g["option"+s]!==d["option"+s])return!1;if("option"+s in d)return!1;break;case"castVote":if(1!==g.type||3!==g.subtype)return!1;g.poll=String(converters.byteArrayToBigInteger(h,j)),j+=8;var u=h[j];j++,g.votes=[];for(var s=0;u>s;s++)g.votes.push(h[j]),j++;return!1;case"hubAnnouncement":if(1!==g.type||4!=g.subtype)return!1;{String(converters.byteArrayToBigInteger(h,j))}j+=8;var v=parseInt(h[j],10);j++;for(var w=[],s=0;v>s;s++){var n=parseInt(h[j],10);j++,w[s]=converters.byteArrayToString(h,j,n),j+=n}return!1;case"setAccountInfo":if(1!==g.type||5!=g.subtype)return!1;var p=parseInt(h[j],10);j++,g.name=converters.byteArrayToString(h,j,p),j+=p;var q=converters.byteArrayToSignedShort(h,j);if(j+=2,g.description=converters.byteArrayToString(h,j,q),j+=q,g.name!==d.name||g.description!==d.description)return!1;break;case"sellAlias":if(1!==g.type||6!==g.subtype)return!1;var m=parseInt(h[j],10);if(j++,g.alias=converters.byteArrayToString(h,j,m),j+=m,g.priceNQT=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.alias!==d.aliasName||g.priceNQT!==d.priceNQT)return!1;break;case"buyAlias":if(1!==g.type&&7!==g.subtype)return!1;var m=parseInt(h[j],10);if(j++,g.alias=converters.byteArrayToString(h,j,m),j+=m,g.alias!==d.aliasName)return!1;break;case"issueAsset":if(2!==g.type||0!==g.subtype)return!1;var p=h[j];j++,g.name=converters.byteArrayToString(h,j,p),j+=p;var q=converters.byteArrayToSignedShort(h,j);if(j+=2,g.description=converters.byteArrayToString(h,j,q),j+=q,g.quantityQNT=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.decimals=h[j],j++,g.name!==d.name||g.description!==d.description||g.quantityQNT!==d.quantityQNT||g.decimals!==d.decimals)return!1;break;case"transferAsset":if(2!==g.type||1!==g.subtype)return!1;if(g.asset=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.quantityQNT=String(converters.byteArrayToBigInteger(h,j)),j+=8,!D(e,f.DIGITAL_GOODS_STORE_BLOCK)){var x=converters.byteArrayToSignedShort(h,j);if(j+=2,g.comment=converters.byteArrayToString(h,j,x),g.comment!==d.comment)return!1}if(g.asset!==d.asset||g.quantityQNT!==d.quantityQNT)return!1;break;case"placeAskOrder":case"placeBidOrder":if(2!==g.type)return!1;if("placeAskOrder"==c&&2!==g.subtype)return!1;if("placeBidOrder"==c&&3!==g.subtype)return!1;if(g.asset=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.quantityQNT=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.priceNQT=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.asset!==d.asset||g.quantityQNT!==d.quantityQNT||g.priceNQT!==d.priceNQT)return!1;break;case"cancelAskOrder":case"cancelBidOrder":if(2!==g.type)return!1;if("cancelAskOrder"==c&&4!==g.subtype)return!1;if("cancelBidOrder"==c&&5!==g.subtype)return!1;if(g.order=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.order!==d.order)return!1;break;case"dgsListing":if(3!==g.type&&0!=g.subtype)return!1;var p=converters.byteArrayToSignedShort(h,j);j+=2,g.name=converters.byteArrayToString(h,j,p),j+=p;var q=converters.byteArrayToSignedShort(h,j);j+=2,g.description=converters.byteArrayToString(h,j,q),j+=q;var y=converters.byteArrayToSignedShort(h,j);if(j+=2,g.tags=converters.byteArrayToString(h,j,y),j+=y,g.quantity=String(converters.byteArrayToSignedInt32(h,j)),j+=4,g.priceNQT=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.name!==d.name||g.description!==d.description||g.tags!==d.tags||g.quantity!==d.quantity||g.priceNQT!==d.priceNQT)return!1;break;case"dgsDelisting":if(3!==g.type&&1!==g.subtype)return!1;if(g.goods=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.goods!==d.goods)return!1;break;case"dgsPriceChange":if(3!==g.type&&2!==g.subtype)return!1;if(g.goods=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.priceNQT=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.goods!==d.goods||g.priceNQT!==d.priceNQT)return!1;break;case"dgsQuantityChange":if(3!==g.type&&3!==g.subtype)return!1;if(g.goods=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.deltaQuantity=String(converters.byteArrayToSignedInt32(h,j)),j+=4,g.goods!==d.goods||g.deltaQuantity!==d.deltaQuantity)return!1;break;case"dgsPurchase":if(3!==g.type&&4!==g.subtype)return!1;if(g.goods=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.quantity=String(converters.byteArrayToSignedInt32(h,j)),j+=4,g.priceNQT=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.deliveryDeadlineTimestamp=String(converters.byteArrayToSignedInt32(h,j)),j+=4,g.goods!==d.goods||g.quantity!==d.quantity||g.priceNQT!==d.priceNQT||g.deliveryDeadlineTimestamp!==d.deliveryDeadlineTimestamp)return!1;break;case"dgsDelivery":if(3!==g.type&&5!==g.subtype)return!1;g.purchase=String(converters.byteArrayToBigInteger(h,j)),j+=8;var z=converters.byteArrayToSignedShort(h,j),A=converters.byteArrayToSignedInt32(h,j);g.goodsIsText=0>A,0>A&&(A&=2147483647),j+=4,g.goodsData=converters.byteArrayToHexString(h.slice(j,j+z)),j+=z,g.goodsNonce=converters.byteArrayToHexString(h.slice(j,j+32)),j+=32,g.discountNQT=String(converters.byteArrayToBigInteger(h,j)),j+=8;var B=g.goodsIsText?"true":"false";if(B!=d.goodsIsText)return!1;if(g.purchase!==d.purchase||g.goodsData!==d.goodsData||g.goodsNonce!==d.goodsNonce||g.discountNQT!==d.discountNQT)return!1;break;case"dgsFeedback":if(3!==g.type&&6!==g.subtype)return!1;if(g.purchase=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.purchase!==d.purchase)return!1;break;case"dgsRefund":if(3!==g.type&&7!==g.subtype)return!1;if(g.purchase=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.refundNQT=String(converters.byteArrayToBigInteger(h,j)),j+=8,g.purchase!==d.purchase||g.refundNQT!==d.refundNQT)return!1;break;case"leaseBalance":if(4!==g.type&&0!==g.subtype)return!1;if(g.period=String(converters.byteArrayToSignedShort(h,j)),j+=2,g.period!==d.period)return!1;break;default:return!1}if(D(e,f.DIGITAL_GOODS_STORE_BLOCK)){var C=1;if(0!=(g.flags&C)||"sendMessage"==c&&d.message){{h[j]}j++;var k=converters.byteArrayToSignedInt32(h,j);if(g.messageIsText=0>k,0>k&&(k&=2147483647),j+=4,g.messageIsText)g.message=converters.byteArrayToString(h,j,k);else{var l=h.slice(j,j+k);g.message=converters.byteArrayToHexString(l)}j+=k;var E=g.messageIsText?"true":"false";if(E!=d.messageIsText)return!1;if(g.message!==d.message)return!1}else if(d.message)return!1;if(C<<=1,0!=(g.flags&C)){{h[j]}j++;var F=converters.byteArrayToSignedInt32(h,j);g.messageToEncryptIsText=0>F,0>F&&(F&=2147483647),j+=4,g.encryptedMessageData=converters.byteArrayToHexString(h.slice(j,j+F)),j+=F,g.encryptedMessageNonce=converters.byteArrayToHexString(h.slice(j,j+32)),j+=32;var G=g.messageToEncryptIsText?"true":"false";if(G!=d.messageToEncryptIsText)return!1;if(g.encryptedMessageData!==d.encryptedMessageData||g.encryptedMessageNonce!==d.encryptedMessageNonce)return!1}else if(d.encryptedMessageData)return!1;if(C<<=1,0!=(g.flags&C)){{h[j]}j++;var H=converters.byteArrayToHexString(h.slice(j,j+32));if(H!=d.recipientPublicKey)return!1;j+=32}else if(d.recipientPublicKey)return!1;if(C<<=1,0!=(g.flags&C)){{h[j]}j++;var I=converters.byteArrayToSignedInt32(h,j);g.messageToEncryptToSelfIsText=0>I,0>I&&(I&=2147483647),j+=4,g.encryptToSelfMessageData=converters.byteArrayToHexString(h.slice(j,j+I)),j+=I,g.encryptToSelfMessageNonce=converters.byteArrayToHexString(h.slice(j,j+32)),j+=32;var J=g.messageToEncryptToSelfIsText?"true":"false";if(J!=d.messageToEncryptToSelfIsText)return!1;if(g.encryptToSelfMessageData!==d.encryptToSelfMessageData||g.encryptToSelfMessageNonce!==d.encryptToSelfMessageNonce)return!1}else if(d.encryptToSelfMessageData)return!1}return a.substr(0,192)+b+a.substr(320)}function F(a,b){function d(a,b){return converters.shortArrayToByteArray(curve25519_(converters.byteArrayToShortArray(a),converters.byteArrayToShortArray(b),null))}function e(a){return o.init(),o.update(a),o.getBytes()}function g(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0}function h(a){return a[0]&=65528,a[15]&=32767,a[15]|=16384,a}function i(a){for(var b,c,d=new BigInteger("0",10),e=a.length-1;e>=0;e--)b=d.multiply(new BigInteger("256",10)),c=b.add(new BigInteger(a[e].toString(10),10)),d=c;return d}function j(a,b){if(!window.crypto&&!window.msCrypto)throw new Error("FIX ME !! Should use mouse initiated seed!!!");var c=converters.byteArrayToWordArray(a);if(b.sharedKey)var e=b.sharedKey.slice(0);else var e=d(b.privateKey,b.publicKey);for(var f=0;32>f;f++)e[f]^=b.nonce[f];var g=CryptoJS.SHA256(converters.byteArrayToWordArray(e)),h=new Uint8Array(16);window.crypto?window.crypto.getRandomValues(h):window.msCrypto.getRandomValues(h);var i=converters.byteArrayToWordArray(h),j=CryptoJS.AES.encrypt(c,g,{iv:i}),k=converters.wordArrayToByteArray(j.iv),l=converters.wordArrayToByteArray(j.ciphertext);return k.concat(l)}function k(a,b){if(a.length<16||a.length%16!=0)throw{name:"invalid ciphertext"};var c=converters.byteArrayToWordArray(a.slice(0,16)),e=converters.byteArrayToWordArray(a.slice(16));if(b.sharedKey)var f=b.sharedKey.slice(0);else var f=d(b.privateKey,b.publicKey);for(var g=0;32>g;g++)f[g]^=b.nonce[g];var h=CryptoJS.SHA256(converters.byteArrayToWordArray(f)),i=CryptoJS.lib.CipherParams.create({ciphertext:e,iv:c,key:h}),j=CryptoJS.AES.decrypt(i,h,{iv:c}),k=converters.wordArrayToByteArray(j);return k}function l(a,b){if(!window.crypto&&!window.msCrypto)throw{errorCode:-1,message:$.t("error_encryption_browser_support")};b.sharedKey||(b.sharedKey=d(b.privateKey,b.publicKey));var c=pako.gzip(new Uint8Array(a));b.nonce=new Uint8Array(32),window.crypto?window.crypto.getRandomValues(b.nonce):window.msCrypto.getRandomValues(b.nonce);var e=j(c,b);return{nonce:b.nonce,data:e}}function m(a,b){b.sharedKey||(b.sharedKey=d(b.privateKey,b.publicKey));var c=k(a,b),e=new Uint8Array(c),a=pako.inflate(e);return converters.byteArrayToString(a)}var n={},o={init:SHA256_init,update:SHA256_write,getBytes:SHA256_finalize};this.secretPhraseToPublicKey=function(a){var b=converters.stringToHexString(a),c=converters.hexStringToByteArray(b),d=e(c);return converters.byteArrayToHexString(curve25519.keygen(d).p)},this.getAccountPublicKey=function(a){var d=c.defer();return b.getAccountPublicKey({account:a}).then(function(a){d.resolve(a.publicKey)}).catch(f.catch("Could not get publickey")),d.promise},this.getPrivateKey=function(a){return SHA256_init(),SHA256_write(converters.stringToByteArray(a)),converters.shortArrayToHexString(h(converters.byteArrayToShortArray(SHA256_finalize())))},this.getAccountId=function(a,b){var c=this.secretPhraseToPublicKey(a);return this.getAccountIdFromPublicKey(c,b)},this.getAccountIdFromPublicKey=function(a,c){o.init(),o.update(converters.hexStringToByteArray(a));var d=o.getBytes(),e=converters.hexStringToByteArray(converters.byteArrayToHexString(d)).slice(0,8),f=i(e).toString();if(c){var g=b.createAddress();return g.set(f)?g.toString():""}return f},this.getSharedKeyWithAccount=function(a,b){var e=c.defer();if(a in n)e.resolve(n[a]);else{var f=converters.hexStringToByteArray(this.getPrivateKey(b));this.getAccountPublicKey(a).then(function(b){var c=converters.hexStringToByteArray(b),g=d(f,c),h=Object.keys(n);h.length>50&&delete n[h[0]],e.response(n[a]=g)})}return e.promise()},this.getSharedKey=d,this.signBytes=function(a,b){var c=converters.hexStringToByteArray(a),d=converters.hexStringToByteArray(b),f=e(d),g=curve25519.keygen(f).s,h=e(c);o.init(),o.update(h),o.update(g);var i=o.getBytes(),j=curve25519.keygen(i).p;o.init(),o.update(h),o.update(j);var k=o.getBytes(),l=curve25519.sign(k,i,g);return converters.byteArrayToHexString(l.concat(k))},this.verifyBytes=function(a,b,c){var d=converters.hexStringToByteArray(a),f=converters.hexStringToByteArray(b),h=converters.hexStringToByteArray(c),i=d.slice(0,32),j=d.slice(32),k=curve25519.verify(i,j,h),l=e(f);o.init(),o.update(l),o.update(k);var m=o.getBytes();return g(j,m)},this.decryptData=m,this.encryptNote=function(a,b,c){if(!b.sharedKey){if(b.privateKey||(b.privateKey=converters.hexStringToByteArray(this.getPrivateKey(c))),!b.publicKey)throw new Error("Missing publicKey argument");"string"==typeof b.publicKey&&(b.publicKey=converters.hexStringToByteArray(b.publicKey))}var d=l(converters.stringToByteArray(a),b);return{message:converters.byteArrayToHexString(d.data),nonce:converters.byteArrayToHexString(d.nonce)}}}var G=Number.MAX_VALUE,H=Number.MAX_VALUE,I=Number.MAX_VALUE,J=Number.MAX_VALUE,K=function(){return I},L=function(){return J},M=0;h.initialize([{id:"nxt.request.failed.retries",value:10,type:Number,label:"Failed request retry count",resolve:function(a){M=a}},{id:"nxt.http.timeout.short",value:5e3,type:Number,label:"HTTP timeout short",resolve:function(a){I=a}},{id:"nxt.http.timeout.long",value:15e3,type:Number,label:"HTTP timeout long",resolve:function(a){J=a}},{id:"nxt.blacklist.milliseconds",value:15e3,type:Number,label:"Blacklist timeout",resolve:function(a){G=a}},{id:"nxt.blockchain.status.milliseconds",value:15e3,type:Number,label:"Blockchain status interval",resolve:function(a){H=a}},{id:"nxt.localhost",value:"http://127.0.0.1",type:String,label:"localhost",resolve:function(a){P.nxt().engine.localhost=a}},{id:"fim.localhost",value:"http://127.0.0.1",type:String,label:"localhost",resolve:function(a){P.fim().engine.localhost=a}}]);var N="TYPE_FIM",O="TYPE_NXT",P={TYPE_FIM:N,TYPE_NXT:O,api:{},nxt:function(){return this.api[O]||(this.api[O]=new C(O,!1))},fim:function(){return this.api[N]||(this.api[N]=new C(N,!1))},get:function(a){return a==O||0==a.indexOf("NXT-")?this.nxt():a==N||0==a.indexOf("FIM-")?this.fim():void console.log("Could not determine engine",a)},crypto:function(a){return a==O||0==a.indexOf("NXT-")?this.nxt().crypto:a==N||0==a.indexOf("FIM-")?this.fim().crypto:void console.log("Could not determine engine",a)}},Q=(c.defer(),{getAccountTransactions:{args:{account:{type:String,required:!0},timestamp:{type:Number},type:{type:Number},subtype:{type:Number},firstIndex:{type:Number},lastIndex:{type:Number}},returns:{property:"transactions"},supports_batch:!0,timeout:K},getAccountTransactionIds:{args:{account:{type:String,required:!0},timestamp:{type:Number},type:{type:Number},subtype:{type:Number},firstIndex:{type:Number},lastIndex:{type:Number}},returns:{property:"transactionIds"},supports_batch:!0,timeout:K},getUnconfirmedTransactions:{args:{account:{type:String,required:!0}},returns:{property:"unconfirmedTransactions"},supports_batch:!0,timeout:K},getBalance:{args:{account:{type:String,required:!0}},supports_batch:!0,timeout:K},getAccount:{args:{account:{type:String,required:!0}},supports_batch:!0,timeout:K},startForging:{args:{secretPhrase:{type:String,required:!0},sender:{type:String,argument:!1}},timeout:L},stopForging:{args:{secretPhrase:{type:String,required:!0},sender:{type:String,argument:!1}},timeout:L},getForging:{args:{secretPhrase:{type:String,required:!0},sender:{type:String,argument:!1}},timeout:L},sendMoney:{args:{sender:{type:String,argument:!1},senderRS:{type:String,argument:!1},engine:{type:String,argument:!1},publicKey:{type:String},secretPhrase:{type:String},recipient:{type:String},recipientRS:{type:String},recipientPublicKey:{type:String},message:{type:String},messageIsText:{type:String},amountNQT:{type:String,required:!0},feeNQT:{type:String,required:!0},deadline:{type:String,required:!0},encryptedMessageData:{type:String},encryptedMessageNonce:{type:String},messageToEncrypt:{type:String},messageToEncryptIsText:{type:String},encryptToSelfMessageData:{type:String},encryptToSelfMessageNonce:{type:String},messageToEncryptToSelf:{type:String},messageToEncryptToSelfIsText:{type:String},note_to_self:{type:Boolean,argument:!1},encrypt_message:{type:Boolean,argument:!1},public_message:{type:Boolean,argument:!1}},timeout:L},sendMessage:{args:{sender:{type:String,argument:!1},senderRS:{type:String,argument:!1},engine:{type:String,argument:!1},publicKey:{type:String},secretPhrase:{type:String},recipient:{type:String},recipientRS:{type:String},recipientPublicKey:{type:String},message:{type:String},messageIsText:{type:String},feeNQT:{type:String,required:!0},deadline:{type:String,required:!0},encryptedMessageData:{type:String},encryptedMessageNonce:{type:String},messageToEncrypt:{type:String},messageToEncryptIsText:{type:String},encryptToSelfMessageData:{type:String},encryptToSelfMessageNonce:{type:String},messageToEncryptToSelf:{type:String},messageToEncryptToSelfIsText:{type:String},note_to_self:{type:Boolean,argument:!1},encrypt_message:{type:Boolean,argument:!1},public_message:{type:Boolean,argument:!1}},timeout:L},getAccountPublicKey:{args:{account:{type:String,required:!0}},supports_batch:!0,timeout:K},broadcastTransaction:{args:{transactionBytes:{type:String,required:!0}},requirePost:!0,timeout:L},getState:{args:{caller:{type:String,argument:!1}},supports_batch:!0,timeout:K},getBlock:{args:{block:{type:String,required:!0}},supports_batch:!0,timeout:K},getBlockId:{args:{height:{type:Number,required:!0}},supports_batch:!0,timeout:K},getAlias:{args:{alias:{type:String},aliasName:{type:String}},supports_batch:!0,timeout:K},setAlias:{args:{sender:{type:String,argument:!1},publicKey:{type:String},deadline:{type:String,required:!0},feeNQT:{type:String,required:!0},secretPhrase:{type:String},aliasName:{type:String},aliasURI:{type:String}},timeout:L},getAliases:{args:{timestamp:{type:Number},account:{type:String,required:!0}},returns:{property:"aliases"},supports_batch:!0,timeout:K},getNamespacedAlias:{args:{account:{type:String},alias:{type:String},aliasName:{type:String}},supports_batch:!0,timeout:K},setNamespacedAlias:{args:{sender:{type:String,argument:!1},publicKey:{type:String},deadline:{type:String,required:!0},feeNQT:{type:String,required:!0},secretPhrase:{type:String},aliasName:{type:String},aliasURI:{type:String}},timeout:L},getNamespacedAliases:{args:{account:{type:String,required:!0},filter:{type:String},timestamp:{type:Number},firstIndex:{type:Number},lastIndex:{type:Number}},returns:{property:"aliases"},supports_batch:!0,timeout:K},getTransaction:{args:{transaction:{type:String},fullHash:{type:String}},supports_batch:!0,timeout:K},getAllAssets:{args:{firstIndex:{type:Number},lastIndex:{type:Number}},returns:{property:"assets"},supports_batch:!0,timeout:K}});return r.prototype={provideSecretPhrase:function(a,b,e){var f=c.defer(),g=this;return!b.args.secretPhrase||"secretPhrase"in e?f.resolve():d.open("secretPhrase",{resolve:{items:function(){return angular.copy(e)}},close:function(a){try{angular.extend(e,{secretPhrase:a.secretPhrase,publicKey:P.crypto(g.type).secretPhraseToPublicKey(a.secretPhrase)}),f.resolve(e)}catch(b){f.reject(b)}},cancel:function(a){f.reject(a)}}),f.promise}},s.prototype={_constants:{TYPE_FIM:{test:{DIGITAL_GOODS_STORE_BLOCK:19530,PUBLIC_KEY_ANNOUNCEMENT_BLOCK:19530,NAMESPACED_ALIAS_BLOCK:19530},main:{DIGITAL_GOODS_STORE_BLOCK:2e5,PUBLIC_KEY_ANNOUNCEMENT_BLOCK:2e5,NAMESPACED_ALIAS_BLOCK:2e5}},TYPE_NXT:{test:{},main:{DIGITAL_GOODS_STORE_BLOCK:213e3,PUBLIC_KEY_ANNOUNCEMENT_BLOCK:215e3}}},init:function(){if(!this.promise){var a=c.defer();
this.promise=a.promise;var b=this;g.nodes.where("port").equals(this.port).toArray().then(function(c){b.nodes=c,angular.forEach(c,function(a){console.log(a.url,a.scan_height)}),a.resolve()}),g.nodes.addObserver(null,{create:function(a){a=a.filter(function(a){return a.port==b.port}),b.nodes=b.nodes.concat(a)},update:function(a){angular.forEach(a,function(a){if(a.port==b.port){var c=UTILS.findFirstPropIndex(b.nodes,a,"url");c>0&&angular.extend(b.nodes[c],a)}})},remove:function(a){angular.forEach(a,function(a){if(a.port==b.port){var c=UTILS.findFirstPropIndex(b.nodes,a,"url");c>=0&&c<b.nodes.length&&b.nodes.splice(c,1)}})}})}return this.promise},serverIsRunning:function(){return k.isRunning(this.type)},getLocalHostNode:function(){var a=c.defer();if(null===this.localHostNode){for(var b=0;b<this.nodes.length;b++)if(this.nodes[b].url==this.localhost){this.localHostNode=this.nodes[b];break}if(null===this.localHostNode){var d=this;g.nodes.add({port:this.port,url:this.localhost,supports_cors:!0,downloaded:0,success_timestamp:0,failed_timestamp:0,start_timestamp:0}).then(function(){g.nodes.where("port").equals(d.port).first().then(function(b){d.localHostNode=b,a.resolve(b)})},a.reject)}else a.resolve(this.localHostNode)}else a.resolve(this.localHostNode);return a.promise},constants:function(){return this._constants[this.type][this.net]},getAllNodes:function(){return this.nodes},getNode2:function(a){var b=c.defer(),d=this;return a=a||{},this.init().then(function(){if(d.can_use_localhost)d.getLocalHostNode().then(function(a){a.update({start_timestamp:Date.now()}).then(function(){b.resolve(a)},b.reject)},b.reject);else if(a&&a.node){var c=a.node;c.update({start_timestamp:Date.now()}).then(function(){b.resolve(c)},b.reject)}else{var e=d.nodes.filter(function(b){return!b.blacklisted&&b.url!=d.localhost&&!b.onfork&&(a.not?-1==a.not.indexOf(b):!0)});if(0==d.nodes.length)f.failed("There are no registered public nodes"),b.reject();else if(0==e.length)console.log("All ("+d.symbol+") public nodes are blacklisted."),b.reject();else{e.sort(function(a,b){return a.start_timestamp<b.start_timestamp?-1:a.start_timestamp>b.start_timestamp?1:0});var c=e[0];c.update({start_timestamp:Date.now()}).then(function(){b.resolve(c)},b.reject)}}}),b.promise}},t.prototype={start:function(a){this.requestHandler.notify("start",[this.methodName,a])},retry:function(a,b){this.requestHandler.notify("start",[this.methodName,a,b])},success:function(a,b,c){this.complete=!0,this.requestHandler.notify("success",[this.methodName,a,b,c]),b.errorCode&&!b.errorDescription&&(b.errorDescription=b.errorMessage?b.errorMessage:"Unknown error occured."),b.errorDescription?this.deferred.reject(b):this.deferred.resolve(b)},failed:function(a,b,c){this.requestHandler.notify("failed",[this.methodName,a,b,c])},destroy:function(a){this.complete||this.deferred.reject(a),this.deferred=null,this.requestHandler=null,this.methodName=null}},u.prototype={addObserver:function(a){-1==this.observers.indexOf(a)&&this.observers.push(a)},removeObserver:function(a){var b=this.observers.indexOf(a);-1!=b&&this.observers.splice(b,1)},notify:function(a,b){for(var c=0;c<this.observers.length;c++)this.observers[c][a].apply(this.observers[c],b)},createObserver:function(a,b){return new t(this,a,b)},sendRequest:function(a,b,d,e){var f=c.defer(),g=n.createRequestBuilder(a,b,d),h=e.podium.createActor(g,this.engine,e);return h.addObserver(this.createObserver(a,f)),f.promise}},v.prototype={installMethods:function(a){angular.forEach(this.methods,function(b){a[b]=function(){var d=c.defer(),e=Date.now(),f=e-a.last;return f>H?(a.last=e,a.api.getState().then(function(c){a.data=c,d.resolve(a.data[b])},function(c){console.log("getState error - returning cached data",c),a.last=e-H+1e3,d.resolve(a.data[b])})):d.resolve(a.data[b]),d.promise}})}},w.prototype={getBlock:function(a,b){function d(b,c){e.api.getBlock(b).then(function(b){b.id=a,e.api.engine.db.blocks.put(b).then(function(){try{(!e.lastBlock||b.height>e.lastBlock.height)&&(e.lastBlock=b)}finally{c.call()}})}).catch(q("Blockchain.getBlock",f))}var e=this,f=c.defer();return b?d({block:a},function(){f.resolve(block)}):this.api.engine.db.blocks.where("id").equals(a).first().then(function(b){void 0!==b?f.resolve(b):d({block:a},function(){f.resolve(b)})}).catch(p("Blockchain.getBlock",f)),f.promise},getBlockFromHeight:function(a){var b=this,d=c.defer();return this.api.engine.db.blocks.where("height").equals(a).first().then(function(c){void 0!==c?d.resolve(c):b.api.getBlockId({height:a}).then(function(a){b.getBlock(a.id).then(function(b){b.id=a.id,d.resolve(b)}).catch(d.reject)}).catch(d.reject)}).catch(p("Blockchain.getBlockFromHeight",d)),d.promise},getLastBlock:function(){return this.lastBlock},getHeight:function(){return this.lastBlock?this.lastBlock.height:0},getNewBlocks:function(){var a=this;this.api.engine.db.blocks.orderBy("height").last().then(function(b){if(b){var c=new Date(Date.UTC(2013,10,24,12,0,0,0)+1e3*b.timestamp).getTime(),d=Date.now()-c;d>H&&a.state.lastBlock().then(function(c){c&&c!=b.id&&a.getBlock(c)})}else a.state.lastBlock().then(function(b){b&&a.getBlock(b)})}).catch(p("Blockchain.getNewBlocks.firstBlock"))}},x.prototype={downloadTransactions:function(a){this.canceller=c.defer(),this.stopBackfill=!1,this.download(a||10,!1)},downloadAllTransactions:function(a){this.canceller=c.defer(),this.stopBackfill=!1,this.download(a||250,!0)},download:function(a){var b=this;this.api.getAccountTransactions({account:b.account.id_rs,firstIndex:0,lastIndex:20}).then(function(c){g.transaction("rw",b.api.engine.db.transactions,function(){angular.forEach(c,function(a){b.api.engine.db.transactions.put(a)})}),b.getTransactions(20,a,!0)})},startBackfilling:function(){this.isBackFilling||this.backfillTransactions()},stopBackfilling:function(){this.canceller&&(this.canceller.resolve(),this.canceller=null,this.stopBackfill=!0)},backfillTransactions:function(){this.isBackFilling=!0;var a=this;this.api.engine.db.transactions.where("related_rs_a").equals(this.account.id_rs).or("related_rs_b").equals(this.account.id_rs).sortBy("related_index").then(function(b){if(b.length>0&&!a.stopBackfill){var c=b[0];a.api.getTransaction({transaction:c.transaction}).then(function(b){a.api.engine.db.transactions.put(b,b.transaction).then(function(){i(function(){a.backfillTransactions()},0,!1)})})}else a.isBackFilling=!1})},getTransactions:function(a,b,c){function d(a,b,c){var g=a.next();e.api.engine.db.transactions.where("transaction").equals(g).first().then(function(h){void 0===h?e.api.engine.db.transactions.put({transaction:g,related_rs_a:e.account.id_rs,related_index:f+b}).then(function(){a.hasMore()?d(a,b+1,c):c.call()}):h&&h.related_rs_a&&h.related_rs_a!=e.account.id_rs?e.api.engine.db.transactions.update(g,{related_rs_b:e.account.id_rs,related_index:f+b}).then(function(){a.hasMore()?d(a,b+1,c):c.call()}):a.hasMore()?d(a,b+1,c):c.call()})}var e=this,f=a,h=a+b-1;this.api.getAccountTransactionIds({account:this.account.id_rs,firstIndex:f,lastIndex:h}).then(function(a){if(a){var f=new Iterator(a);f.hasMore()&&g.transaction("rw",e.api.engine.db.transactions,function(){d(f,0,function(){i(function(){e.startBackfilling(),c&&e.countTransactionsInDB().then(function(a){a>0&&e.getTransactions(a-1,b,c)})},0,!1)})})}})},countTransactionsInDB:function(){var a=c.defer();return this.api.engine.db.transactions.where("senderRS").equals(this.account.id_rs).or("recipientRS").equals(this.account.id_rs).or("related_rs_a").equals(this.account.id_rs).or("related_rs_b").equals(this.account.id_rs).count(function(b){a.resolve(b)}),a.promise},getUnconfirmedTransactions:function(){var a=this;if(!this.account.id||this.account.id.length<10){var b=this.api.createAddress();b.set(this.account.id_rs)&&(this.account.id=b.account_id())}this.api.getUnconfirmedTransactions({account:this.account.id},null,this.canceller).then(function(b){g.transaction("rw",a.api.engine.db.transactions,function(){angular.forEach(b,function(b){a.api.engine.db.transactions.put(b)})})},function(a){a&&5!=a.errorCode&&console.log("Could not get transactions")})}},y.prototype={init:function(){var a=c.defer(),b=this;return this.api.engine.db.assets.toArray().then(function(c){for(var d=0;d<c.length;d++){var e=c[d];b.assets[e.asset]=e}b.api.getAllAssets({firstIndex:c.length-1,lastIndex:9999},{priority:5}).then(function(c){var d=new Iterator(c);d.hasMore()?g.transaction("rw",b.api.engine.db.assets,function(){b.processNext(d,a)}):a.resolve()},a.reject)},a.reject),a.promise},processNext:function(a,b){function c(){a.hasMore()?d.processNext(a,b):b.resolve()}var d=this,e=a.next();this.assets[e.asset]=e,this.api.engine.db.assets.where("asset").equals(e.asset).first().then(function(a){a?d.api.engine.db.assets.update(e.asset,e).then(c,c):d.api.engine.db.assets.add(e).then(c,c)},b.reject)},get:function(a){return this.assets[a]},getName:function(a){return this.assets[a]?this.assets[a].name:".."},getDecimals:function(a){return this.assets[a]?this.assets[a].decimals:0},getQuantityQNT:function(a){return this.assets[a]?this.assets[a].quantityQNT:"0"},getDescription:function(a){return this.assets[a]?this.assets[a].description:""},getNumberOfTrades:function(a){return this.assets[a]?this.assets[a].numberOfTrades:""},getAccountRS:function(a){return this.assets[a]?this.assets[a].accountRS:""}},z.prototype={MAX_SIZE:1e3,SLIZE_SIZE:100,decode:function(a){if(!a.attachment)return null;var b=a.transaction,c=this.keys.indexOf(b);if(-1!=c)return this.values[c];if(a.attachment.encryptedMessage||a.attachment.encryptToSelfMessage)try{var d=this.tryToDecryptMessage(a);return this.persist(b,!0,d)}catch(e){return console.log(e),null}else if(a.attachment.message){if(a.attachment["version.Message"])return this.persist(b,!1,String(a.attachment.message));try{return this.persist(b,!1,converters.hexStringToString(a.attachment.message))}catch(f){return 0===a.attachment.message.indexOf("feff")?this.persist(b,!1,P.util.convertFromHex16(a.attachment.message)):this.persist(b,!1,P.util.convertFromHex8(a.attachment.message))}}return null},persist:function(a,b,c){var d={encrypted:b,text:c};return null!==c&&(this.keys.push(a),this.values.push(d),this.keys.length>this.MAX_SIZE&&(this.keys.splice(0,this.SLIZE_SIZE),this.values.splice(0,this.SLIZE_SIZE))),d},getPrivateKey:function(a){var b=this.priv[a];if(!b){var c=m.get("wallet");if(c&&c.hasKey(a)){var d=c.getSecretPhrase(a);d&&(b=converters.hexStringToByteArray(this.api.crypto.getPrivateKey(d)),this.priv[a]=b)}}return b},tryToDecryptMessage:function(a){var b,c,d,e,f;return a.attachment.encryptedMessage?(this.getPrivateKey(a.senderRS)?(b=this.getPrivateKey(a.senderRS),c=converters.hexStringToByteArray(a.attachment.recipientPublicKey)):this.getPrivateKey(a.recipientRS)&&(b=this.getPrivateKey(a.recipientRS),c=converters.hexStringToByteArray(a.senderPublicKey)),b&&c&&(f=a.attachment.encryptedMessage.isText,e=converters.hexStringToByteArray(a.attachment.encryptedMessage.nonce),d=converters.hexStringToByteArray(a.attachment.encryptedMessage.data))):a.attachment.encryptToSelfMessage&&(b=this.getPrivateKey(a.senderRS),b&&(c=converters.hexStringToByteArray(a.attachment.recipientPublicKey),f=a.attachment.encryptToSelfMessage.isText,e=converters.hexStringToByteArray(a.attachment.encryptToSelfMessage.nonce),d=converters.hexStringToByteArray(a.attachment.encryptToSelfMessage.data))),b&&c&&d&&e?this.api.crypto.decryptData(d,{privateKey:b,publicKey:c,nonce:e}):null}},A.prototype={getIcon:function(a){try{return this.CONSTANTS[a.type][a.subtype]}catch(b){return null}},getHTML:function(a,b){return j.trustAsHtml(this._renderTransaction(a,b))},_renderTransaction:function(a,b){function c(a,c,d){var e=j.templates[a];if(a==l.ACCOUNT&&b){d=c;try{c=b(c)}catch(f){}}return e.replace(/__LABEL__/g,c).replace(/__VALUE__/g,encodeURIComponent(d||c))}function d(a){var b=j.CONSTANTS[a.type]?j.CONSTANTS[a.type][a.subtype]:null;return b?(b.clazz="default",'<span class="btn btn-xs btn-'+b.clazz+' btn-rendered-transaction pull-right"><i class="'+b.icon+'"></i><small>&nbsp;&nbsp;&nbsp;&nbsp;<strong>'+b.label+"</strong></small></span>"):"error"}function e(){return""}function f(a){var b=j.api.decoder.decode(a);if(b){var c=["&nbsp;<span>"];if(c.push(a.attachment.encryptToSelfMessage?'<i class="fa fa-comment-o"></i>':a.attachment.encryptedMessage?'<i class="fa fa-comments-o"></i>':'<i class="fa fa-unlock"></i>'),b.text){var d="overflow: hidden;text-overflow: ellipsis;white-space: nowrap;width: 180px; max-width: 180px; display:inline-block; vertical-align: text-bottom;";c.push('&nbsp;<span style="',d,'" data-text="',JSON.stringify(b.text),'">',b.text,"</span></span>")}else c.push('&nbsp;encrypted&nbsp;<a href="#" ','onclick="event.preventDefault(); if (angular.element(this).scope().onMessageUnlockClick) { ','angular.element(this).scope().onMessageUnlockClick(this) }">','unlock&nbsp;<i class="fa fa-lock"></i></a></span>');return c.join("")}return""}function g(a,b){return P.util.convertToQNTf(a,b)}function h(a,b){return P.util.calculateOrderPricePerWholeQNT(a,b)}function i(a,b){return P.util.convertToNXT(P.util.calculateOrderTotalNQT(a,b))}var j=this,k=this.api,l=this.TYPE,m=P.util;switch(a.type){case 0:switch(a.subtype){case 0:return sprintf("%s %s <strong>paid</strong> %s %s <strong>to</strong> %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),m.convertToNXT(a.amountNQT),k.engine.symbol,c(l.ACCOUNT,a.recipientRS),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a))}case 1:switch(a.subtype){case 0:return a.attachment&&a.attachment["version.PublicKeyAnnouncement"]?sprintf("%s %s <strong>published public key</strong> for %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.ACCOUNT,a.recipientRS),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a)):sprintf("%s %s <strong>sent a message</strong> to %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.ACCOUNT,a.recipientRS),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 1:return sprintf("%s %s <strong>set alias</strong> %s <strong>to</strong> %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.ALIAS_NAME,a.attachment.alias),c(l.ALIAS_URI,a.attachment.uri),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 2:return sprintf("%s %s <strong>created poll</strong> %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.POLL_NAME,a.attachment.name),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 3:return sprintf("%s %s <strong>casted vote</strong> for %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.POLL_ID,a.attachment.pollId),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 4:return sprintf("%s %s <strong>announced hub</strong> (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 5:return sprintf("%s %s <strong>registered name</strong> %s (%s) (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.ACCOUNT_NAME,a.attachment.name),c(l.DESCRIPTION,"description",a.attachment.description),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 6:return sprintf("%s %s <strong>offered alias</strong> %s <strong>for sale</strong> for %s %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.ALIAS_NAME,a.attachment.alias),m.convertToNXT(a.attachment.priceNQT),k.engine.symbol,c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 7:return sprintf("%s %s <strong>bought alias</strong> %s <strong>from</strong> %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.ALIAS_NAME,a.attachment.alias),c(l.ACCOUNT,a.recipientRS),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a))}case 2:switch(a.subtype){case 0:return sprintf("%s %s <strong>issued asset</strong> %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.ASSET_NAME,a.attachment.name),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 1:return sprintf("%s %s <strong>transfered</strong> %s %s <strong>to</strong> %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),g(a.attachment.quantityQNT,k.assets.getDecimals(a.attachment.asset)),c(l.ASSET_ID,k.assets.getName(a.attachment.asset),a.attachment.asset),c(l.ACCOUNT,a.recipientRS),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 2:return sprintf("%s %s <strong>placed sell order</strong> for %s %s at %s %s <strong>total</strong> %s %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),g(a.attachment.quantityQNT,k.assets.getDecimals(a.attachment.asset)),c(l.ASSET_ID,k.assets.getName(a.attachment.asset),a.attachment.asset),h(a.attachment.priceNQT,k.assets.getDecimals(a.attachment.asset)),k.engine.symbol,i(a.attachment.priceNQT,a.attachment.quantityQNT,k.assets.getDecimals(a.attachment.asset)),k.engine.symbol,c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 3:return sprintf("%s %s <strong>placed buy order</strong> for %s %s at %s %s <strong>total</strong> %s %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),g(a.attachment.quantityQNT,k.assets.getDecimals(a.attachment.asset)),c(l.ASSET_ID,k.assets.getName(a.attachment.asset),a.attachment.asset),h(a.attachment.priceNQT,k.assets.getDecimals(a.attachment.asset)),k.engine.symbol,i(a.attachment.priceNQT,a.attachment.quantityQNT,k.assets.getDecimals(a.attachment.asset)),k.engine.symbol,c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 4:return sprintf("%s %s <strong>cancelled sell order</strong> %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.ASK_ORDER,a.attachment.order),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 5:return sprintf("%s %s <strong>cancelled buy order</strong> %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.BID_ORDER,a.attachment.order),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a))}case 3:switch(a.subtype){case 0:return sprintf("%s %s <strong>listed good</strong> %s <strong>quantity</strong> %s <strong>for</strong> %s %s (%s) (%s) (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.GOODS_NAME,a.attachment.name,a.transaction),m.commaFormat(String(a.attachment.quantity)),m.convertToNXT(a.attachment.priceNQT),k.engine.symbol,c(l.DESCRIPTION,"description",a.attachment.description),c(l.TAGS,"tags",a.attachment.tags),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 1:return sprintf("%s %s <strong>delisted good</strong> %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.GOODS,a.attachment.goods),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 2:return sprintf("%s %s <strong>changed price</strong> of %s to %s %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.GOODS,a.attachment.goods),m.convertToNXT(a.attachment.priceNQT),k.engine.symbol,c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 3:return sprintf("%s %s <strong>changed quantity</strong> of %s by %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.GOODS,a.attachment.goods),a.attachment.deltaQuantity,c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 4:return sprintf("%s %s <strong>purchased</strong> %s %s <strong>from</strong> %s <strong>for</strong> %s %s (%s) (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),m.commaFormat(String(a.attachment.quantity)),c(l.GOODS,a.attachment.goods),c(l.ACCOUNT,a.recipientRS),m.convertToNXT(a.attachment.priceNQT),k.engine.symbol,c(l.DELIVERY_DEADLINE,"deadline",a.attachment.deliveryDeadlineTimestamp),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 5:return sprintf("%s %s <strong>delivered purchase</strong> %s <strong>to</strong> %s <strong>with discount</strong> %s %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.PURCHASE,a.attachment.purchase),c(l.ACCOUNT,a.recipientRS),m.convertToNXT(a.attachment.discountNQT),k.engine.symbol,c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 6:return sprintf("%s %s <strong>gave feedback for purchase</strong> %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.PURCHASE,a.attachment.purchase),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a));case 7:return sprintf("%s %s <strong>gave refund</strong> of %s %s <strong>for</strong> %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),m.convertToNXT(a.attachment.discountNQT),k.engine.symbol,c(l.PURCHASE,a.attachment.purchase),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a))}case 4:switch(a.subtype){case 0:return sprintf("%s %s <strong>leased</strong> %s %s <strong>to</strong> %s <strong>for a period of</strong> %s blocks (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),m.convertToNXT(a.amountNQT),k.engine.symbol,c(l.ACCOUNT,a.recipientRS),a.attachment.period,c(l.JSON,"details",JSON.stringify(a)),e(a),f(a))}case 40:switch(a.subtype){case 0:return sprintf("%s %s <strong>set namespaced alias</strong> %s <strong>to</strong> %s (%s) %s %s",d(a),c(l.ACCOUNT,a.senderRS),c(l.ALIAS_NAME,a.attachment.alias),c(l.ALIAS_URI,a.attachment.uri),c(l.JSON,"details",JSON.stringify(a)),e(a),f(a))}}}},C.prototype={downloadTransactions:function(a,b){if(a.id_rs in this.downloaders)var c=this.downloaders[a.id_rs];else var c=this.downloaders[a.id_rs]=new x(a,this);return b?c.downloadTransactions(50,!0):c.downloadTransactions(10),c},stopDownloadingTransactions:function(a){var b=this.downloaders[a.id_rs];b&&b.stopBackfilling()},createAddress:function(){return new NxtAddress(this.type==O?"NXT":"FIM")},encryptMessage:function(a,b,c,d){var e={account:b};return c&&(e.publicKey=c),this.crypto.encryptNote(a,e,d)},addMessageData:function(a,b){if("sendMoney"==b||"sendMessage"==b)if(a.encrypt_message&&a.message){var c={};a.recipient?c.account=a.recipient:a.encryptedMessageRecipient&&(c.account=a.encryptedMessageRecipient,delete a.encryptedMessageRecipient),a.recipientPublicKey&&(c.publicKey=a.recipientPublicKey);var d=this.crypto.encryptNote(a.message,c,a.secretPhrase);a.encryptedMessageData=d.message,a.encryptedMessageNonce=d.nonce,a.messageToEncryptIsText="true",delete a.encrypt_message,delete a.message}else if(a.note_to_self&&a.message){var d=this.crypto.encryptNote(a.message,{publicKey:converters.hexStringToByteArray(this.crypto.secretPhraseToPublicKey(a.secretPhrase))},a.secretPhrase);a.encryptToSelfMessageData=d.message,a.encryptToSelfMessageNonce=d.nonce,a.messageToEncryptToSelfIsText="true",delete a.note_to_self,delete a.message}else a.public_message&&a.message&&(a.messageIsText="true",delete a.public_message)},installMethods:function(a){angular.forEach(Q,function(b,d){a[d]=function(f,g,i,j){if(f=angular.copy(f)||{},g&&"object"==typeof g&&"number"==typeof g.priority)var k=g;else{var k=k||{};g&&(k.node=g)}if(i&&"object"==typeof i&&(i.start||i.success||i.failed))var j=i;k.trace=B();var l=c.defer();return a.secretPhraseProvider.provideSecretPhrase(d,b,f).then(function(){-1!=["startForging","stopForging","getForging"].indexOf(d)&&delete f.publicKey,a.addMessageData(f,d);for(var c in b.args){var g=b.args[c];if(g.required&&!(c in f))return void l.reject("Missing required argument in "+d+" ["+c+"]")}for(var c in f){var i=f[c];if(!(c in b.args))return void l.reject("Unexpected argument for "+d+" ["+c+"]");if(!(new Object(i)instanceof b.args[c].type))return void l.reject("Argument for "+d+" ["+c+"] of wrong type");b.args[c].argument===!1&&delete f[c]}var m=f.secretPhrase;if("secretPhrase"in f&&-1==["startForging","stopForging","getForging"].indexOf(d)&&delete f.secretPhrase,-1!=["startForging","stopForging","getForging"].indexOf(d)){if(!k.node)return void l.reject("Unexpected error. You must provide a forced node for this operation");if(-1==(h.get("forging.allowed.hosts")||[]).indexOf(k.node.url))return void l.reject("Unexpected error. Blocked sending of secrethrase to unknown host.")}j&&j.start(d,f),k.podium||(n.theater.podiums.main||n.theater.createPodium("main",null),k.podium=n.theater.podiums.main),a.requestHandler.sendRequest(d,b,f,k).then(function(c){if("getState"==d&&k.node_out&&k.node_out.update({lastBlock:c.lastBlock,lastBlockchainFeeder:c.lastBlockchainFeeder,numberOfBlocks:c.numberOfBlocks}),j&&j.success(d),m&&c.unsignedTransactionBytes){var g=a.crypto.secretPhraseToPublicKey(m),h=a.crypto.signBytes(c.unsignedTransactionBytes,converters.stringToHexString(m));if(f.publicKey=g,!a.crypto.verifyBytes(h,c.unsignedTransactionBytes,g))return void l.reject(e.format("error_signature_verification_client"));var i=E(c.unsignedTransactionBytes,h,d,f,a.type,a.engine.constants());if(!i)return void l.reject(e.format("error_signature_verification_server"));j&&j.start("broadcastTransaction"),a.broadcastTransaction({transactionBytes:i},{podium:k.podium,node:k.node}).then(function(a){j&&j.success("broadcastTransaction"),l.resolve(a)}).catch(function(a){j&&j.failed("broadcastTransaction"),l.reject(a)})}else b.returns?b.returns.property&&l.resolve(c[b.returns.property]):(!m||"secretPhrase"in c||(c.secretPhrase=m),l.resolve(c))}).catch(function(a){j&&j.failed(d),l.reject(a)})}).catch(l.reject),l.promise}})}},P})}(),function(){"use strict";var a=angular.module("fim.base");a.run(function(a){function b(a,b){var c="",b=b||8,d="",a=new BigInteger(String(a)),e=String(Math.pow(10,b)),f=a.mod(new BigInteger(e)).toString();if(a=a.divide(new BigInteger(e)),a.compareTo(BigInteger.ZERO)<0&&(a=a.abs(),c="-"),f&&"0"!=f){d=".";for(var g=f.length;b>g;g++)d+="0";d+=f.replace(/0+$/,"")}return a=a.toString(),c+a+d}function c(a){a=String(a).replace(/,/g,"");var b=a.split("."),c=b[0];if(1==b.length)var d="00000000";else{if(2!=b.length)throw"Invalid input";if(b[1].length<=8)var d=b[1];else var d=b[1].substring(0,8)}for(var e=d.length;8>e;e++)d+="0";var f=c+""+d;if(!/^\d+$/.test(f))throw"Invalid input.";return f=f.replace(/^0+/,""),""===f&&(f="0"),f}function d(a,b){a=String(a);var c=a.split("."),d=c[0];if(1==c.length){if(b)for(var e=0;b>e;e++)d+="0"}else{if(2!=c.length)throw"Incorrect input";var f=c[1];if(f.length>b)throw"Fraction can only have "+b+" decimals max.";if(f.length<b)for(var e=f.length;b>e;e++)f+="0";d+=f}if(!/^\d+$/.test(d))throw"Invalid input. Only numbers and a dot are accepted.";return d.replace(/^0+/,"")}function e(a,b){if(a=String(a),a.length<b)for(var c=a.length;b>c;c++)a="0"+a;var d="";return b&&(d="."+a.substring(a.length-b),a=a.substring(0,a.length-b),a||(a="0"),d=d.replace(/0+$/,""),"."==d&&(d="")),a+d}function f(a){var b=0==a.indexOf("-")&&a.shift();a=a.split(".");for(var c=a[0].split("").reverse().join("").split(/(\d{3})/).reverse(),d=[],e=0;e<c.length;e++)c[e]&&d.push(c[e].split("").reverse().join(""));return(b?"-":"")+d.join(",")+(2==a.length?"."+a[1]:"")}function g(a,b){if(a){if(b){if(m[a])return m[a];var c=new Date(Date.UTC(2013,10,24,12,0,0,0)+1e3*a);return m[a]=$.timeago(c)}if(n[a])return n[a];var d={second:"2-digit",minute:"2-digit",hour:"2-digit",day:"numeric",month:"numeric",year:"2-digit"},c=new Date(Date.UTC(2013,10,24,12,0,0,0)+1e3*a);return n[a]=c.toLocaleDateString("en-US",d)}return""}function h(a,b){var c=new BigInteger(String(a));return f(c.multiply(new BigInteger(""+Math.pow(10,b))).toString())}function i(a,b){b=new BigInteger(String(b)),a=new BigInteger(String(a));var c=b.multiply(a);return c.toString()}function j(b,c){return"object"!=typeof b&&(b=new BigInteger(String(b))),a.util.convertToNXT(b.multiply(new BigInteger(""+Math.pow(10,c))))}function k(a){var b,c=a.match(/.{1,4}/g)||[],d="";for(b=0;b<c.length;b++)d+=String.fromCharCode(parseInt(c[b],16));return d}function l(a){for(var a=a.toString(),b="",c=0;c<a.length;c+=2)b+=String.fromCharCode(parseInt(a.substr(c,2),16));return b}var m={},n={};a.util={convertToNXT:function(a){return f(b(a,8))},convertToNQT:c,convertToQNTf:e,convertToQNT:d,commaFormat:f,formatOrderPricePerWholeQNT:h,calculateOrderTotalNQT:i,formatTimestamp:g,calculateOrderPricePerWholeQNT:j,convertFromHex16:k,convertFromHex8:l,safeAdd:function(a,b){var c=new BigInteger(String(a)),d=new BigInteger(String(b));return c.add(d).toString()}}})}(),function(){"use strict";var a=angular.module("fim.base");a.factory("modals",function(a){function b(){c.register("secretPhrase",{templateUrl:"partials/secretphrase-modal.html",controller:"secretPhraseModalController"})}var c,d={};return c={register:function(a,b){d[a]={options:b,instance:null}},open:function(b,c){var e=d[b];if(!e)throw new Error('Modal "'+b+'" is not registered');if(e.instance)throw new Error('Modal "'+b+'" is already opened');var f={};angular.copy(e.options,f),angular.extend(f,c||{}),f.keyboard=!1,f.backdrop="static",e.instance=a.open(f),f.opened&&e.instance.opened.then(function(){f.opened()}),e.instance.result.then(function(a){e.instance=null,f.close&&f.close(a)},function(a){e.instance=null,f.cancel&&f.cancel(a)})},close:function(a,b){var c=d[a];if(!c)throw new Error('Modal "'+a+'" is not registered');if(!c.instance)throw new Error('Modal "'+a+'" is not opened');c.instance.close(b)},cancel:function(a,b){var c=d[a];if(!c)throw new Error('Modal "'+a+'" is not registered');if(!c.instance)throw new Error('Modal "'+a+'" is not opened');c.instance.cancel(b)},isOpen:function(a){var b=d[a];return b&&b.instance}},b(),c})}(),function(){"use strict";var a=angular.module("fim.base");a.factory("alerts",function(a){return{"catch":function(b){return function(c){console.error("alerts.catch",b+" "+JSON.stringify(c)),a.alert.failed(b+" "+JSON.stringify(c))}},success:function(b){a.alert.success(b)},failed:function(b){console.error("alerts.failed",b),a.alert.failed(b)}}})}(),function(){"use strict";function a(a,b){var c=angular.copy(a);return b.update&&angular.extend(c,b.update),b.remove&&angular.forEach(b.remove,function(a,b){delete c[b]}),c}function b(b,c){var d={};try{angular.forEach(b,function(b,e){d=a(d,b),c.version(e+1).stores(d)})}catch(e){console.log("DB.open.update",e)}}try{var c="function"==typeof require&&require("child_process")}catch(d){var c=!1}var e=angular.module("fim.base");e.factory("db",function(a,d,e,f){var g=new Dexie("fimkrypto-db"),h="height,&id,timestamp,numberOfTransactions,generator,totalAmountNQT,totalFeeNQT",i=h+",totalPOSRewardNQT",j="transaction,type,subtype,timestamp,recipientRS,senderRS,height,block,isLast",k="asset,name,accountRS,description,decimals,quantityQNT,numberOfTrades",l="++id,url,port,downloaded,success_timestamp,failed_timestamp,start_timestamp,require_cors_proxy,first_cors,last_cors,last_non_cors",m=l+",scan_height,onfork",n=j+",related_rs_a,related_rs_b,related_index";b([{update:{settings:"id,label,value",accounts:"id_rs,id,name,balanceNXT,forgedBalanceNXT",contacts:"id_rs,&name,email,website",nodes:l,fimblocks_test:i,fimblocks:i,nxtblocks_test:h,nxtblocks:h,fimtransactions_test:j,fimtransactions:j,nxttransactions_test:j,nxttransactions:j,fimassets_test:k,fimassets:k,nxtassets_test:k,nxtassets:k}},{update:{fimtransactions_test:n,fimtransactions:n,nxttransactions_test:n,nxttransactions:n}},{update:{nodes:m}}],g),d.get("Setting").initialize(g),d.get("Account").initialize(g),d.get("Contact").initialize(g),d.get("Node").initialize(g),g.on("error",e.catch("Database error - see error console for details")),g.on("populate",function(){var a={6886:["http://178.62.176.45|CORS","http://178.62.176.46|CORS"],7886:["https://wallet.fimk.fi|CORS","https://forum.fimk.fi|CORS","https://fim1.mofowallet.org|CORS","https://fim2.mofowallet.org|CORS","https://fim3.mofowallet.org|CORS","https://fim4.mofowallet.org|CORS","https://fim5.mofowallet.org|CORS","https://fim6.mofowallet.org|CORS","https://fim7.mofowallet.org|CORS","https://fim8.mofowallet.org|CORS","https://fim9.mofowallet.org|CORS","https://fim10.mofowallet.org|CORS","https://fim11.mofowallet.org|CORS","https://fim12.mofowallet.org|CORS"],7876:["https://wallet.fimk.fi|CORS","https://forum.fimk.fi|CORS","https://nxt1.mofowallet.org|CORS","https://nxt2.mofowallet.org|CORS","https://nxt3.mofowallet.org|CORS","https://nxt4.mofowallet.org|CORS"]};c&&(a[7876]=a[7876].concat(["http://allbits.vps.nxtcrypto.org|CORS","http://jefdiesel.vps.nxtcrypto.org","http://vps3.nxtcrypto.org","http://xeqtorcreed.vps.nxtcrypto.org","http://abctc.vps.nxtcrypto.org","http://bitsy08.vps.nxtcrypto.org|CORS","http://bitsy09.vps.nxtcrypto.org|CORS","http://bitsy02.vps.nxtcrypto.org|CORS","http://bitsy10.vps.nxtcrypto.org|CORS","http://lyynx.vps.nxtcrypto.org|CORS","http://samson.vps.nxtcrypto.org"])),angular.forEach(a,function(a,b){angular.forEach(a,function(a){var c=a.split("|"),d="CORS"==c[1];a=c[0],g.nodes.add({port:parseInt(b),url:a,supports_cors:d,downloaded:0,success_timestamp:0,failed_timestamp:0})})})}),g.on("changes",function(a,b){var c={};a.forEach(function(a){var b=c[a.table]||(c[a.table]={create:[],update:[],remove:[]});switch(a.type){case 1:b.create.push(a.obj);
break;case 2:b.update.push(a.obj);break;case 3:b.remove.push(a.oldObj)}}),f(function(){angular.forEach(c,function(a,c){g[c].notifyObservers(function(c){c.create&&c.create(a.create),c.update&&c.update(a.update),c.remove&&c.remove(a.remove),b||c.finally&&c.finally()})})})});try{g.open()}catch(o){console.log("DB.open.error",o)}return g.createObserver=function(a,b,c,d){return{create:function(c){a[b]=a[b].concat(c),d&&d.create&&d.create(c)},update:function(e){angular.forEach(e,function(d){var e=UTILS.findFirstPropIndex(a[b],d,c);e>0&&angular.extend(a[b][e],d)}),d&&d.update&&d.update(e)},remove:function(e){angular.forEach(e,function(d){var e=UTILS.findFirstPropIndex(a[b],d,c),f=a[b][e];f&&a[b].splice(e,1)}),d&&d.remove&&d.remove(e)},"finally":function(){d&&d.finally&&d.finally()}}},g})}(),function(){"use strict";var a=angular.module("fim.base");a.factory("plugins",function(){var a={};return{get:function(b){if(!(b in a))throw new Error('No such plugin "'+b+'"');return a[b]},register:function(b){return a[b.id]=b,b},install:function(b,c){angular.forEach(a,function(a){a.extends==b&&c(a)})},validate:function(a,b){for(var c in b){var d=b[c];if(d.required&&!(c in a))return console.error("Missing required argument "+c),!1}for(var c in a){var e=a[c];if(!(c in b))return console.error("Unexpected argument "+c),!1;if(!(new Object(e)instanceof b[c].type)&&void 0!=e)return console.error("Argument for "+c+" of wrong type. Expecting "+b[c].type+" but got "+e),!1}return!0}}})}(),function(){"use strict";var a=angular.module("fim.base");a.factory("i18n",function(){var a=!0,b={recipient_unknown:"The recipient account is an unknown account, meaning it has never had an incoming or outgoing transaction. Please double check your recipient address before submitting.",recipient_unknown_pka:"The recipient account is an unknown account, meaning it has never had an incoming or outgoing transaction. To submit this request you must supply the recipient public key also.",recipient_malformed:"The recipient account is malformed, please adjust.",recipient_info:"The recipient account has a public key and a balance of __nxt__ __symbol__.",recipient_no_public_key:"The recipient account does not have a public key, meaning it has never had an outgoing transaction. The account has a balance of __nxt__ __symbol__. Please double check your recipient address before submitting.",recipient_problem:"There is a problem with the recipient account: __problem__",recipient_malformed_suggestion:"The recipient address is malformed, did you mean __recipient__",recipient_malformed_suggestion_plural:"The recipient address is malformed, did you mean any of the following: __multiple__",error_signature_verification_client:"Could not verify signature (client side).",error_signature_verification_server:"Could not verify signature (server side)."};return{format:function(c,d){a&&c+"_pka"in b&&(c+="_pka");var e=b[c];if(d)for(var f in d)e=e.replace(f,d[f]);return e}}})}(),function(){"use strict";var a=angular.module("fim.base");a.factory("settings",function(a,b,c,d){function e(a,b){var c=[];f[a].resolve&&c.push(f[a].resolve),angular.forEach(g,function(b,d){d==a&&(c=c.concat(b))}),d(function(){angular.forEach(c,function(a){a(b)})})}b.settings.addObserver(null,{create:function(a){angular.forEach(a,function(a){f[a.id]=a,e(a.id,a.value)})},update:function(a){angular.forEach(a,function(a){angular.extend(f[a.id],a),e(a.id,a.value)})},remove:function(a){angular.forEach(a,function(a){delete f[a.id]})}});var f={},g={};return{get:function(a){return f[a]?f[a].value:void 0},initialize:function(a){b.transaction("rw",b.settings,function(){angular.forEach(a,function(a){if(a.id in f)throw new Error("Duplicate initialization of setting "+a.id);if(a.type&&!(new Object(a.value)instanceof a.type))throw new Error("Setting for "+a.id+" of wrong type");f[a.id]=a,b.settings.where("id").equals(a.id).first().then(function(c){void 0==c&&b.settings.add({id:a.id,value:a.value,label:a.label}),a.resolve&&d(function(){e(a.id,void 0==c?a.value:c.value)})}).catch(c.catch("Init settings"))})})},update:function(a,d){console.log("update.setting",{id:a,value:d});var e=f[a];if(console.log("update.setting-setting",e),!e)throw new Error("Unknown setting "+a);if(void 0==e.type)console.log('WARNING. Setting type is undefined for "'+a+'"');else if(!(new Object(d)instanceof e.type))throw new Error("Setting for "+e.id+" of wrong type");void 0!=e.type&&(e.value=d,b.settings.put({id:e.id,value:e.value,label:e.label}).catch(c.catch("Update setting")))},getAll:function(a,b){var c=[];angular.forEach(f,function(b,d){0==d.indexOf(a)&&c.push(b)}),console.log("getAll."+a,c),b(c)},resolve:function(a,b){g[a]||(g[a]=[]),g[a].push(b)}}})}(),function(){"use strict";var a=angular.module("fim.base");a.factory("corsproxy",function(){function a(a,b){return a.remove_protocol&&(b=b.replace(/^(http:\/\/)/,"")),a.escape&&(b=encodeURIComponent(b)),a.template.replace("__URL__",b)}function b(){return d<c.length?c[d++]:(d=0,c[d])}var c=[{template:"http://178.62.236.32/corsproxy.php?mode=native&url=__URL__",escape:!0,remove_protocol:!1},{template:"https://cors-anywhere.herokuapp.com/__URL__",escape:!1,remove_protocol:!1}],d=0;return{proxify:function(c,d){var e=b();return c.update({last_used_proxy:e.id}),a(e,d)},requiresProxy:function(a){return!a.supports_cors}}})}(),function(){"use strict";var a=angular.module("fim.base");a.config(function(a,b){b.otherwise("/home"),a.state("home",{url:"/home",views:{"":{templateUrl:"partials/home.html",controller:"homeController"}}})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("appController",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.plugins=[],i.install("app",function(a){console.log("install-app-plugin",a),b.plugins.push(a)}),b.systemPlugins=[],i.install("system",function(a){console.log("install-system-plugin",a),b.systemPlugins.push(a)}),b.alerts=[],b.isNodeJS=k.isNodeJS(),a.$on("$stateChangeError",function(a){e.warn("STATE CHANGE ERROR"),e.error(a)}),b.createAccount=function(){var a={};i.get("accounts").add(a).then(function(a){n.go("accounts",{id_rs:a.id_rs})})},b.stateIncludes=function(a){try{return n.includes(a)}catch(b){return!1}},a.alert={failed:function(c){var d=UTILS.uniqueID(),e={type:"danger",msg:c,id:d};b.alerts.push(e),f(function(){a.closeAlert(d)},5e3)},success:function(c){var d=UTILS.uniqueID(),e={type:"success",msg:c,id:d};b.alerts.push(e),f(function(){a.closeAlert(d)},5e3)}},a.closeAlert=function(a){UTILS.removeFirst(b.alerts,function(b){return b.id==a})},b.onTransactionIdentifierClick=function(a){var b=a.getAttribute("data-type"),c=a.getAttribute("data-value");if(a.getAttribute("data-engine"))var e=o.get(a.getAttribute("data-engine"));else if("ACCOUNT"==b)var e=o.get(c);switch(console.log("onTransactionIdentifierClick",{type:b,value:c}),b){case e.renderer.TYPE.ACCOUNT:var f=i.get("alerts").wait({message:"Downloading Account Data"}),g=d.defer();f.promise.catch(function(){g.resolve()}),e.getAccount({account:c},null,g).then(function(a){f.resolve();var b=i.get("inspector");b.inspect({title:"Account Details",object:a,order:"accountRS,balanceNQT,effectiveBalanceNXT,unconfirmedBalanceNQT,forgedBalanceNQT,garanteedBalanceNQT",translator:b.createAccountTranslator(e,a)})},function(){j.failed("Could not download account"),f.resolve()});break;case e.renderer.TYPE.JSON:try{var h=JSON.parse(decodeURIComponent(c))}catch(k){var l=decodeURIComponent(c||"");console.log("plugin: accounts JSON error",l);var h={error:k,input:l}}var m=i.get("inspector");m.inspect({title:"Transaction Details",object:h,order:"timestamp,senderRS,recipientRS,amountNQT,attachment,type,feeNQT",translator:m.createTransactionTranslator(e,h)});break;case e.renderer.TYPE.ASSET_ID:var n=e.assets.get(decodeURIComponent(c)),m=i.get("inspector");m.inspect({title:"Asset Details",object:n,order:"name,asset,numberOfTrades,description,quantityQNT,decimals,accountRS",translator:m.createAssetTranslator(e,n)})}return!1},b.onMessageUnlockClick=function(){i.get("wallet").promptForWallet().then(function(){n.go(n.current,{},{reload:!0})})}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("homeController",function(a,b,c,d){a.selectedThemeName=c.get("themes.default.theme"),c.resolve("themes.default.theme",function(b){d(function(){var c=b||"";a.selectedThemeName=c[0].toUpperCase()+c.slice(1)})})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("secretPhraseModalController",function(a,b,c,d,e,f,g,h){function i(){a.sender&&j.getEntry(a.sender).then(function(a){c.$evalAsync(function(){c.items.missing=!1,c.items.secretPhrase=a.secretPhrase,c.passphraseChange(),b.close(c.items)})})}var j=g.get("wallet");c.items=a,c.items.valid=!1,c.items.secretNotFound=!1,c.items.secretPhrase=c.items.secretPhrase||"",c.items.messageHTML=h.trustAsHtml(a.messageHTML||"This operation requires your secret passphrase."),c.passphraseChange=function(){d(function(){var a=e.crypto(c.items.sender),b=a.getAccountId(c.items.secretPhrase,!0),d=b==c.items.sender;c.items.valid=d})},j.hasKey(a.sender)&&i(),j.createOnWalletFileSelectedPromise().then(function(){i()},function(){}),c.close=function(){b.close(c.items)},c.dismiss=function(){b.dismiss()}})}(),function(){"use strict";var a=angular.module("fim.base");a.config(function(a){a.state("accounts",{url:"/accounts/:id_rs/:action",views:{"":{templateUrl:"plugins/accounts/partials/accounts.html",controller:"AccountsPlugin"},"transactions@accounts":{templateUrl:"plugins/accounts/partials/accounts-transactions.html",controller:"AccountsPluginTransactionsController"},"messages@accounts":{templateUrl:"plugins/accounts/partials/accounts-messages.html",controller:"AccountsPluginMessagesController"},"namespacedAliases@accounts":{templateUrl:"plugins/accounts/partials/accounts-namespaced-aliases.html",controller:"AccountsPluginNamespacedAliasesController"}}})}),a.run(function(a,b,c,d,e,f,g,h,i){function j(a){var b=e.defer(),d=c.get(a.id_rs),f=d.downloadTransactions(a,!0);return f.getUnconfirmedTransactions(),d.getAccount({account:a.id_rs}).then(function(d){a.update({guaranteedBalanceNXT:c.util.convertToNXT(d.guaranteedBalanceNQT),balanceNXT:c.util.convertToNXT(d.balanceNQT),effectiveBalanceNXT:c.util.commaFormat(String(d.effectiveBalanceNXT)),unconfirmedBalanceNXT:c.util.convertToNXT(d.unconfirmedBalanceNQT),forgedBalanceNXT:c.util.convertToNXT(d.forgedBalanceNQT),publicKey:d.publicKey,id:d.account}).then(b.resolve,b.reject)},function(c){c&&5==c.errorCode?a.update({isPublished:!1}).then(b.resolve,b.reject):b.reject()}),b.promise}function k(){var a=e.defer(),b=[];return f.accounts.orderBy("name").toArray().then(function(d){angular.forEach(d,function(a){if(a){var d=c.get(a.engine).engine.symbol,e=a.balanceNXT+" "+d,f='<p><h4 disable-nw-menu="true">'+a.name+'<small class="pull-right">'+e+'</small><br><br><small class="pull-right">'+a.id_rs+"</small><br></h4><p>";b.push({sref:"accounts({ id_rs: '"+a.id_rs+"'})",html:h.trustAsHtml(f)}),j(a)}}),a.resolve(b)},a.reject),a.promise}function l(){k().then(function(a){g(function(){n=[m].concat(a)})})}var m={clazz:"success",html:h.trustAsHtml('<p><h4 disable-nw-menu="true"><span class="glyphicon glyphicon-plus pull-right"></span><strong>Add Account</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h4></p>'),click:function(){var a={};b.get("accounts").add(a).then(function(a){i.go("accounts",{id_rs:a.id_rs})})}},n=[m];f.accounts.addObserver(null,{"finally":function(){l()}}),l(),b.register({id:"accounts","extends":"app",sref:"accounts",label:"Accounts",sub_menu_html:function(){return n},sub_menu_activate:l,icon_class:"glyphicon glyphicon-credit-card",detail:function(b){c.get(b).getAccount({account:b}).then(function(b){a.open("accountsDetail",{resolve:{items:function(){return angular.extend(b,{guaranteedBalanceNXT:c.util.convertToNXT(b.guaranteedBalanceNQT),balanceNXT:c.util.convertToNXT(b.balanceNQT),effectiveBalanceNXT:c.util.commaFormat(String(b.effectiveBalanceNXT)),unconfirmedBalanceNXT:c.util.convertToNXT(b.unconfirmedBalanceNQT),forgedBalanceNXT:c.util.convertToNXT(b.forgedBalanceNQT)}),b}}})},d.catch("Could not obtain account"))},add:function(b){var c=e.defer();return a.open("accountsAdd",{resolve:{items:function(){return b}},close:function(a){c.resolve(a)},cancel:function(){c.reject()}}),c.promise},loadAccounts:function(){var a=e.defer();return k().then(a.resolve,a.reject),a.promise}}),a.register("accountsAdd",{templateUrl:"plugins/accounts/partials/accounts-add-modal.html",controller:"AccountsPluginAddModalController"}),a.register("accountsDetail",{templateUrl:"plugins/accounts/partials/accounts-detail-modal.html",controller:"AccountsPluginDetailModalController"}),a.register("accountsEdit",{templateUrl:"plugins/accounts/partials/accounts-edit-modal.html",controller:"AccountsPluginEditModalController"}),a.register("sendMoney",{templateUrl:"plugins/accounts/partials/send-money-modal.html",controller:"AccountsPluginSendMoneyModalController"}),a.register("sendMoneyNoPublicKey",{templateUrl:"plugins/accounts/partials/send-money-no-publickey-modal.html",controller:"AccountsPluginSendMoneyNoPublickeyModalController"}),a.register("receiveMoney",{templateUrl:"plugins/accounts/partials/receive-money-modal.html",controller:"AccountsPluginReceiveMoneyModalController"}),a.register("sendProgress",{templateUrl:"plugins/accounts/partials/send-progress.html",controller:"AccountsPluginSendProgressMoneyModalController"})})}(),function(){"use strict";function a(a){return!a||0==a.trim().length}var b=angular.module("fim.base");b.controller("AccountsPlugin",function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(){if("show"!=g.action){var a=e.accounts[UTILS.findFirstPropIndex(e.accounts,g,"id_rs","id_rs")];if(a){{a!==e.selectedAccount}e.selectedAccount=a;var c=i.get(a.id_rs);e.engine=c.type,e.symbol=c.engine.symbol,e.feeCost=c.engine.feeCost,e.blockTime=c.engine.blockTime,e.refresh()}else g.id_rs&&0!=g.id_rs.trim().length?e.accounts.length>0?b.go("accounts",{id_rs:e.accounts[0].id_rs}):b.go("accounts"):e.accounts.length>0&&b.go("accounts",{id_rs:e.accounts[0].id_rs})}}function r(a,b,c){for(var d=0,e=a.length;e>d;d++)if(a[d][b]==c)return d;return-1}function s(a,b){var c=a.timestamp||0,d=b.timestamp||0;return c>d?-1:d>c?1:a.transaction<b.transaction?-1:a.transaction>b.transaction?1:0}function t(a){if(e.selectedAccount){var b=e.selectedAccount.id_rs;return a.filter(function(a){return a.senderRS==b||a.recipientRS==b||a.related_rs_a==b||a.related_rs_b==b})}return[]}e.plugins={create:[],open:[]},n.install("accounts",function(a){(!a.supported||a.supported(g.id_rs))&&(a.create?e.plugins.create.push(a):a.open&&e.plugins.open.push(a))}),e.accounts=[],e.selectedAccount=null,e.engine=null,e.symbol="",e.feeCost="",e.blockTime=0,e.publicKeyStatusUnknown=!0,e.transactions=[];var u=setInterval(function(){e.refresh()},1e4);if(e.$on("$destroy",function(){clearInterval(u),e.selectedAccount&&i.get(e.selectedAccount.id_rs).stopDownloadingTransactions(e.selectedAccount)}),k.accounts.orderBy("name").toArray().then(function(a){j(function(){e.accounts=a,q()})}).catch(m.catch("Could not load accounts")),k.accounts.addObserver(e,k.createObserver(e,"accounts","id_rs",{"finally":function(){q()}})),"show"==g.action){var v=e.selectedAccount={id_rs:g.id_rs,update:function(a){angular.extend(this,a)}};e.symbol=i.get(v.id_rs).engine.symbol,e.feeCost=i.get(v.id_rs).engine.feeCost,e.blockTime=i.get(v.id_rs).engine.blockTime,j(function(){e.refresh()})}g.id_rs&&k.accounts.where("id_rs").equals(g.id_rs).first().then(function(a){a&&j(function(){e.selectedAccount=a})}),e.onTransactionIdentifierMouseOver=function(a){var b=a.getAttribute("data-type"),c=a.getAttribute("data-value"),d=i.get(e.selectedAccount.id_rs);switch(console.log("onTransactionIdentifierMouseOver",{type:b,value:c}),b){case d.renderer.TYPE.ACCOUNT:}return!1},e.onTransactionIdentifierMouseLeave=function(a){var b=a.getAttribute("data-type"),c=a.getAttribute("data-value"),d=i.get(e.selectedAccount.id_rs);switch(console.log("onTransactionIdentifierMouseLeave",{type:b,value:c}),b){case d.renderer.TYPE.ACCOUNT:}return!1};var w=p.theater.createPodium("accounts",e);e.refresh=function(){var b=e.selectedAccount;null!==b&&i.get(b.id_rs).getAccount({account:b.id_rs},{podium:w,priority:1}).then(function(c){e.$evalAsync(function(){e.publicKeyStatusUnknown=!1,b.update({guaranteedBalanceNXT:i.util.convertToNXT(c.guaranteedBalanceNQT),balanceNXT:i.util.convertToNXT(c.balanceNQT),effectiveBalanceNXT:i.util.commaFormat(String(c.effectiveBalanceNXT)),unconfirmedBalanceNXT:i.util.convertToNXT(c.unconfirmedBalanceNQT),forgedBalanceNXT:i.util.convertToNXT(c.forgedBalanceNQT),publicKey:c.publicKey,id:c.account,isPublished:!a(c.publicKey)})})},function(a){a&&5==a.errorCode?e.$evalAsync(function(){e.publicKeyStatusUnknown=!1,e.errorCode=5,b.update({isPublished:!1})}):m.failed(a&&a.errorDescription||a)})},e.updateSelection=function(){b.go("accounts",{id_rs:e.selectedAccount.id_rs})},e.findAccount=function(a){return UTILS.findFirst(e.accounts,function(b){return b.id_rs===a})},e.showEditableID=function(a){e.selectedAccount&&n.get("alerts").prompt({title:"Account address",value:a?e.selectedAccount.id_rs:e.selectedAccount.id})},e.addAccount=function(){var a={};n.get("accounts").add(a).then(function(a){console.log("accounts.addAccount",a),b.go("accounts",{id_rs:a.id_rs})})},e.removeAccount=function(a){n.get("alerts").confirm({title:"Delete Account",message:"Are you sure you want to delete this account?"}).then(function(c){c&&a.delete().then(function(){b.go("accounts")})})},e.showPublicKey=function(){e.selectedAccount&&n.get("alerts").info({title:"Public Key",message:e.selectedAccount.publicKey})},e.editAccount=function(a){f.open("accountsEdit",{resolve:{items:function(){return{name:a.name,id_rs:a.id_rs}}},close:function(b){j(function(){a.update(b)})}})},e.sendMoney=function(){e.selectedAccount.isPublished===!0?f.open("sendMoney",{resolve:{items:function(){return{senderRS:e.selectedAccount.id_rs}}}}):f.open("sendMoneyNoPublicKey",{resolve:{items:function(){return{senderRS:e.selectedAccount.id_rs}}}})},e.receiveMoney=function(){f.open("receiveMoney",{resolve:{items:function(){return{account:e.selectedAccount,api:i.get(e.selectedAccount.id_rs)}}}})};var x=null;e.$watch("selectedAccount",function(a){if(e.transactions=[],a){var b=i.get(e.selectedAccount.id_rs).engine;b.db.transactions.where("senderRS").equals(e.selectedAccount.id_rs).or("recipientRS").equals(e.selectedAccount.id_rs).toArray().then(function(a){j(function(){a.sort(s),e.transactions=a,e.$broadcast("transaction-length-changed")})}).catch(m.catch("Could not load transactions from database")),x=x||{create:function(a){e.transactions=e.transactions.concat(t(a)),e.transactions.sort(s)},update:function(a){angular.forEach(t(a),function(a){var b=r(e.transactions,"transaction",a.transaction);-1!=b&&angular.extend(e.transactions[b],a)})},remove:function(a){angular.forEach(t(a),function(a){var b=r(e.transactions,"transaction",a.transaction);-1!=b&&e.transactions.splice(b,1)})},"finally":function(){e.$broadcast("transaction-length-changed")}},b.db.transactions.addObserver(e,x)}})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("AccountsPluginTransactionsController",function(a,b,c,d,e,f,g){a.showAccount=function(a){g.get("accounts").detail(a)},a.showTransaction=function(b){g.get("blocks").showTransaction(a.selectedAccount.engine,b)},a.tableParams=new d({page:1,count:10},{total:0,getData:function(b,c){function d(b){return a.selectedAccount&&b==a.selectedAccount.id_rs?"<strong>"+(a.selectedAccount.name?a.selectedAccount.name:b)+"</strong>":b}if(a.selectedAccount)var f=a.transactions.slice((c.page()-1)*c.count(),c.page()*c.count());else var f=[];var g=a.selectedAccount?e.get(a.selectedAccount.id_rs):null,h=[];angular.forEach(f,function(a){h.push(a.timestamp?{renderedHTML:g?g.renderer.getHTML(a,d):"",date:e.util.formatTimestamp(a.timestamp),timeago:e.util.formatTimestamp(a.timestamp,!0)}:{transaction:a.transaction})}),b.resolve(h)}}),a.$on("transaction-length-changed",function(){a.$evalAsync(function(){a.tableParams.total(a.transactions.length),a.tableParams.reload()})})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("AccountsPluginMessagesController",function(a,b,c,d,e,f,g,h,i,j,k){function l(){var b=e.get(a.selectedAccount.id_rs);a.messages=[],angular.forEach(a.transactions,function(c){if(1==c.type&&0==c.subtype){var d={},f=b.decoder.decode(c);!f||f&&1==f.encrypted&&null==f.text?d.html=k.trustAsHtml('<span>encrypted&nbsp;<a href="#" onclick="event.preventDefault(); if (angular.element(this).scope().onMessageUnlockClick) { angular.element(this).scope().onMessageUnlockClick(this) }">unlock&nbsp;<i class="fa fa-lock"></i></a></span>'):d.text=f.text,c.senderRS==a.selectedAccount.id_rs?d.to=c.recipientRS:(d.from=c.senderRS,d.publicKey=c.senderPublicKey),d.date=e.util.formatTimestamp(c.timestamp),a.messages.push(d)}})}function m(b,c){a.$evalAsync(function(){a.recipientAlertLevel=b,a.recipientDescriptionHTML=k.trustAsHtml(c)})}a.items={},a.items.recipientRS=null,a.items.messageContent=null,a.items.recipientPublicKey=null,a.recipientDescriptionHTML=null,a.messages=[],a.tableParams=new d({page:1,count:5},{total:0,getData:function(b,c){b.resolve(a.messages.slice((c.page()-1)*c.count(),c.page()*c.count()))}}),a.$on("transaction-length-changed",function(){a.$evalAsync(function(){l(),a.tableParams.total(a.messages.length),a.tableParams.reload()})}),a.sendMessage=function(b,c,d){var g=e.get(a.selectedAccount.id_rs),h={feeNQT:e.util.convertToNQT(g.engine.feeCost),deadline:"1440",engine:g.type};if(c)h.recipientPublicKey=c,h.recipient=g.crypto.getAccountIdFromPublicKey(h.recipientPublicKey,!1);else{var i=g.createAddress();i.set(b)&&(h.recipient=i.account_id())}h.sender=a.selectedAccount.id_rs,h.message=d,h.encrypt_message=!0,f.open("sendProgress",{resolve:{items:function(){return{api:g,args:h,method:"sendMessage"}}},close:function(){var b=g.downloadTransactions(a.selectedAccount);b.getUnconfirmedTransactions()},cancel:function(){}})},a.selectContact=function(){g.get("contacts").select({engine:a.engine}).then(function(b){a.$evalAsync(function(){a.items.recipientRS=b.id_rs,a.recipientChanged()})})},a.correctAddressMistake=function(a){console.log("correctAddressMistake",a),$("form[name=messageSendForm] input[name=recipient]").val(a.getAttribute("data-address")).change()},a.recipientChanged=function(){a.recipientDescriptionHTML=null;var b=e.get(a.selectedAccount.id_rs),c=a.items.recipientRS,d=c.split(":");d.length>1&&(a.items.recipientRS=c=d[0],a.items.recipientPublicKey=d[1]);var f=b.createAddress();if(f.set(c))b.getAccount({account:c}).then(function(b){b.publicKey?(a.items.recipientPublicKey=b.publicKey,a.items.recipient=b.account,m("info",j.format("recipient_info",{__nxt__:e.util.convertToNXT(b.unconfirmedBalanceNQT),__symbol__:a.symbol}))):m("warning",j.format("recipient_no_public_key",{__nxt__:e.util.convertToNXT(b.unconfirmedBalanceNQT),__symbol__:a.symbol}))},function(b){4==b.errorCode?m("danger",j.format("recipient_malformed")):5==b.errorCode?a.items.publishPublicKey||m("warning",j.format("recipient_unknown")):m("danger",j.format("recipient_problem",{__problem__:String(b.errorDescription).escapeHTML()}))});else if(1==f.guess.length)m("warning",j.format("recipient_malformed_suggestion",{__recipient__:'<span class="malformed_address" data-address="'+String(f.guess[0]).escapeHTML()+'" onclick="angular.element(this).scope().correctAddressMistake(this)">'+f.format_guess(f.guess[0],c)+"</span>"}));else if(f.guess.length>1){for(var g="<ul>",h=0;h<f.guess.length;h++)g+="<li>",g+='<span class="malformed_address" data-address="'+String(f.guess[h]).escapeHTML()+'" onclick="angular.element(this).scope().correctAddressMistake(this)">'+f.format_guess(f.guess[h],c)+"</span>",g+="</li>";g+="</ul>",m("warning",j.format("recipient_malformed_suggestion_plural",{__multiple__:g}))}else a.items.recipientRS&&m("danger",j.format("recipient_malformed"))}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("AccountsPluginNamespacedAliasesController",function(a,b,c,d,e){function f(a,b,c){for(var d=0,e=a.length;e>d;d++)if(a[d][b]==c)return d;return-1}function g(a,b){return b.timestamp-a.timestamp}function h(b){if(a.selectedAccount){var c=a.selectedAccount.id_rs;return b.filter(function(a){return a.senderRS==c&&40==a.type&&0==a.subtype})}return[]}a.transactions=[],a.tableParams=new d({page:1,count:10},{total:0,getData:function(b,c){var d=a.transactions.slice((c.page()-1)*c.count(),c.page()*c.count());b.resolve(d)}});var i=null;a.$watch("selectedAccount",function(d){if(a.transactions=[],d){var j=e.get(a.selectedAccount.id_rs).engine;j.db.transactions.where("senderRS").equals(a.selectedAccount.id_rs).and(function(a){return 40==a.type&&0==a.subtype}).toArray().then(function(b){c(function(){b.sort(g),a.transactions=b,a.tableParams.total(b.length),a.tableParams.reload()})}).catch(b.catch("Could not load transactions from database")),i=i||{create:function(b){a.transactions=a.transactions.concat(h(b)),a.transactions.sort(g)},update:function(b){angular.forEach(h(b),function(b){var c=f(a.transactions,"transaction",b.transaction);-1!=c&&angular.extend(a.transactions[c],b)})},remove:function(b){angular.forEach(h(b),function(b){var c=f(a.transactions,"transaction",b.transaction);-1!=c&&a.transactions.splice(c,1)})},"finally":function(){a.tableParams.total(a.transactions.length),a.tableParams.reload()}},j.db.transactions.addObserver(a,i)}}),a.edit=function(a,b){plugins.get("alerts").prompt({title:"Update alias",message:"Enter new value for key "+a,value:b})}})}(),function(){"use strict";var a=["like","just","love","know","never","want","time","out","there","make","look","eye","down","only","think","heart","back","then","into","about","more","away","still","them","take","thing","even","through","long","always","world","too","friend","tell","try","hand","thought","over","here","other","need","smile","again","much","cry","been","night","ever","little","said","end","some","those","around","mind","people","girl","leave","dream","left","turn","myself","give","nothing","really","off","before","something","find","walk","wish","good","once","place","ask","stop","keep","watch","seem","everything","wait","got","yet","made","remember","start","alone","run","hope","maybe","believe","body","hate","after","close","talk","stand","own","each","hurt","help","home","god","soul","new","many","two","inside","should","true","first","fear","mean","better","play","another","gone","change","use","wonder","someone","hair","cold","open","best","any","behind","happen","water","dark","laugh","stay","forever","name","work","show","sky","break","came","deep","door","put","black","together","upon","happy","such","great","white","matter","fill","past","please","burn","cause","enough","touch","moment","soon","voice","scream","anything","stare","sound","red","everyone","hide","kiss","truth","death","beautiful","mine","blood","broken","very","pass","next","forget","tree","wrong","air","mother","understand","lip","hit","wall","memory","sleep","free","high","realize","school","might","skin","sweet","perfect","blue","kill","breath","dance","against","fly","between","grow","strong","under","listen","bring","sometimes","speak","pull","person","become","family","begin","ground","real","small","father","sure","feet","rest","young","finally","land","across","today","different","guy","line","fire","reason","reach","second","slowly","write","eat","smell","mouth","step","learn","three","floor","promise","breathe","darkness","push","earth","guess","save","song","above","along","both","color","house","almost","sorry","anymore","brother","okay","dear","game","fade","already","apart","warm","beauty","heard","notice","question","shine","began","piece","whole","shadow","secret","street","within","finger","point","morning","whisper","child","moon","green","story","glass","kid","silence","since","soft","yourself","empty","shall","angel","answer","baby","bright","dad","path","worry","hour","drop","follow","power","war","half","flow","heaven","act","chance","fact","least","tired","children","near","quite","afraid","rise","sea","taste","window","cover","nice","trust","lot","sad","cool","force","peace","return","blind","easy","ready","roll","rose","drive","held","music","beneath","hang","mom","paint","emotion","quiet","clear","cloud","few","pretty","bird","outside","paper","picture","front","rock","simple","anyone","meant","reality","road","sense","waste","bit","leaf","thank","happiness","meet","men","smoke","truly","decide","self","age","book","form","alive","carry","escape","damn","instead","able","ice","minute","throw","catch","leg","ring","course","goodbye","lead","poem","sick","corner","desire","known","problem","remind","shoulder","suppose","toward","wave","drink","jump","woman","pretend","sister","week","human","joy","crack","grey","pray","surprise","dry","knee","less","search","bleed","caught","clean","embrace","future","king","son","sorrow","chest","hug","remain","sat","worth","blow","daddy","final","parent","tight","also","create","lonely","safe","cross","dress","evil","silent","bone","fate","perhaps","anger","class","scar","snow","tiny","tonight","continue","control","dog","edge","mirror","month","suddenly","comfort","given","loud","quickly","gaze","plan","rush","stone","town","battle","ignore","spirit","stood","stupid","yours","brown","build","dust","hey","kept","pay","phone","twist","although","ball","beyond","hidden","nose","taken","fail","float","pure","somehow","wash","wrap","angry","cheek","creature","forgotten","heat","rip","single","space","special","weak","whatever","yell","anyway","blame","job","choose","country","curse","drift","echo","figure","grew","laughter","neck","suffer","worse","yeah","disappear","foot","forward","knife","mess","somewhere","stomach","storm","beg","idea","lift","offer","breeze","field","five","often","simply","stuck","win","allow","confuse","enjoy","except","flower","seek","strength","calm","grin","gun","heavy","hill","large","ocean","shoe","sigh","straight","summer","tongue","accept","crazy","everyday","exist","grass","mistake","sent","shut","surround","table","ache","brain","destroy","heal","nature","shout","sign","stain","choice","doubt","glance","glow","mountain","queen","stranger","throat","tomorrow","city","either","fish","flame","rather","shape","spin","spread","ash","distance","finish","image","imagine","important","nobody","shatter","warmth","became","feed","flesh","funny","lust","shirt","trouble","yellow","attention","bare","bite","money","protect","amaze","appear","born","choke","completely","daughter","fresh","friendship","gentle","probably","six","deserve","expect","grab","middle","nightmare","river","thousand","weight","worst","wound","barely","bottle","cream","regret","relationship","stick","test","crush","endless","fault","itself","rule","spill","art","circle","join","kick","mask","master","passion","quick","raise","smooth","unless","wander","actually","broke","chair","deal","favorite","gift","note","number","sweat","box","chill","clothes","lady","mark","park","poor","sadness","tie","animal","belong","brush","consume","dawn","forest","innocent","pen","pride","stream","thick","clay","complete","count","draw","faith","press","silver","struggle","surface","taught","teach","wet","bless","chase","climb","enter","letter","melt","metal","movie","stretch","swing","vision","wife","beside","crash","forgot","guide","haunt","joke","knock","plant","pour","prove","reveal","steal","stuff","trip","wood","wrist","bother","bottom","crawl","crowd","fix","forgive","frown","grace","loose","lucky","party","release","surely","survive","teacher","gently","grip","speed","suicide","travel","treat","vein","written","cage","chain","conversation","date","enemy","however","interest","million","page","pink","proud","sway","themselves","winter","church","cruel","cup","demon","experience","freedom","pair","pop","purpose","respect","shoot","softly","state","strange","bar","birth","curl","dirt","excuse","lord","lovely","monster","order","pack","pants","pool","scene","seven","shame","slide","ugly","among","blade","blonde","closet","creek","deny","drug","eternity","gain","grade","handle","key","linger","pale","prepare","swallow","swim","tremble","wheel","won","cast","cigarette","claim","college","direction","dirty","gather","ghost","hundred","loss","lung","orange","present","swear","swirl","twice","wild","bitter","blanket","doctor","everywhere","flash","grown","knowledge","numb","pressure","radio","repeat","ruin","spend","unknown","buy","clock","devil","early","false","fantasy","pound","precious","refuse","sheet","teeth","welcome","add","ahead","block","bury","caress","content","depth","despite","distant","marry","purple","threw","whenever","bomb","dull","easily","grasp","hospital","innocence","normal","receive","reply","rhyme","shade","someday","sword","toe","visit","asleep","bought","center","consider","flat","hero","history","ink","insane","muscle","mystery","pocket","reflection","shove","silently","smart","soldier","spot","stress","train","type","view","whether","bus","energy","explain","holy","hunger","inch","magic","mix","noise","nowhere","prayer","presence","shock","snap","spider","study","thunder","trail","admit","agree","bag","bang","bound","butterfly","cute","exactly","explode","familiar","fold","further","pierce","reflect","scent","selfish","sharp","sink","spring","stumble","universe","weep","women","wonderful","action","ancient","attempt","avoid","birthday","branch","chocolate","core","depress","drunk","especially","focus","fruit","honest","match","palm","perfectly","pillow","pity","poison","roar","shift","slightly","thump","truck","tune","twenty","unable","wipe","wrote","coat","constant","dinner","drove","egg","eternal","flight","flood","frame","freak","gasp","glad","hollow","motion","peer","plastic","root","screen","season","sting","strike","team","unlike","victim","volume","warn","weird","attack","await","awake","built","charm","crave","despair","fought","grant","grief","horse","limit","message","ripple","sanity","scatter","serve","split","string","trick","annoy","blur","boat","brave","clearly","cling","connect","fist","forth","imagination","iron","jock","judge","lesson","milk","misery","nail","naked","ourselves","poet","possible","princess","sail","size","snake","society","stroke","torture","toss","trace","wise","bloom","bullet","cell","check","cost","darling","during","footstep","fragile","hallway","hardly","horizon","invisible","journey","midnight","mud","nod","pause","relax","shiver","sudden","value","youth","abuse","admire","blink","breast","bruise","constantly","couple","creep","curve","difference","dumb","emptiness","gotta","honor","plain","planet","recall","rub","ship","slam","soar","somebody","tightly","weather","adore","approach","bond","bread","burst","candle","coffee","cousin","crime","desert","flutter","frozen","grand","heel","hello","language","level","movement","pleasure","powerful","random","rhythm","settle","silly","slap","sort","spoken","steel","threaten","tumble","upset","aside","awkward","bee","blank","board","button","card","carefully","complain","crap","deeply","discover","drag","dread","effort","entire","fairy","giant","gotten","greet","illusion","jeans","leap","liquid","march","mend","nervous","nine","replace","rope","spine","stole","terror","accident","apple","balance","boom","childhood","collect","demand","depression","eventually","faint","glare","goal","group","honey","kitchen","laid","limb","machine","mere","mold","murder","nerve","painful","poetry","prince","rabbit","shelter","shore","shower","soothe","stair","steady","sunlight","tangle","tease","treasure","uncle","begun","bliss","canvas","cheer","claw","clutch","commit","crimson","crystal","delight","doll","existence","express","fog","football","gay","goose","guard","hatred","illuminate","mass","math","mourn","rich","rough","skip","stir","student","style","support","thorn","tough","yard","yearn","yesterday","advice","appreciate","autumn","bank","beam","bowl","capture","carve","collapse","confusion","creation","dove","feather","girlfriend","glory","government","harsh","hop","inner","loser","moonlight","neighbor","neither","peach","pig","praise","screw","shield","shimmer","sneak","stab","subject","throughout","thrown","tower","twirl","wow","army","arrive","bathroom","bump","cease","cookie","couch","courage","dim","guilt","howl","hum","husband","insult","led","lunch","mock","mostly","natural","nearly","needle","nerd","peaceful","perfection","pile","price","remove","roam","sanctuary","serious","shiny","shook","sob","stolen","tap","vain","void","warrior","wrinkle","affection","apologize","blossom","bounce","bridge","cheap","crumble","decision","descend","desperately","dig","dot","flip","frighten","heartbeat","huge","lazy","lick","odd","opinion","process","puzzle","quietly","retreat","score","sentence","separate","situation","skill","soak","square","stray","taint","task","tide","underneath","veil","whistle","anywhere","bedroom","bid","bloody","burden","careful","compare","concern","curtain","decay","defeat","describe","double","dreamer","driver","dwell","evening","flare","flicker","grandma","guitar","harm","horrible","hungry","indeed","lace","melody","monkey","nation","object","obviously","rainbow","salt","scratch","shown","shy","stage","stun","third","tickle","useless","weakness","worship","worthless","afternoon","beard","boyfriend","bubble","busy","certain","chin","concrete","desk","diamond","doom","drawn","due","felicity","freeze","frost","garden","glide","harmony","hopefully","hunt","jealous","lightning","mama","mercy","peel","physical","position","pulse","punch","quit","rant","respond","salty","sane","satisfy","savior","sheep","slept","social","sport","tuck","utter","valley","wolf","aim","alas","alter","arrow","awaken","beaten","belief","brand","ceiling","cheese","clue","confidence","connection","daily","disguise","eager","erase","essence","everytime","expression","fan","flag","flirt","foul","fur","giggle","glorious","ignorance","law","lifeless","measure","mighty","muse","north","opposite","paradise","patience","patient","pencil","petal","plate","ponder","possibly","practice","slice","spell","stock","strife","strip","suffocate","suit","tender","tool","trade","velvet","verse","waist","witch","aunt","bench","bold","cap","certainly","click","companion","creator","dart","delicate","determine","dish","dragon","drama","drum","dude","everybody","feast","forehead","former","fright","fully","gas","hook","hurl","invite","juice","manage","moral","possess","raw","rebel","royal","scale","scary","several","slight","stubborn","swell","talent","tea","terrible","thread","torment","trickle","usually","vast","violence","weave","acid","agony","ashamed","awe","belly","blend","blush","character","cheat","common","company","coward","creak","danger","deadly","defense","define","depend","desperate","destination","dew","duck","dusty","embarrass","engine","example","explore","foe","freely","frustrate","generation","glove","guilty","health","hurry","idiot","impossible","inhale","jaw","kingdom","mention","mist","moan","mumble","mutter","observe","ode","pathetic","pattern","pie","prefer","puff","rape","rare","revenge","rude","scrape","spiral","squeeze","strain","sunset","suspend","sympathy","thigh","throne","total","unseen","weapon","weary"],b=1626,c={seeds:0,seedLimit:512,push:function(a){Math.seedrandom(a,!0),this.seeds++
},isDone:function(){return this.seeds>=this.seedLimit?!0:!1},percentage:function(){return Math.round(this.seeds/this.seedLimit*100)}},d=angular.module("fim.base");d.controller("AccountsPluginAddModalController",function(d,e,f,g,h,i,j,k){function l(a,b,c){for(var d=0;d<a.length;d++)if(a[d][b]==c)return!1;return!0}function m(){return f.items.id_rs+":"+f.items.publicKey}function n(){var c=[];if(f.mouseRandom)for(var d=0;12>d;d++){var e=Math.floor(Math.random()*b+1);c.push(a[e])}else{var g=window.crypto||window.msCrypto,h=new Uint32Array(4);g.getRandomValues(h);for(var i,j,k,l,m=b,d=0;d<h.length;d++)i=h[d],j=i%m,k=((i/m>>0)+j)%m,l=(((i/m>>0)/m>>0)+k)%m,c.push(a[j]),c.push(a[k]),c.push(a[l]);g.getRandomValues(h)}return c.join(" ")}f.dialogName="Add Account",f.dialogTitle=f.dialogName,f.TYPE_FIM=h.TYPE_FIM,f.TYPE_NXT=h.TYPE_NXT,f.engine=void 0,f.symbol="",f.feeCost="",f.blockTime=0,f.state=void 0,f.items=d,f.mouseRandom=!(window.crypto||window.msCrypto),f.mouseRandomDone=!1,f.mouseRandomPercent=0,f.confirm_password="",f.saveAccountError=null;var o=[];j.accounts.toArray().then(function(a){o=a}),f.nameIsUnique=function(a){return l(o,"name",a)},f.idIsUnique=function(a){return l(o,"id_rs",a)},f.isValidID=function(a){if(a&&a.trim().length>0){var b=new NxtAddress(f.engine==h.TYPE_FIM?"FIM":"NXT");return!!b.set(a)}return!0},f.setState=function(a,b){g(function(){function d(a){console.log("setEngine",a),f.engine=a,f.symbol=a==f.TYPE_FIM?"FIM":"NXT",f.feeCost=a==f.TYPE_FIM?"0.1":"1",f.blockTime=a==f.TYPE_FIM?"30":"60",f.dialogTitle="Add "+f.symbol+" Account"}function e(a){f.items.secretPhrase=a,f.items.id_rs=h.crypto(f.engine).getAccountId(f.items.secretPhrase,!0),f.items.id=h.crypto(f.engine).getAccountId(f.items.secretPhrase,!1),f.items.publicKey=h.crypto(f.engine).secretPhraseToPublicKey(f.items.secretPhrase),f.items.publishAddress=m()}0==a?(f.items.secretPhrase=null,f.items.id_rs=null,f.items.id=null,f.items.publicKey=null,f.items.publishAddress=null,f.engine=void 0,f.dialogTitle="Add Account"):1==a?(d(b),f.mouseRandom&&!f.mouseRandomDone?$("html").bind("mousemove.mouseRandom",function(a){c.push([a.pageX,a.pageY,+new Date]),g(function(){f.mouseRandomDone=c.isDone(),f.mouseRandomDone?(e(n()),Math.seedrandom(),$("html").unbind("mousemove.mouseRandom")):f.mouseRandomPercent=c.percentage()})}):e(n())):2==a?f.confirm_password="":6==a&&d(b),f.state=a})},f.close=function(){j.accounts.add({id:f.items.id,id_rs:f.items.id_rs,name:f.items.name,publicKey:f.items.publicKey,engine:f.engine}).then(function(){f.items.secretPhrase&&g(function(){k.get("alerts").confirm({message:"Do you want to save this secretphrase to your wallet?"}).then(function(a){a&&k.get("wallet").addEntry({secretPhrase:f.items.secretPhrase,id_rs:f.items.id_rs,name:f.items.name}).then(function(){k.get("alerts").success({message:"You successfully saved the secretphrase to your wallet"})},function(){k.get("alerts").error({message:"Could not save secretphrase to wallet"})})})}),e.close(f.items)}).catch(function(a){g(function(){f.saveAccountError=a})})},f.publishAndFundAccount=function(){k.get("payment").create({recipientRS:f.items.id_rs,recipientPublicKey:f.items.publicKey,feeNXT:f.feeCost,amountNXT:"1",recipientReadonly:!0,skipSaveContact:!0,message:"By sending FIM to your new address you will publish the publickey."}).then(function(a){a&&a.transaction&&f.setState(4)})},f.generateSecretPhrase=function(){g(function(){f.items.secretPhrase=n(),f.items.id_rs=h.crypto(f.engine).getAccountId(f.items.secretPhrase,!0),f.items.id=h.crypto(f.engine).getAccountId(f.items.secretPhrase,!1),f.items.publicKey=h.crypto(f.engine).secretPhraseToPublicKey(f.items.secretPhrase)})},f.dismiss=function(){e.dismiss()},f.fetchPublicKey=function(){h.get(f.items.id_rs)&&h.get(f.items.id_rs).getAccount({account:f.items.id_rs}).then(function(a){console.log(a),g(function(){f.items.publicKey=a.publicKey})})},f.secretPhraseChanged=function(){g(function(){f.items.publicKey=h.crypto(f.engine).secretPhraseToPublicKey(f.items.secretPhrase),f.items.id_rs=h.crypto(f.engine).getAccountIdFromPublicKey(f.items.publicKey,!0)})}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("AccountsPluginEditModalController",function(a,b,c){c.items=a,c.close=function(){b.close(c.items)},c.dismiss=function(){b.dismiss()}})}(),function(){"use strict";var a=angular.module("fim.base");a.factory("selectionService",function(){function a(a,c){angular.forEach(b,function(b){try{b(a,c)}catch(d){throw console.log("Error in selectedAccount listener",d,d.stack),d}})}var b=[],c={};return{selection:null,set:function(b){var c=this.selection;this.selection=b,c!==this.selection&&a(this.selection,c)},addListener:function(a,d){d&&(c[d]=a),b.push(a)},removeListener:function(a){var d=a;if("function"!=typeof d&&(d=c[a]),d){var e=b.indexOf(a);-1!=e&&b.splice(e,1)}}}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("AccountsPluginReceiveMoneyModalController",function(a,b,c,d,e,f,g){function h(){"TYPE_NXT"==c.engine?j(m.dgex).success(function(a){i("online",a&&"online"==a.status)}).error(function(){i("online",!1)}):j(m.fimk).success(function(a){i("online",a&&"online"==a.status)}).error(function(){i("online",!1)}),c.loading=!0,c.message="Please wait",c.status="Determining if public key was published",c.icon="fa fa-cog fa-spin",l.getAccountPublicKey({account:k.id_rs}).then(function(a){(a.publicKey||"").length>0&&e(function(){c.status="Public key is published",c.icon="fa fa-check",k.update({isPublished:!0,publicKey:a.publicKey}).then(function(){e(function(){c.loading=!1,c.isPublished=!0,c.address=k.id_rs},1e3)})},1e3)},function(a){5==a.errorCode?e(function(){c.status="Public key was not published",c.icon="fa fa-exclamation-triangle",k.update({isPublished:!1}).then(function(){e(function(){(k.publicKey||"").length>0?(c.loading=!1,c.isPublished=!1,c.address=k.id_rs+":"+k.publicKey):f.open("secretPhrase",{resolve:{items:function(){return{sender:k.id_rs,message:"This account has no published public key and we don't seem to have a copy of it either. Please one-time provide the secret phrase for this account so we can calculate the public key for you."}}},close:function(a){var b=l.crypto.secretPhraseToPublicKey(a.secretPhrase);k.update({publicKey:b}).then(function(){e(function(){c.loading=!1,c.isPublished=!1,c.address=k.id_rs+":"+k.publicKey},1e3)})},cancel:function(){b.dismiss()}})},1e3)})},1e3):c.$evalAsync(function(){c.message="Unexpected Error",c.status="Please close this dialog and try again.",c.icon="fa fa-exclamation-triangle"})})}function i(a,b){e(function(){c[a]=b},240)}function j(a){var b=angular.extend({method:"GET",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},timeout:3e4},a);return d(b)}var k=a.account,l=a.api;c.items=a,c.engine=l.type,c.symbol=l.engine.symbol,c.faucet_warning="",c.dismiss=function(){b.dismiss()};var m={dgex:{url:"https://dgex.com/faucet.cgi?status"},fimk:{url:"http://fimk.fi/faucet.cgi?status"}},n={dgex:function(){return{url:"https://dgex.com/faucet.cgi?email="+encodeURIComponent(c.items.email)+"&account="+encodeURIComponent(k.id_rs)+"&publickey="+encodeURIComponent(k.publicKey)}},fimk:function(){return{url:"http://fimk.fi/faucet.cgi?email="+encodeURIComponent(c.items.email)+"&account="+encodeURIComponent(k.id_rs)+"&publickey="+encodeURIComponent(k.publicKey)}}};c.send=function(){var d="TYPE_NXT"==c.engine?"dgex":"fimk";j(n[d]()).success(function(){g.get("alerts").success({title:"Faucet submission success",html:"You have been emailed the confirmation link you must complete to activate the faucet transfer.<br>After confirming the email it takes between 10 seconds and several minutes until you receive your transaction."}).then(function(){b.close(a)})}).error(function(){c.$evalAsync(function(){c.faucet_warning="Something went wrong."})})},h()})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("AccountsPluginSendMoneyModalController",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a,b){c.$evalAsync(function(){c.recipientAlertLevel=a,c.recipientDescriptionHTML=i.trustAsHtml(b)})}c.dialogName="Send Money",c.dialogTitle=c.dialogName,c.setTitle=function(a){c.$evalAsync(function(){c.dialogTitle=c.dialogName+(a?" | "+a:"")})},c.show={},c.show.advanced=!1,c.show.message=!1,c.items=a,c.items.showPublicKey=a.showPublicKey||!1,c.items.amountNXT=a.amountNXT||"",c.items.deadline=a.deadline||"1440",c.items.recipientPublicKey=a.recipientPublicKey||"",c.items.recipientRS=a.recipientRS||"",c.items.senderRS=a.senderRS||"",c.items.recipientReadonly=a.recipientReadonly||!1,c.items.messagePublic=a.messagePublic||!1,c.items.message=a.message||"",c.items.txnMessageType="to_recipient",c.items.txnMessage="",c.recipientDescriptionHTML=null,c.recipientAlertLevel="info",c.TYPE_FIM=d.TYPE_FIM,c.TYPE_NXT=d.TYPE_NXT,c.engine=void 0,c.isSending=!1,c.sendSuccess=!1,c.accounts=[],c.selectedAccount=null;var n=null,o=!1;c.setEngine=function(a){if(o)throw new Error("Sanity check");n=d.get(a),c.engine=a,c.$evalAsync(function(){c.recipientChanged(),c.items.feeNXT=a==d.TYPE_FIM?"0.1":"1",c.symbol=n.engine.symbol});var b=a==d.TYPE_FIM?"FIM-":"NXT-";j.accounts.where("id_rs").startsWith(b).sortBy("name").then(function(a){if(c.accounts=a,c.selectedAccount=a[0],c.items.senderRS)for(var b=0;b<c.accounts.length;b++)if(c.accounts[b].id_rs==c.items.senderRS){c.$evalAsync(function(){c.selectedAccount=a[b]});break}}).catch(h.catch("Could not load accounts"))},c.items.senderRS&&c.setEngine(0==c.items.senderRS.indexOf("FIM-")?d.TYPE_FIM:d.TYPE_NXT),c.selectContact=function(){k.get("contacts").select({engine:c.engine}).then(function(a){c.$evalAsync(function(){c.items.recipientRS=a.id_rs,c.recipientChanged()})})},c.formatAccount=function(a){return a?a.id_rs+" - "+a.name:""},c.close=function(){if(c.sendSuccess)c.items.skipSaveContact?b.close(c.items):j.contacts.where("id_rs").equals(c.items.recipientRS).toArray().then(function(a){0==a.length?k.get("contacts").add({message:"Do you want to add this contact?",id_rs:c.items.recipientRS}).then(function(){b.close(c.items)}):b.close(c.items)});else{var a={amountNQT:d.util.convertToNQT(c.items.amountNXT),feeNQT:d.util.convertToNQT(c.items.feeNXT),deadline:c.items.deadline,engine:c.engine};if(c.items.recipientPublicKey)a.recipientPublicKey=c.items.recipientPublicKey,a.recipient=d.crypto(c.engine).getAccountIdFromPublicKey(a.recipientPublicKey,!1);else{var e=n.createAddress();e.set(c.items.recipientRS)&&(a.recipient=e.account_id())}if(a.sender=c.selectedAccount.id_rs,c.show.message)if(a.message=c.items.txnMessage,"to_self"==c.items.txnMessageType)a.note_to_self=!0;else if("to_recipient"==c.items.txnMessageType)a.encrypt_message=!0;else{if("public"!=c.items.txnMessageType)throw new Error("Not reached");a.public_message=!0}c.$evalAsync(function(){c.isSending=!0}),l.open("sendProgress",{resolve:{items:function(){return{api:n,args:a}}},close:function(){var a=n.downloadTransactions(c.selectedAccount);a.getUnconfirmedTransactions(),b.close(c.items)},cancel:function(){c.$evalAsync(function(){c.isSending=!1})}})}},c.dismiss=function(){b.dismiss()},c.correctAddressMistake=function(a){console.log("correctAddressMistake",a),$("form[name=paymentCreateForm] input[name=recipient]").val(a.getAttribute("data-address")).change()},c.recipientChanged=function(){c.recipientDescriptionHTML=null,c.items.showPublicKey=!1;var a=c.items.recipientRS,b=a.split(":");b.length>1&&(c.items.recipientRS=a=b[0],c.items.recipientPublicKey=b[1],c.items.showPublicKey=!0);var e=n.createAddress();if(e.set(a))n.getAccount({account:a}).then(function(a){console.log("account",a),a.publicKey?(c.items.recipientPublicKey=a.publicKey,c.items.recipient=a.account,m("info",g.format("recipient_info",{__nxt__:d.util.convertToNXT(a.unconfirmedBalanceNQT),__symbol__:c.symbol}))):(c.items.showPublicKey=!0,m("warning",g.format("recipient_no_public_key",{__nxt__:d.util.convertToNXT(a.unconfirmedBalanceNQT),__symbol__:c.symbol})))},function(a){4==a.errorCode?m("danger",g.format("recipient_malformed")):5==a.errorCode?c.items.publishPublicKey||m("warning",g.format("recipient_unknown")):m("danger",g.format("recipient_problem",{__problem__:String(a.errorDescription).escapeHTML()}))});else if(1==e.guess.length)m("warning",g.format("recipient_malformed_suggestion",{__recipient__:'<span class="malformed_address" data-address="'+String(e.guess[0]).escapeHTML()+'" onclick="angular.element(this).scope().correctAddressMistake(this)">'+e.format_guess(e.guess[0],a)+"</span>"}));else if(e.guess.length>1){for(var f="<ul>",h=0;h<e.guess.length;h++)f+="<li>",f+='<span class="malformed_address" data-address="'+String(e.guess[h]).escapeHTML()+'" onclick="angular.element(this).scope().correctAddressMistake(this)">'+e.format_guess(e.guess[h],a)+"</span>",f+="</li>";f+="</ul>",m("warning",g.format("recipient_malformed_suggestion_plural",{__multiple__:f}))}else c.items.recipientRS&&m("danger",g.format("recipient_malformed"))}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("AccountsPluginSendMoneyNoPublickeyModalController",function(a,b,c,d){var e=d.get(a.senderRS);c.symbol=e.engine.symbol,c.close=function(){b.close(c.items)},c.dismiss=function(){b.dismiss()}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("AccountsPluginSendProgressMoneyModalController",function(a,b,c,d,e){function f(a){c.$evalAsync(function(){c.message=a})}c.items=a,c.message="",c.method=a.method||"sendMoney",c.dismiss=function(){h.resolve(),b.dismiss()};var g={start:function(a){a==c.method?f("Creating transaction"):"broadcastTransaction"==a&&e(function(){f("Broadcasting transaction")},1e3)},success:function(a){a==c.method?f("Signing transaction"):"broadcastTransaction"==a&&(f("Successfully sent transaction"),e(function(){b.close()},1e3))},failed:function(a){a==c.method?(f("Could not create transaction"),e(function(){b.dismiss()},1e3)):"broadcastTransaction"==a&&(f("Could not broadcast transaction"),e(function(){b.dismiss()},1e3))}},h=d.defer();a.api[c.method](a.args,null,h,g).then(function(){},function(a){b.close(a)})})}(),function(){"use strict";var a=angular.module("fim.base");a.run(function(a,b,c,d){b.register({id:"startup","extends":"system",templateURL:"plugins/startup/partials/status.html",complete:!1,showModal:function(){if(!a.isOpen("startupModal")){var b=this;a.open("startupModal",{resolve:{items:function(){return{activities:d.activities}}},opened:function(){function a(){$("#startup-real-html-element")?b.start():c(a,30,!1)}a()}})}},modalIsOpen:function(){return a.isOpen("startupModal")},start:function(){d.start(),d.deferred.promise.then(function(){a.isOpen("startupModal")&&a.close("startupModal"),b.get("startup").complete=!0})}}),a.register("startupModal",{templateUrl:"plugins/startup/partials/startup.html",controller:"StartupModalController"}),c(function(){b.get("startup").showModal()},1e3,!1)})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("StartupModalController",function(a,b,c){c.activities=a.activities,c.close=function(){b.close()}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("StartupStatusPlugin",function(a,b){var c=b.get("startup");a.showDialog=function(){c.showModal()},a.show=function(){return!c.modalIsOpen()&&!c.complete}})}(),function(){"use strict";var a=angular.module("fim.base");a.run(function(a,b,c){function d(a,b){angular.extend(this,g),this.attachment={message:function(a){return["Message",a]},encryptedMessage:function(){return["Encrypted Message",JSON.stringify(b)]}}}function e(){angular.extend(this,g)}function f(){angular.extend(this,g),this.balanceNQT=function(a){return["Balance",c.util.convertToNXT(a)]},this.effectiveBalanceNXT=function(a){return["Effective Balance",c.util.commaFormat(String(a))]},this.unconfirmedBalanceNQT=function(a){return["Unconfirmed Balance",c.util.convertToNXT(a)]},this.forgedBalanceNQT=function(a){return["Forged Balance",c.util.convertToNXT(a)]},this.garanteedBalanceNQT=function(a){return["Garanteed Balance",c.util.convertToNXT(a)]}}var g={timestamp:function(a){return["Date",c.util.formatTimestamp(a)]},amountNQT:function(a){return["Amount",c.util.convertToNXT(a)]},feeNQT:function(a){return["Fee",c.util.convertToNXT(a)]},senderRS:function(a){return["Sender",a+'&nbsp;<a href="#" onclick="angular.element(this).scope().goToAccount(\''+a+"')\">(open)</a>"]},recipientRS:function(a){return["Recipient",a+'&nbsp;<a href="#" onclick="angular.element(this).scope().goToAccount(\''+a+"')\">(open)</a>"]},nextLesseeRS:function(a){return["Next Lessee",a+'&nbsp;<a href="#" onclick="angular.element(this).scope().goToAccount(\''+a+"')\">(open)</a>"]},currentLesseeRS:function(a){return["Current Lessee",a+'&nbsp;<a href="#" onclick="angular.element(this).scope().goToAccount(\''+a+"')\">(open)</a>"]},accountRS:function(a){return["Account",a+'&nbsp;<a href="#" onclick="angular.element(this).scope().goToAccount(\''+a+"')\">(open)</a>"]}};b.register({id:"inspector",label:"Inspector",inspect:function(b){a.open("inspectObject",{resolve:{items:function(){return b}}})},createTransactionTranslator:function(a,b){return new d(a,b)},createAssetTranslator:function(a,b){return new e(a,b)},createAccountTranslator:function(a,b){return new f(a,b)}}),a.register("inspectObject",{templateUrl:"plugins/inspector/partials/inspect.html",controller:"InspectorPluginInspectModalController"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("InspectorPluginInspectModalController",function(a,b,c,d,e,f){function g(b){var c=['<table class="table table-striped table-condensed table-hover"><tbody>'],d=[];return angular.forEach(b,function(a,b){d.push({key:b,value:a})}),l.length>0&&d.sort(function(a,b){return a=l.indexOf(a.key),b=l.indexOf(b.key),a=-1==a?Number.MAX_VALUE:a,b=-1==b?Number.MAX_VALUE:b,b>a?-1:a>b?1:0}),angular.forEach(d,function(b){k(c,0,b.key,b.value,a.translator||{})}),c.push("</tbody></table>"),console.log(c.join("")),c.join("")}function h(a,b,c){return a&&a[b]?a[b].call(null,c):[b,c]}function i(a){return"string"==typeof a?a[0].toUpperCase()+a.slice(1):a}function j(a,b,c,d,e){var f=h(e,c,d);a.push("<tr>"),a.push('<td style="padding-left:',b,'px;"><strong>',i(f[0]),"</strong></td>"),a.push("<td>",f[1],"</td>"),a.push("</tr>")}function k(a,b,c,d,e){var f=typeof d;"number"==f||"string"==f||"function"==f||"boolean"==f||null==d||void 0==d?j(a,b,c,d,e):(j(a,b,c,""),angular.forEach(d,function(d,f){k(a,b+10,f,d,e[c]||{})}))}c.items=a;var l=a.order?a.order.split(","):[];c.close=function(){b.close(c.items)},c.goToAccount=function(a){e(function(){f.transitionTo("accounts",{id_rs:a,action:"show"},{reload:!0})}),c.close()},c.tableHTML=d.trustAsHtml(g(a.object))})}(),function(){"use strict";try{var a="function"==typeof require&&require("child_process");if(!a)return}catch(b){return}var c=angular.module("fim.base");c.run(function(a,b,c){var d={senderRS:{type:String}};b.register({id:"forging","extends":"accounts",label:"Forging",create:function(e){if(b.validate(e,d)){var f=c.defer();return a.open("forgingStart",{resolve:{items:function(){return angular.copy(e)}},close:function(a){f.resolve(a)},cancel:function(){f.resolve(null)}}),f.promise}}}),a.register("forgingStart",{templateUrl:"plugins/forging/partials/forging-start-modal.html",controller:"ForgingPluginCreateModalController"})})}(),function(){"use strict";var a=angular.module("fim.base");a.run(function(a){a.initialize([{id:"forging.allowed.hosts",value:["http://127.0.0.1","http://localhost","http://0.0.0.0"],type:Array,label:"Allowed hosts",resolve:function(){}}])}),a.controller("ForgingPluginCreateModalController",function(a,b,c,d,e,f,g,h,i){function j(a){d(function(){c.items.status=a})}function k(a){var b=g.defer();return c.engine.getNode(c.items.host).then(function(d){l[a]({sender:c.items.senderRS},d).then(function(a){console.log("success",a),b.resolve(a),h.get("wallet")&&!h.get("wallet").hasKey(c.items.senderRS)&&h.get("alerts").confirm({message:"Do you want to save this secretphrase to your wallet?"}).then(function(b){b&&h.get("wallet").addEntry({secretPhrase:a.secretPhrase,id_rs:c.items.senderRS,name:c.items.name}).then(function(){h.get("alerts").success({message:"You successfully saved the secretphrase to your wallet"})},function(){h.get("alerts").error({message:"Could not save secretphrase to wallet"})})})},function(a){console.log("failed",a),b.reject(a)})}),b.promise}c.dialogName="Forging",c.dialogTitle=c.dialogName,c.setTitle=function(a){d(function(){c.dialogTitle=c.dialogName+(a?" | "+a:"")})},c.items=a,c.items.status="unknown",c.items.name="";var l=e.get(a.senderRS);c.engine=l.engine,c.alowedHosts=f.get("forging.allowed.hosts"),c.items.host=c.alowedHosts[0],c.dismiss=function(){b.dismiss()},i.accounts.where("id_rs").equals(c.items.senderRS).first(function(a){a&&(c.items.name=a.name)}),c.startForging=function(){k("startForging").then(function(a){j("Started forging | deadline="+a.deadline+" seconds")},function(a){j(JSON.stringify(a))})},c.stopForging=function(){k("stopForging").then(function(){j("Stopped forging")},function(a){j(JSON.stringify(a))})}})}(),function(){"use strict";var a=angular.module("fim.base");a.run(function(a,b,c){var d={senderRS:{type:String},key:{type:String},value:{type:String}};b.register({id:"namespacedAlias","extends":"accounts",label:"FIMK Alias",supported:function(a){return a?0==a.indexOf("FIM-"):!1},create:function(e){if(b.validate(e,d)){var f=c.defer();return a.open("namespacedAliasCreate",{resolve:{items:function(){return angular.copy(e)}},close:function(a){f.resolve(a)},cancel:function(){f.resolve(null)}}),f.promise}}}),a.register("namespacedAliasCreate",{templateUrl:"plugins/namespaced-alias/partials/namespaced-alias-create-modal.html",controller:"NamespacedAliasPluginCreateModalController"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("NamespacedAliasPluginCreateModalController",function(a,b,c,d,e,f){c.dialogName="Namespaced Alias",c.dialogTitle=c.dialogName,c.setTitle=function(a){e(function(){c.dialogTitle=c.dialogName+(a?" | "+a:"")})};var g=d.get(a.senderRS);c.engine=g.engine,c.items=a,c.items.errorMessage=null,c.items.deadline="1440",c.items.feeNXT=c.engine.feeCost,c.items.symbol=c.engine.symbol,c.close=function(){g.setNamespacedAlias({feeNQT:d.util.convertToNQT(c.items.feeNXT),deadline:c.items.deadline,sender:c.items.senderRS,aliasName:c.items.key,aliasURI:c.items.value}).then(function(){e(function(){f.accounts.where("id_rs").equals(a.senderRS).first().then(function(a){var b=g.startTransactionDownloader(a);b.getUnconfirmedTransactions()})},1e3),b.close(c.items)},function(a){c.items.errorMessage=a})},c.dismiss=function(){b.dismiss()},c.validateCharacters=function(a){return/^[a-zA-Z0-9\!\#\$\%\&\(\)\*\+\-\.\/:;\<=\>\?\@\[\]\_\{\|\}]+$/.test(a)},c.validateKeyLength=function(a){return a&&a.length<=100},c.validateValueLength=function(a){return a&&a.length<=1e3}})}(),function(){"use strict";var a=angular.module("fim.base");a.config(function(a){a.state("messenger",{url:"/messenger/:id_type",views:{"":{templateUrl:"plugins/underconstruction/partials/main.html",controller:"UnderconstructionPlugin"}}}),a.state("exchange",{url:"/exchange/:id_type",views:{"":{templateUrl:"plugins/underconstruction/partials/main.html",controller:"UnderconstructionPlugin"}}})}),a.run(function(a){a.register({id:"exchange","extends":"app",sref:"exchange",label:"Exchange",icon_class:"glyphicon glyphicon-transfer"}),a.register({id:"messenger","extends":"app",sref:"messenger",label:"Messenger",icon_class:"glyphicon glyphicon-comment"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("UnderconstructionPlugin",function(){})}(),function(){"use strict";var a=angular.module("fim.base");a.config(function(a){a.state("blocks",{url:"/blocks/:engine/:height",templateUrl:"plugins/blocks/partials/blocks.html",controller:"BlocksPlugin"})}),a.run(function(a,b,c,d,e,f,g){function h(){function a(){var e=g.next();f[e.table].orderBy("height").last().then(function(f){f&&d.push({label_pair:[e.label,c.util.formatTimestamp(f.timestamp),f.height],sref:"blocks({ engine: '"+e.id+"', height: '"+f.height+"'})"}),g.hasMore()?a():b.resolve(d)})}var b=e.defer(),d=[],g=new Iterator(j);return a(),b.promise}function i(){h().then(function(a){g(function(){k=a})})}var j=[{id:"nxt",label:"NXT",table:"nxtblocks"},{id:"fimk",label:"FIMK",table:"fimblocks"}],k=[];angular.forEach(j,function(a){k.push({label_pair:[a.label,"loading","*"],sref:"blocks({ engine: '"+a.id+"'})"})}),i(),b.register({id:"blocks","extends":"app",sref:"blocks",sub_menu:function(){return k},sub_menu_activate:i,label:"Blocks",icon_class:"glyphicon glyphicon-road"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("BlocksPlugin",function(a,b,c,d,e,f,g,h,i,j,k){function l(b){return localStorage["mofo.blocks."+a.selectedEngine.id+"."+b]}function m(b,c){localStorage["mofo.blocks."+a.selectedEngine.id+"."+b]=c}function n(){if(c.height){var b={height:parseInt(c.height),missing:!0};q.setSelectedBlock(b)}if(a.blocksTableParams.total(q.numberOfBlocks),a.blocksTableParams.reload(),angular.isDefined(c.height)){var d=parseInt(c.height);"number"==typeof d&&d>=0&&o.engine.db.blocks.where("height").equals(d).first().then(function(a){var a=a||{height:d,missing:!0};q.updateSelectedBlock(a),q.downloadBlocks([a])})}q.start()}if(a.engines=[{id:"fimk",type:d.TYPE_FIM,symbol:"FIMK"},{id:"nxt",type:d.TYPE_NXT,symbol:"NXT"}],a.selectedEngine=null,a.selectedBlock=null,angular.forEach(a.engines,function(b){c.engine==b.id&&(a.selectedEngine=b)}),!a.selectedEngine)return void b.go("blocks",{engine:a.engines[0].id});if(!angular.isDefined(c.height))return void b.go("blocks",{engine:a.selectedEngine.id,height:1});var o=d.get(a.selectedEngine.type),p=(o.engine.db,k.theater.createPodium("blocks",a));a.blocksTableParams=new f({page:1,count:10},{total:0,$scope:a,getData:function(a,b){var c=(b.page()-1)*b.count(),d=b.page()*b.count(),e=c;c=Math.max(0,q.numberOfBlocks-d)||0,d=Math.max(0,q.numberOfBlocks-e)||0,q.getBlocksRange(c,d).then(function(b){a.resolve(b)},i.catch("Could not get full range "+c+"/"+d))}}),a.transactionsTableParams=new f({page:1,count:6},{total:0,counts:[],$scope:a,getData:function(a,b){var c=(b.page()-1)*b.count(),d=b.page()*b.count();q.getTransactionsRange(c,d).then(function(b){a.resolve(b)},i.catch("Could not get full range "+c+"/"+d))}});var q=a.manager={page:{blocks:{lower:-1,upper:0},transactions:{lower:-1,upper:0}},numberOfBlocks:l("numberOfBlocks")||1,lastBlockchainFeederHeight:l("lastBlockchainFeederHeight")||1,cancellers:{},interval:3e4,start:function(){function b(){q.interval&&(q.timeout=h(function(){q.oninterval(),b()},q.interval))}b(),q.oninterval(),a.$on("$destroy",function(){h.cancel(q.timeout),q.interval=null,angular.forEach(q.cancellers,function(a){a.block&&a.block.resolve(),a.transaction&&a.transaction.resolve()})})},setNumberOfBlocks:function(a){m("numberOfBlocks",a),q.numberOfBlocks=a},setLastBlockchainFeederHeight:function(a){m("lastBlockchainFeederHeight",a),q.lastBlockchainFeederHeight=a},setIsDownloading:function(a){q.interval=a?1e4:3e4,q.downloading=a},oninterval:function(){o.getState().then(function(b){q.numberOfBlocks!=b.numberOfBlocks&&h(function(){q.setIsDownloading(b.numberOfBlocks<b.lastBlockchainFeederHeight-33),q.setLastBlockchainFeederHeight(b.lastBlockchainFeederHeight),q.setNumberOfBlocks(b.numberOfBlocks),q.page.blocks={lower:-1,upper:0},a.blocksTableParams.total(b.numberOfBlocks),a.blocksTableParams.reload()})})},setSelectedBlock:function(b){a.selectedBlock=b,a.selectedBlock.totalAmountNXT=d.util.convertToNXT(b.totalAmountNQT||0),a.selectedBlock.totalFeeNXT=d.util.convertToNXT(b.totalFeeNQT||0),a.selectedBlock.totalPOSRewardNXT=d.util.convertToNXT(b.totalPOSRewardNQT||0),q.page.transactions={lower:-1,upper:0};var c=b.numberOfTransactions||0;a.transactionsTableParams.page(1),a.transactionsTableParams.total(c),a.transactionsTableParams.reload()},updateSelectedBlock:function(b){var c=b.numberOfTransactions||0,e=c!=a.selectedBlock.numberOfTransactions||0;angular.extend(a.selectedBlock,b),a.selectedBlock.totalAmountNXT=d.util.convertToNXT(b.totalAmountNQT||0),a.selectedBlock.totalFeeNXT=d.util.convertToNXT(b.totalFeeNQT||0),a.selectedBlock.totalPOSRewardNXT=d.util.convertToNXT(b.totalPOSRewardNQT||0),e&&(q.page.transactions={lower:-1,upper:0},a.transactionsTableParams.total(c),a.transactionsTableParams.reload())},getBlocksRange:function(a,b){var c=g.defer();return angular.forEach(q.cancellers,function(c,d){(a>d||d>=b)&&(c.block&&c.block.resolve(),c.transaction&&c.transaction.resolve(),delete q.cancellers[d])}),q.getBlocksRangeDB(a,b).then(function(d){var e={};angular.forEach(d,function(a){e[a.height]=a,"string"!=typeof a.generator&&(e[a.height].missing=!0)});for(var f=[],g=a;b>g;g++)f.push(e[g]?e[g]:{height:g,missing:!0});f.reverse(),q.blocksPageChanged(a,b)&&(q.page.blocks.lower=a,q.page.blocks.upper=b,h(function(){q.downloadBlocks(f)})),c.resolve(f)},c.reject),c.promise},getTransactionsRange:function(b,c){var e=g.defer(),f=a.selectedBlock;return f?q.getTransactionsDB(f.id||"").then(function(a){var g=(j.get("blocks"),{});angular.forEach(a,function(a){g[a.transaction]=a,g[a.transaction].amountNXT=d.util.convertToNXT(a.amountNQT),g[a.transaction].icon=o.renderer.getIcon(a),g[a.transaction].renderedHTML=o.renderer.getHTML(a)});var i=[];angular.forEach(f.transactions,function(a){i.push(g[a]?g[a]:{block:f.id,height:f.height,transaction:a,missing:!0})}),i=i.slice(b,c),q.transactionsPageChanged(b,c)&&(q.page.transactions.lower=b,q.page.transactions.upper=c,h(function(){q.downloadTransactions(i)})),e.resolve(i)},e.reject):e.resolve([]),e.promise},blocksPageChanged:function(a,b){return q.page.blocks.lower!=a||q.page.blocks.upper!=b},transactionsPageChanged:function(a,b){return q.page.transactions.lower!=a||q.page.transactions.upper!=b},getBlocksRangeDB:function(a,b){return o.engine.db.blocks.where("height").between(a,b,!0,!1).toArray()},getTransactionsDB:function(a){return o.engine.db.transactions.where("block").equals(a).toArray()},getBlockCanceller:function(a){var b=q.cancellers[a]||(q.cancellers[a]={});return b.block||(b.block=g.defer())},getTransactionCanceller:function(a){var b=q.cancellers[a]||(q.cancellers[a]={});return b.transaction||(b.transaction=g.defer())},getBlockId:function(a){var b=g.defer();return o.getBlockId({height:a},{podium:p,priority:2}).then(function(c){o.engine.db.blocks.put({height:a,id:c.block}).then(function(){b.resolve(c.block)},b.reject)},b.reject),b.promise},getBlock:function(b,c){o.getBlock({block:b},{podium:p,priority:1}).then(function(b){a.selectedBlock&&b&&b.height==a.selectedBlock.height&&h(function(){q.updateSelectedBlock(b)}),o.engine.db.blocks.update(c,b)})},currentTransactionHeight:0,getTransaction:function(b,c){c!==this.currentTransactionHeight&&(this.currentTransactionHeight=c,this.transactionPodium=k.theater.createPodium("transactions",a)),o.getTransaction({transaction:b},{podium:this.transactionPodium,priority:3}).then(function(a){o.engine.db.transactions.put(a)})},downloadBlocks:function(a){angular.forEach(a,function(a){return a.missing?a.id?void q.getBlock(a.id,a.height):void q.getBlockId(a.height).then(function(b){b&&o.engine.db.blocks.where("id").equals(b).first().then(function(c){c&&"string"==typeof c.generator||q.getBlock(b,a.height)})},function(b){console.log("downloadBlocks height="+a.height,b)}):void 0})},downloadTransactions:function(a){angular.forEach(a,function(a){a.missing&&q.getTransaction(a.transaction,a.height)})}};o.engine.db.blocks.addObserver(a,{"finally":function(){h(function(){a.blocksTableParams.total(q.numberOfBlocks),a.blocksTableParams.reload()})}}),o.engine.db.transactions.addObserver(a,{"finally":function(){h(function(){var b=a.selectedBlock.numberOfTransactions||0;a.transactionsTableParams.total(b),a.transactionsTableParams.reload()})}}),a.formatTimestamp=function(a){return d.util.formatTimestamp(a)},n()})}(),function(){"use strict";var a=angular.module("fim.base");
a.config(function(a){a.state("plugins",{url:"/plugins/:id",templateUrl:"plugins/plugins/partials/plugins.html",controller:"PluginsPlugin"})}),a.run(function(a,b,c,d,e,f){function g(a,b,c){var d="<p><h4>"+a+'<small class="pull-right">'+c+'</small><br><br><small class="pull-right">Made by:&nbsp;<strong>'+b+"</strong></small><br></h4><p>";return f.trustAsHtml(d)}var h=[{sref:'plugins({id: "faucet"})',html:g("Faucet","DGEX","0.1")},{sref:'plugins({id: "masspay"})',html:g("Mass Pay","FIMKrypto","0.1")}];b.register({id:"plugins","extends":"app",sub_menu_html:function(){return h},sref:"plugins",label:"Plugins",icon_class:"glyphicon glyphicon-cog"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("PluginsPlugin",function(a,b,c){a.plugins=[];var d={};b.install("plugins",function(b){a.plugins.push(b),d[b.id]=b}),a.selectedPlugin=d[c.id]})}(),function(){"use strict";var a=angular.module("fim.base");a.run(function(a){a.register({id:"faucet",label:"Faucet",author:"DGEX",version:"0.1","extends":"plugins",icon_class:"glyphicon glyphicon-gift",templateURL:"plugins/faucet/partials/faucet.html"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("FaucetPluginController",function(a,b,c,d,e,f){function g(b,d){c(function(){a[b]=d},240)}function h(a){var b=angular.extend({method:"GET",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},timeout:3e4},a);return f(b)}a.items={},a.items.email="",a.items.account="",a.items.sendButtonTxt="Send",a.items.type="",a.items.success="",a.items.error="",a.dgex_online=!1,a.fimk_online=!1,a.selectAccount=function(){d.get("contacts").select({get_all:!0}).then(function(a){console.log("account",a),$("form[name=faucetForm] input[name=account]").val(a.id_rs).change(),$("form[name=faucetForm] input[name=publickey]").val(a.publicKey).change()})},a.accountChanged=function(){var b=a.items.account||"",d=e.get(b);if(a.items.type=d?d.type:"",d){var f=d.createAddress();f.set(b)?a.faucetForm.account.$setValidity("required",!0):a.faucetForm.account.$setValidity("required",!1),c(function(){a.items.sendButtonTxt=d.type==e.TYPE_NXT?"Send to DGEX":"Send to Krypto Fin ry"})}else a.faucetForm.account.$setValidity("required",!1)};var i={dgex:{url:"https://dgex.com/faucet.cgi?status"},fimk:{url:"http://fimk.fi/faucet.cgi?status"}},j={dgex:function(){return{url:"https://dgex.com/faucet.cgi?email="+encodeURIComponent(a.items.email)+"&account="+encodeURIComponent(a.items.account)+"&publickey="+encodeURIComponent(a.items.publicKey)}},fimk:function(){return{url:"http://fimk.fi/faucet.cgi?email="+encodeURIComponent(a.items.email)+"&account="+encodeURIComponent(a.items.account)+"&publickey="+encodeURIComponent(a.items.publicKey)}}};h(i.dgex).success(function(a){g("dgex_online",a&&"online"==a.status)}).error(function(){g("dgex_online",!1)}),h(i.fimk).success(function(a){g("fimk_online",a&&"online"==a.status)}).error(function(){g("fimk_online",!1)}),a.send=function(){var b=a.items.type==e.TYPE_NXT?"dgex":"fimk";h(j[b]()).success(function(){c(function(){a.items.error="",a.items.success="You have been emailed the confirmation link you must complete to activate the faucet transfer"})}).error(function(){c(function(){a.items.error="Failed",a.items.success=""})})}})}(),function(){"use strict";var a=angular.module("fim.base");a.run(function(a,b,c){var d=null,e=null;a.register({id:"masspay",label:"Mass Payer",author:"FIMKrypto",version:"0.1","extends":"plugins",icon_class:"glyphicon glyphicon-th",templateURL:"plugins/masspay/partials/masspay.html",createOnWalletFileSelectedPromise:function(){return d=c.defer(),d.promise},save:function(a){var b=new Blob([a],{type:"text/plain;charset=utf-8"});saveAs(b,e?e.name:"mass-pay.csv")}}),window.onMassPayFileSelected=function(a){e=a.target.files[0];var b=new FileReader;b.onload=function(a){d.resolve({content:a.target.result,file:e})},b.onerror=function(){d&&(d.reject(),d=null)},b.onabort=function(){d&&(d.reject(),d=null)},b.readAsText(e)}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("MasspayPluginController",function(a,b,c,d,e,f,g,h,i,j){function k(){p.createOnWalletFileSelectedPromise().then(function(b){c(function(){a.items.csv=b.content,a.items.file=b.file.name,a.load(),k()})})}function l(a){var b=j.defer();return d.get("wallet").hasKey(a)&&d.get("wallet").getEntry(a).secretPhrase?b.response(d.get("wallet").getEntry(a).secretPhrase):i.open("secretPhrase",{resolve:{items:function(){return{sender:a}}},close:function(a){b.resolve(a.secretPhrase)},cancel:function(){b.reject()}}),b.promise}function m(a,b){var c=j.defer();if(a.publicKey)c.resolve(a.publicKey);else{var d=q.crypto.secretPhraseToPublicKey(b);a.update({publicKey:d}).then(function(){c.resolve(d)})}return c.promise}function n(a){s.push(a),$("#masspay-status").val(s.join("\n")).change()}function o(b){var d=b.next(),f=null,g=d.recipientRS;-1!=g.indexOf(":")&&(g=d.recipientRS.split(":")[0],f=d.recipientRS.split(":")[1]);var h=q.createAddress();if(!h.set(g))return n("Illegal address "+d.recipientRS),!1;var i=h.account_id(),j={sender:a.selectedAccount.id_rs,publicKey:a.selectedAccount.publicKey,secretPhrase:r,amountNQT:d.amountNQT,feeNQT:e.util.convertToNQT(String(q.engine.feeCost)),deadline:"1440",engine:q.type,recipient:i};f&&(j.recipientPublicKey=f),d.unique_id&&(j.message=d.unique_id,j.public_message=!0),q.sendMoney(j).then(function(){n("Success payment of "+e.util.convertToNXT(d.amountNQT)+" "+q.engine.symbol+" to "+i),c(function(){d.status="success"}),b.hasMore()&&o(b)},function(){n("Failed payment of "+e.util.convertToNXT(d.amountNQT)+" "+q.engine.symbol+" to "+i),c(function(){d.status="failed"})})}var p=d.get("masspay");a.items={},a.items.csv="",a.items.file="",a.payments=[],a.cumulativeNQT="0",a.selectedAccount=null;var q=null,r=null;a.tableParams=new g({page:1,count:10},{total:0,getData:function(b,c){b.resolve(a.payments.slice((c.page()-1)*c.count(),c.page()*c.count()))}}),k(),a.selectAccount=function(){d.get("contacts").select({get_all:!0}).then(function(b){c(function(){a.selectedAccount=b,q=e.get(b.id_rs)})})},a.saveAs=function(){p.save(a.items.csv)},a.load=function(){c(function(){a.payments=[],a.cumulativeNQT="0";var b=a.items.csv.split("\n");angular.forEach(b,function(b){var c=(b||"").trim().split(",");if(2==c.length)var d=c[0].trim(),f=c[1].trim();else{if(3!=c.length)return;var d=c[0].trim(),f=c[1].trim(),g=c[2].trim()}var h=e.util.convertToNQT(f);a.cumulativeNQT=e.util.safeAdd(a.cumulativeNQT,h),a.payments.push({recipientRS:d,amountNQT:h,amountNXT:e.util.convertToNXT(h),unique_id:g,cumulativeNXT:e.util.convertToNXT(a.cumulativeNQT),status:"pending"})}),a.tableParams.total(a.payments.length),a.tableParams.reload()})},a.execute=function(){var b="<strong>Are you sure you want to execute this mass payment?</strong>";b+="<br>A total of <strong>"+e.util.convertToNXT(a.cumulativeNQT)+" "+q.engine.symbol+"</strong> will be paid in <strong>"+a.payments.length+"</strong> transactions",d.get("alerts").confirm({title:"Mass Pay Plugin",html:h.trustAsHtml(b)}).then(function(b){b&&l(a.selectedAccount.id_rs).then(function(b){m(a.selectedAccount,b).then(function(){r=b;var c=new Iterator(a.payments);c.hasMore()&&o(c)})})})},$("#masspay-status").change(function(){$("#masspay-status").scrollTop($("#masspay-status")[0].scrollHeight)});var s=[]})}(),function(){"use strict";var a=angular.module("fim.base");a.run(function(a,b,c){var d=b.register({registry:{},id:"themes",label:"Themes","extends":"settings",icon_class:"glyphicon glyphicon-fire",templateURL:"plugins/themes/partials/themes.html",switchTo:function(a){document.getElementById("bootswatch.style").setAttribute("href",this.registry[a].url)},register:function(a,b,c){this.registry[a]={label:b,url:c,id:a}},"default":function(){return this.registry.spacelab}});c.initialize([{id:"themes.default.theme",value:"yeti",type:String,label:"Default theme",resolve:function(a){d.switchTo(a)}}]),angular.forEach(["amelia","cerulean","cosmo","custom","cyborg","darkly","flatly","journal","lumen","paper","readable","sandstone","simplex","slate","spacelab","superhero","united","yeti"],function(a){var b=a.charAt(0).toUpperCase()+a.slice(1);d.register(a,b,"plugins/themes/css/"+a+".bootstrap.min.css")})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("SettingsThemesController",function(a,b,c,d){var e=c.get("themes.default.theme");a.themes=[],a.selectedTheme=null,angular.forEach(b.get("themes").registry,function(b){a.themes.push(b),b.id==e&&(a.selectedTheme=b)}),c.resolve("themes.default.theme",function(b){angular.forEach(a.themes,function(c){c.id==b&&d(function(){a.selectedTheme=c})})}),a.changeTheme=function(a){c.update("themes.default.theme",a.id)}})}(),function(){"use strict";try{var a="function"==typeof require&&require("child_process");if(!a)return}catch(b){return}var c=angular.module("fim.base");c.run(function(a){a.register({id:"full-node","extends":"settings",label:"Local Server",icon_class:"glyphicon glyphicon-hdd",templateURL:"plugins/full-node/partials/full-node.html"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("SettingsPluginFullNodeController",function(a,b,c){function d(a,c){this.id=a,this.label=c,this.running=b.isRunning(a),this.messages=[],this.selector="#"+a+"-server-status",this.dir=b.getDir(a);var d=b.getStartCommand(a);this.command=d.command+" "+d.args.join(" "),this.init()}a.bufferSize=1e3,d.prototype={init:function(){function d(){0==$(e.selector).length&&c(d,100)}var e=this;this.onStart=function(){e.status("MofoWallet Server Started"),c(function(){e.running=!0})},this.onExit=function(){e.status("MofoWallet Server Stopped"),c(function(){e.running=!1})},this.onUpdate=function(){e.update()},b.addListener(this.id,"start",this.onStart),b.addListener(this.id,"exit",this.onExit),b.addListener(this.id,"stdout",this.onUpdate),b.addListener(this.id,"stderr",this.onUpdate),a.$on("destroy",function(){b.removeListener(e.id,"start",e.onStart),b.removeListener(e.id,"exit",e.onExit),b.removeListener(e.id,"stdout",e.onUpdate),b.removeListener(e.id,"stderr",e.onUpdate)}),d()},start:function(){this.status("MofoWallet Server Starting"),b.startServer(this.id)},stop:function(){this.status("MofoWallet Server Stopping"),b.stopServer(this.id)},isRunning:function(){return b.isRunning(this.id)},update:function(){var c=b.getMessages(this.id),d=c.length>a.bufferSize?0-a.bufferSize:0;this.messages=c.slice(d),this.setConsoleText(this.messages.join("\n"))},status:function(b){this.messages.push(b);var c=this.messages.length>a.bufferSize?0-a.bufferSize:0;this.messages=this.messages.slice(c),this.setConsoleText(this.messages.join("\n"))},setConsoleText:function(a){var b=$(this.selector);b&&b[0]&&(b.val(a),b.scrollTop(b[0].scrollHeight))}},a.server={TYPE_NXT:new d("TYPE_NXT","NXT Server"),TYPE_FIM:new d("TYPE_FIM","FIMK Server")},a.selectedTabChanged=function(b){a.server[b].update()},c(function(){a.server.TYPE_NXT.update(),a.server.TYPE_FIM.update()},500)})}(),function(){"use strict";function a(a){var b=0;for(var c in a){if(!(c in g&&new Object(a[c])instanceof g[c]&&void 0!==a[c]))return console.log("wallet.validateEntry Invalid entry for "+c,a),!1;b++}return b==h}function b(a,b){if(!window.crypto&&!window.msCrypto)throw new Error("FIX ME !! Should use mouse initiated seed!!!");var c=converters.stringToByteArray(a),d=CryptoJS.SHA256(converters.byteArrayToWordArray(c)),e=new Uint8Array(16);window.crypto?window.crypto.getRandomValues(e):window.msCrypto.getRandomValues(e);var f=converters.byteArrayToWordArray(e),g=CryptoJS.AES.encrypt(b,d.toString(CryptoJS.enc.Hex),{iv:f,format:i});return g.toString()}function c(a,b){var c=converters.stringToByteArray(a),d=CryptoJS.SHA256(converters.byteArrayToWordArray(c)),e=CryptoJS.AES.decrypt(b,d.toString(CryptoJS.enc.Hex),{format:i});return e.toString(CryptoJS.enc.Utf8)}function d(a){return a=angular.copy(a),a.padding=new Array(2e4).join("ABCD"),a}function e(a){return delete a.padding,angular.copy(a)}var f=angular.module("fim.base");f.run(function(f,g,h,i,j,k){function l(a,b){var d=h.defer();return g.open("walletPassword",{resolve:{items:function(){return{password:"",file:a,isPasswordCorrect:function(a){try{return c(a,b),!0}catch(d){return!1}}}}},close:function(a){d.resolve(a.password)},cancel:function(){d.reject()}}),d.promise}function m(){var a=h.defer();return g.open("walletOpen",{resolve:{items:function(){return{}}},close:function(){a.resolve()},cancel:function(){a.reject()}}),a.promise}function n(a,b){var c=h.defer();return g.open("walletSave",{resolve:{items:function(){return{password:b||"",file:a||""}}},close:function(a){c.resolve(a)},cancel:function(){c.reject()}}),c.promise}function o(a){return r?r[a]:null}var p="",q="",r=null,s=null;f.register({id:"wallet",label:"Wallet","extends":"settings",icon_class:"glyphicon glyphicon-briefcase",templateURL:"plugins/wallet/partials/wallet-manager.html",getFile:function(){return q},getWallet:function(){return angular.copy(r)},getKeys:function(){return r?Object.keys(r):[]},hasKey:function(a){return r?!!r[a]:!1},remove:function(a){delete r[a]},getSecretPhrase:function(a){return r&&r[a]?r[a].secretPhrase:null},promptForWallet:function(){return m()},getEntry:function(a){var b=h.defer();return r&&o(a)?b.resolve(o(a)):r?f.get("alerts").warn({message:"Key not found in wallet. Close dialog to select another wallet."}).then(function(){m().then(function(){f.get("wallet").getEntry(a).then(b.resolve,b.reject)},function(){b.reject()})}):m().then(function(){f.get("wallet").getEntry(a).then(b.resolve,b.reject)},function(){b.reject()}),b.promise},addEntry:function(b){var c=this,d=h.defer();return a(b)?r?(r[b.id_rs]=b,this.save(q.name,p).then(d.resolve,d.reject)):f.get("alerts").confirm({message:"Do you want to store this secretphrase in an existing wallet?"}).then(function(a){a?m().then(function(){f.get("wallet").addEntry(b)},d.reject):(r={},r[b.id_rs]=b,c.save().then(d.resolve,d.reject))}):(console.log("Invalid entry !!",b),d.reject()),d.promise},createOnWalletFileSelectedPromise:function(){return s=h.defer(),s.promise},save:function(a,c){if(null===r)throw new Error("No wallet opened, cannot save.");var e=h.defer();return n(c).then(function(c){try{var f=JSON.stringify(d(r)),g=b(c.password,f),h=new Blob([g],{type:"text/plain;charset=utf-8"});saveAs(h,a||"mofo.wallet")}catch(j){e.reject(j)}i(function(){e.resolve()},1e3)},function(){e.reject()}),e.promise},manager:function(){var a=h.defer();return g.open("walletManager",{resolve:{items:function(){return{}}},close:function(){a.resolve()}}),a.promise}}),g.register("walletManager",{templateUrl:"plugins/wallet/partials/wallet-manager-modal.html",controller:"WalletManagerModalController"}),g.register("walletPassword",{templateUrl:"plugins/wallet/partials/wallet-password-modal.html",controller:"WalletPasswordModalController"}),g.register("walletOpen",{templateUrl:"plugins/wallet/partials/wallet-open-modal.html",controller:"WalletOpenModalController"}),g.register("walletSave",{templateUrl:"plugins/wallet/partials/wallet-save-modal.html",controller:"WalletSaveModalController"}),window.onWalletFileSelected=function(a){r=null,p=null,q=null;var b=a.target.files[0],d=new FileReader;d.onload=function(a){var d=a.target.result;l(b,d).then(function(a){try{var f=c(a,d);r=e(JSON.parse(f)),p=a,q=b,j.accounts.toArray().then(function(a){var b={};angular.forEach(a,function(a){b[a.id_rs]=a}),j.transaction("rw",j.accounts,function(){angular.forEach(r,function(a){a.id_rs in b||j.accounts.put({id_rs:a.id_rs,name:a.name,engine:k.get(a.id_rs).type})})})}),s&&(s.resolve({password:a,file:b}),s=null)}catch(g){console.log("unlockWallet",g,g.stack),s&&(s.reject(),s=null)}})},d.onerror=function(){s&&(s.reject(),s=null)},d.onabort=function(){s&&(s.reject(),s=null)},d.readAsText(b)}});var g={name:String,id_rs:String,secretPhrase:String},h=Object.keys(g).length,i={stringify:function(a){var b={ct:a.ciphertext.toString(CryptoJS.enc.Base64)};return a.iv&&(b.iv=a.iv.toString()),a.salt&&(b.s=a.salt.toString()),JSON.stringify(b,void 0,2)},parse:function(a){var b=JSON.parse(a),c=CryptoJS.lib.CipherParams.create({ciphertext:CryptoJS.enc.Base64.parse(b.ct)});return b.iv&&(c.iv=CryptoJS.enc.Hex.parse(b.iv)),b.s&&(c.salt=CryptoJS.enc.Hex.parse(b.s)),c}}}(),function(){"use strict";var a=angular.module("fim.base");a.controller("SettingsPluginWalletController",function(a,b,c,d,e,f,g){function h(){a.entries=[],a.wallet=k.getWallet(),a.file=k.getFile(),a.label=j(a.file),a.fileName=a.file&&a.file.name||"",angular.forEach(k.getKeys(),function(b){var c=a.wallet[b];a.entries.push({name:c.name,id_rs:c.id_rs})})}function i(a){if(0==a)return"0 Byte";var b=1e3,c=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],d=Math.floor(Math.log(a)/Math.log(b));return(a/Math.pow(b,d)).toPrecision(3)+" "+c[d]}function j(a){return a?"File: "+a.name+" | "+i(a.size)+" | last modified: "+$.timeago(a.lastModifiedDate):""}var k=c.get("wallet");a.fileName="",h(),c.get("wallet").createOnWalletFileSelectedPromise().then(function(){b(function(){h()})},function(){}),a.backupWallet=function(){k.save(a.fileName)},a.showSecretPhrase=function(b){var d=a.wallet[b];d&&c.get("alerts").info({title:"Secretphrase for "+d.id_rs,message:d.secretPhrase})},a.removeSecretPhrase=function(b){var e=a.wallet[b];e&&c.get("alerts").confirm({html:g.trustAsHtml("<p>Please confirm that you want to remove this account from your wallet.<br>You must save/backup your wallet for the removal to take effect.</p>")}).then(function(e){e&&a.$evalAsync(function(){k.remove(b),c.get("alerts").confirm({html:g.trustAsHtml("<p>Do you want to remove this account from mofo's database too?<br>If you choose not to remove the account from the database you can remove it later from within the accounts section.</p>")}).then(function(a){a?d.accounts.delete(b).then(function(){h()}):h()})})})}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("WalletOpenModalController",function(a,b,c,d,e){c.items=a,c.items.invalidPassword=!1,e.get("wallet").createOnWalletFileSelectedPromise().then(function(){b.close()},function(){}),c.dismiss=function(){b.dismiss()}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("WalletPasswordModalController",function(a,b,c,d){function e(a){if(0==a)return"0 Byte";var b=1e3,c=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],d=Math.floor(Math.log(a)/Math.log(b));return(a/Math.pow(b,d)).toPrecision(3)+" "+c[d]}c.items=a,c.items.wrongPassword=!1,c.close=function(){c.items.isPasswordCorrect(c.items.password)?b.close(c.items):d(function(){c.items.wrongPassword=!0})},c.dismiss=function(){b.dismiss()},c.formatFile=function(a){return"File: "+a.name+" | "+e(a.size)+" | last modified: "+$.timeago(a.lastModifiedDate)}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("WalletSaveModalController",function(a,b,c){c.items=a,c.close=function(){b.close(c.items)},c.dismiss=function(){b.dismiss()}})}(),function(){"use strict";var a=angular.module("fim.base");a.config(function(a){a.state("contacts",{url:"/contacts",views:{"":{templateUrl:"plugins/contacts/partials/contacts.html",controller:"ContactsPlugin"},"list@contacts":{templateUrl:"plugins/contacts/partials/contacts-list.html",controller:"ContactsPluginListController"}}})}),a.run(function(a,b,c){b.register({id:"contacts",label:"Contacts","extends":"settings",icon_class:"glyphicon glyphicon-user",templateURL:"plugins/contacts/partials/contacts.html",select:function(b){var d=c.defer();return a.open("contactsSelect",{resolve:{items:function(){return b}},close:function(a){d.resolve(a)}}),d.promise},add:function(d){if(b.validate(d,{update:{type:Boolean},message:{type:String},id_rs:{type:String},name:{type:String},email:{type:String},website:{type:String}})){var e=c.defer();return a.open("contactsAdd",{resolve:{items:function(){return d}},close:function(){e.resolve(!0)},cancel:function(){e.resolve(!1)}}),e.promise}},update:function(a){return a.update=!0,this.add(a)}}),a.register("contactsAdd",{templateUrl:"plugins/contacts/partials/contacts-add-modal.html",controller:"ContactsPluginAddModalController"}),a.register("contactsDetail",{templateUrl:"plugins/contacts/partials/contacts-detail-modal.html",controller:"ContactsPluginDetailModalController"}),a.register("contactsEdit",{templateUrl:"plugins/contacts/partials/contacts-edit-modal.html",controller:"ContactsPluginEditModalController"}),a.register("contactsSelect",{templateUrl:"plugins/contacts/partials/contacts-select-modal.html",controller:"ContactsPluginSelectModalController"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("ContactsPlugin",function(a,b,c,d,e,f){a.addContact=function(){b.get("contacts").add({message:"Please enter the details for this contact",id_rs:""}).then(function(a){a&&c.success("Successfully added contact")}).catch(c.catch("Could not safe contact"))},a.contacts=[],a.tableParams=new d({page:1,count:20},{total:0,getData:function(b,c){b.resolve(a.contacts.slice((c.page()-1)*c.count(),c.page()*c.count()))}}),e.contacts.orderBy("name").toArray().then(function(b){a.contacts=b,e.accounts.orderBy("name").toArray().then(function(b){a.contacts=b.concat(a.contacts),f(function(){a.tableParams.total(a.contacts),a.tableParams.reload()})})}).catch(c.catch("Could not load contacts")),e.contacts.addObserver(a,e.createObserver(a,"contacts","id_rs",{"finally":function(){a.tableParams.total(a.contacts),a.tableParams.reload()}})),a.showAccount=function(a){b.get("accounts").detail(a)},a.editContact=function(a){var d={message:"Please enter the details for this contact"};d.id_rs=a.id_rs,d.name=a.name,d.email=a.email||"",d.website=a.website||"",b.get("contacts").update(d).then(function(){c.success("Successfully updated contact")}).catch(c.catch("Could not update contact"))},a.removeContact=function(a){window.confirm("Are you sure you want to delete this contact?")&&e.contacts.delete(a.id_rs).catch(c.catch("Could not delete contact"))},a.sendMoney=function(a){b.get("payment").create({recipientRS:a.id_rs,recipientReadonly:!0})}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("ContactsPluginSelectModalController",function(a,b,c,d,e,f,g,h,i){function j(a,b){if(c.items.get_all)return a;var d=b==i.TYPE_FIM?"FIM-":"NXT-";return a.filter(function(a){return 0==a.id_rs.indexOf(d)})}function k(){d(function(){c.tableParams=new f({page:1,count:10},{total:c.contacts.length,getData:function(a,b){a.resolve(c.contacts.slice((b.page()-1)*b.count(),b.page()*b.count()))}})})}c.items=a,c.items.get_all=a.get_all||!1,c.contacts=[],e.contacts.orderBy("name").toArray().then(function(a){c.items.engine&&(a=j(a,c.items.engine)),c.contacts=a,e.accounts.orderBy("name").toArray().then(function(a){c.items.engine&&(a=j(a,c.items.engine)),c.contacts=a.concat(c.contacts),k()})}).catch(g.catch("Could not load contacts")),e.contacts.addObserver(c,e.createObserver(c,"contacts","id_rs",{"finally":function(){k()}})),c.selectContact=function(a){b.close(a)},c.showAccount=function(a){h.get("accounts").detail(a)},c.dismiss=function(){b.dismiss()}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("ContactsPluginAddModalController",function(a,b,c,d,e,f,g){function h(a,b,c){for(var d=0;d<a.length;d++)if(a[d][b]==c)return!1;return!0}function i(a){f(function(){c.errorMessage=a})}c.items=a,c.items.name=c.items.name||"",c.items.id_rs=c.items.id_rs||"",c.items.email=c.items.email||"",c.items.website=c.items.website||"",c.items.update=c.items.update||!1,c.valid=!1,c.errorMessage=null,c.id_rs_readonly=c.items.id_rs||c.items.update,c.name_readonly=c.items.update;var j=[];e.contacts.toArray().then(function(a){j=a,c.items.id_rs&&c.items.update&&!c.items.name&&f(function(){for(var a=0;a<j.length;a++)if(j[a].id_rs==c.items.id_rs){c.items.name=j[a].name;break}})}),c.nameIsUnique=function(a){return h(j,"name",a)},c.idIsUnique=function(a){return h(j,"id_rs",a)},c.idIsValid=function(a){if(a&&a.trim().length>0){var b=g.get(a);if(b){var c=b.createAddress();return!!c.set(a)}return!1}return!0},c.nameChanged=function(){if(0==c.items.name.trim().length)i(null);else{var a=c.items.name;e.contacts.where("name").equals(a).count().then(function(a){i(a>0?"Duplicate name":null)}).catch(d.catch("Contact"))}},c.close=function(){c.items.update?e.contacts.put(c.items).then(function(){b.close(c.items)}).catch(d.catch("Could not save contact")):e.contacts.add(c.items).then(function(){b.close(c.items)}).catch(d.catch("Could not save contact"))},c.dismiss=function(){b.dismiss()}})}(),function(){"use strict";var a=angular.module("fim.base");a.run(function(a){a.register({id:"database","extends":"settings",label:"Database",icon_class:"glyphicon glyphicon-wrench",templateURL:"plugins/settings-db/partials/settings-db.html"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("SettingsPluginDBController",function(a,b,c,d,e,f,g){function h(a){var b=[];return b.push('<div id="settings-db-table-container">'),b.push('<table ng-table="tableParams" class="table table-striped table-condensed table-hover">'),b.push('<tr ng-repeat="t in $data">'),b.push('<td><a href ng-click="deleteRow(t)">del</a></td>'),angular.forEach(a.instanceTemplate,function(a,c){b.push("<td "),("id_rs"==c||"recipientRS"==c||"senderRS"==c)&&b.push('style="white-space:nowrap" '),b.push("data-title=\"'",c,'\'" sortable="',c,'" header-class="text-left">{{t.',c," | json}}</td>")}),b.push("</tr>"),b.push("</table>"),b.push("</div>"),b.join("")}a.tables=b.tables,a.selectedTable=a.tables[0],a.clearSelectedTable=function(){window.confirm("All records will be deleted, this could have side effects.\nAre you sure you want to clear this table?")&&a.selectedTable.clear()},a.deleteRow=function(b){f.get("alerts").confirm({title:"Delete row",message:"Are you sure you want to delete this row?"}).then(function(c){c&&a.selectedTable.delete(b[a.selectedTable.schema.primKey.name])})},a.deleteDatabase=function(){f.get("alerts").confirm({title:"Delete Database",message:"WARNING!! This deletes your entire database. Are you sure?"}).then(function(a){a&&(indexedDB.deleteDatabase("fimkrypto-db"),g.success("Successfully deleted database."),g.failed("You must reload your browser for the changes to take effect."))})};var i=null,j={"finally":function(){a.tableParams&&a.tableParams.reload()}};a.selectedTableChanged=function(){var f=a.selectedTable.name,g=a.selectedTable.schema;i&&(b[i].removeObserver(j),i=null),b[f].count().then(function(i){b[f].addObserver(a,j),e(function(){a.tableParams=new d({page:1,count:10},{total:i,getData:function(a,c){var d=(c.page()-1)*c.count(),e=c.page()*c.count();b[f].offset(d).limit(e).toArray().then(function(b){a.resolve(b)})}});var e=c(h(g))(a);angular.element("#settings-db-table-container").replaceWith(e)})})},a.selectedTableChanged()})}(),function(){"use strict";var a=angular.module("fim.base");a.run(function(a){a.register({id:"nodes","extends":"settings",label:"Public Nodes",icon_class:"glyphicon glyphicon-tree-deciduous",templateURL:"plugins/settings-nodes/partials/settings-nodes.html"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("SettingsPluginNodesController",function(a,b,c,d,e,f,g){function h(a,b,c){for(var d=0,e=a.length;e>d;d++)if(a[d][b]==c)return d;return-1}function i(a,b){return a.filter(function(a){return a.port==b})}function j(a,b){return b.start_timestamp-a.start_timestamp}function k(a){var b=new Date(a),c=b.getUTCHours(),d=b.getUTCMinutes(),e=b.getSeconds();return c>12&&(c-=12),10>c&&(c="0"+c),10>d&&(d="0"+d),10>e&&(e="0"+e),c+":"+d+":"+e}a.TYPE_FIM=e.TYPE_FIM,a.TYPE_NXT=e.TYPE_NXT,a.batchAddContents="",a.nodes=[],a.tableParams=new c({page:1,count:10},{total:0,getData:function(b,c){b.resolve(a.nodes.slice((c.page()-1)*c.count(),c.page()*c.count()))}}),a.engines=[{label:"NXT",type:e.TYPE_NXT,port:7876,more:{label:"Find more nodes through peerexplorer.com",fn:function(){g({method:"GET",dataType:"json",url:"http://www.corsproxy.com/www.peerexplorer.com/api_openapi"}).success(function(b){d(function(){b.peers=b.peers||[],a.batchAddContents+=(a.batchAddContents?"\n":"")+b.peers.map(function(a){return"http://"+a}).join("\n")})})}}},{label:"FIM (test)",type:e.TYPE_FIM,port:6886},{label:"FIM",type:e.TYPE_FIM,port:7886},{label:"NXT (test)",type:e.TYPE_NXT,port:6876}],a.selectedEngine=a.engines[0];var l=null;a.selectedEngineChanged=function(){a.batchAddContents="",a.batchAdd=!1;var c=a.selectedEngine;l&&b.nodes.removeObserver(l),b.nodes.where("port").equals(c.port).toArray().then(function(e){a.nodes=e,a.nodes.sort(j),l={create:function(b){a.nodes=a.nodes.concat(i(b,c.port)),a.nodes.sort(j)},update:function(b){angular.forEach(i(b,c.port),function(b){var c=h(a.nodes,"id",b.id);-1!=c&&angular.extend(a.nodes[c],b)}),a.nodes.sort(j)},remove:function(b){angular.forEach(i(b,c.port),function(b){var c=h(a.nodes,"id",b.id);-1!=c&&a.nodes.splice(c,1)}),a.nodes.sort(j)},"finally":function(){a.tableParams.total(a.nodes.length),a.tableParams.reload()}},b.nodes.addObserver(a,l),d(function(){a.tableParams.total(e.length),a.tableParams.reload()})})},a.selectedEngineChanged(),a.clearSelectedEngine=function(){b.nodes.where("port").equals(a.selectedEngine.port).delete().then(function(){d(function(){a.nodes=[],a.tableParams.total(0),a.tableParams.reload()})})},a.saveNodes=function(){var c=a.batchAddContents.split("\n"),d=a.selectedEngine.port;b.nodes.where("port").equals(d).toArray().then(function(a){var e={};angular.forEach(a,function(a){e[a.url]=1}),b.transaction("rw",b.nodes,function(){var a={};angular.forEach(c,function(c){if(!(c in e||c in a)){var f=c.split("|"),g=f[0],h="CORS"==f[1];a[c]=1,b.nodes.add({url:g,supports_cors:h,port:d,downloaded:0,success_timestamp:0,failed_timestamp:0})}})})})},a.formatStartTime=function(a){return k(a)},a.formatTimestamp=function(a){return 0==a?"":$.timeago(a)},a.formatSize=function(a){return a?a+" bytes":""},a.deleteNode=function(a){b.nodes.delete(a.id)},a.unblackList=function(a){a.update({failed_timestamp:0})}})}(),function(){"use strict";var a=angular.module("fim.base");a.config(function(a){a.state("settings",{url:"/settings/:id",templateUrl:"plugins/settings/partials/settings.html",controller:"SettingsPlugin"})}),a.run(function(a,b,c){function d(){h=[],a.install("settings",function(a){var c='<p><span class="'+a.icon_class+'"></span>&nbsp;&nbsp;'+a.label+"</p>";h.push({sref:"settings({id: '"+a.id+"'})",html:b.trustAsHtml(c)})}),h=h.concat(e)}var e=[];if(c.isNodeJS()){var f={clazz:"info",html:b.trustAsHtml('<p><span class="glyphicon glyphicon-dashboard"></span>&nbsp;&nbsp;Dev Tools</p>'),click:function(){try{require("nw.gui").Window.get().showDevTools()}catch(a){console.log(a)}}};e.push(f)}var g={clazz:"info",html:b.trustAsHtml('<p><span class="glyphicon glyphicon-refresh"></span>&nbsp;&nbsp;Reload Application</p>'),click:function(){try{if(c.isNodeJS()){var a=0;c.isRunning("TYPE_FIM")&&(c.stopServer("TYPE_FIM"),a=5e3),c.isRunning("TYPE_NXT")&&(c.stopServer("TYPE_NXT"),a=5e3),$timeout(function(){require("nw.gui").Window.get().window.location.reload()},a,!1)}else window.location.reload()}catch(b){console.log(b)}}};e.push(g);var h=[];d(),a.register({id:"settings","extends":"app",sref:"settings",label:"Settings",sub_menu_html:function(){return h},sub_menu_activate:d,icon_class:"glyphicon glyphicon-wrench"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("SettingsPlugin",function(a,b,c){a.plugins=[];var d={};b.install("settings",function(b){a.plugins.push(b),d[b.id]=b}),a.selectedPlugin=d[c.id]})}(),function(){"use strict";var a=angular.module("fim.base");a.run(function(a,b,c){function d(a){var d=c.defer();return b.open("alert",{resolve:{items:function(){return a}},close:function(){d.resolve()}}),d.promise}a.register({id:"alerts",info:function(a){return a.title=a.title||"Info",d(angular.extend(a,{level:"primary"}))},success:function(a){return a.title=a.title||"Success",d(angular.extend(a,{level:"success"}))},warn:function(a){return a.title=a.title||"Warning",d(angular.extend(a,{level:"warning"}))
},error:function(a){return a.title=a.title||"Error",d(angular.extend(a,{level:"danger"}))},confirm:function(a){a.title=a.title||"Confirm";var d=c.defer();return b.open("alertConfirm",{resolve:{items:function(){return a}},close:function(a){d.resolve(a)}}),d.promise},prompt:function(a){a.title=a.title||"Prompt";var d=c.defer();return b.open("alertPrompt",{resolve:{items:function(){return a}},close:function(a){d.resolve(a)}}),d.promise},wait:function(a){var d=c.defer();return a.title=a.title||"Please wait",a.deferred=d,b.open("alertWait",{resolve:{items:function(){return a}},close:function(a){d.resolve(a)}}),d}}),b.register("alert",{templateUrl:"plugins/alerts/partials/alert-modal.html",controller:"AlertModalController"}),b.register("alertPrompt",{templateUrl:"plugins/alerts/partials/alert-prompt-modal.html",controller:"AlertPromptModalController"}),b.register("alertConfirm",{templateUrl:"plugins/alerts/partials/alert-confirm-modal.html",controller:"AlertConfirmModalController"}),b.register("alertWait",{templateUrl:"plugins/alerts/partials/alert-wait-modal.html",controller:"AlertWaitModalController"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("AlertModalController",function(a,b,c){c.items=a,c.close=function(){b.close()}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("AlertConfirmModalController",function(a,b,c){c.items=a,c.close=function(a){b.close(a)}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("AlertPromptModalController",function(a,b,c){c.items=a,c.close=function(){b.close(c.items.value)},c.dismiss=function(){b.dismiss()}})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("AlertWaitModalController",function(a,b,c){c.items=a,c.items.title=a.title||"Please wait",c.items.message=a.message||"Please wait";var d=a.deferred;d.promise.then(function(){b.close()}),c.dismiss=function(){d.reject(),b.dismiss()}})}(),function(){"use strict";var a=angular.module("fim.base");a.run(function(a){a.register({id:"fim-engine","extends":"system",templateURL:"plugins/fim-engine/partials/status.html"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("FimEngineStatusPlugin",function(a,b,c,d,e,f){function g(a){return a?a.replace(/^(http:\/\/)/,""):""}function h(a,b,c){for(var d=-1,e=0;e<a.length;e++)if(a[e].methodName==b&&a[e].url==c){d=e;break}-1!=d&&a.splice(d,1)}function i(){a.$evalAsync(function(){a.server_running=!1,a.downloading=!1})}function j(){a.$evalAsync(function(){a.server_running=!0})}var k=1e4,l=100,m=c.fim(),n="TYPE_FIM",o="fimblocks";a.server_running=b.isRunning(n),a.downloading=!1,a.port=m.engine.port,a.net_name=m.test?"test-net":"main-net",a.test_net=m.test,a.requests=[],a.show_spinner=!1,a.numberOfBlocks=0,a.lastBlockchainFeederHeight=0,a.version=0,a.blockheight=0,a.$on("$destroy",function(){m.requestHandler.removeObserver(p),b.removeListener(n,"exit",i),b.removeListener(n,"start",j),d.cancel(q)});var p={start:function(b,c){a.$evalAsync(function(){a.requests.unshift({font_awsome:"fa fa-circle-o-notch fa-spin",methodName:b,url:g(c.url),use_cors:c.require_cors_proxy}),a.requests=a.requests.slice(0,6)})},success:function(b,c,d,e){a.$evalAsync(function(){var d=g(c.url);d&&(h(a.requests,b,d),a.requests.unshift({glyph_icon:"glyphicon glyphicon-ok",methodName:b,url:d,use_cors:c.require_cors_proxy,tries_left:e}),a.requests=a.requests.slice(0,6))})},failed:function(b,c,d,e){c&&a.$evalAsync(function(){var d=g(c.url);d&&(h(a.requests,b,d),a.requests.unshift({clazz:"danger",glyph_icon:"glyphicon glyphicon-remove",methodName:b,url:d,use_cors:c.require_cors_proxy,tries_left:e}),a.requests=a.requests.slice(0,6))})}};m.requestHandler.addObserver(p),b.addListener(n,"exit",i),b.addListener(n,"start",j);var q=d(function(){a.server_running?e({method:"GET",dataType:"json",url:m.engine.localhost+":"+m.engine.port+"/nxt?requestType=getState&random="+Math.random()}).success(function(b){a.$evalAsync(function(){a.numberOfBlocks=b.numberOfBlocks,a.lastBlockchainFeederHeight=b.lastBlockchainFeederHeight,a.version=b.version,a.downloading=a.lastBlockchainFeederHeight-a.numberOfBlocks>l})}).error(function(a){console.log("Could not getState from localhost",a),m.engine.can_use_localhost=!1}):m.engine.can_use_localhost=!1,f[o].orderBy("height").last().then(function(b){b&&a.$evalAsync(function(){a.blockheight=b.height})})},k)})}(),function(){"use strict";var a=angular.module("fim.base");a.run(function(a){a.register({id:"nxt-engine","extends":"system",templateURL:"plugins/nxt-engine/partials/status.html"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("NxtEngineStatusPlugin",function(a,b,c,d,e,f){function g(a){return a?a.replace(/^(http:\/\/)/,""):""}function h(a,b,c){for(var d=-1,e=0;e<a.length;e++)if(a[e].methodName==b&&a[e].url==c){d=e;break}-1!=d&&a.splice(d,1)}function i(){a.$evalAsync(function(){a.server_running=!1,a.downloading=!1})}function j(){a.$evalAsync(function(){a.server_running=!0})}var k=1e4,l=100,m=c.nxt(),n="TYPE_NXT",o="nxtblocks";a.server_running=b.isRunning(n),a.downloading=!1,a.port=m.engine.port,a.net_name=m.test?"test-net":"main-net",a.test_net=m.test,a.requests=[],a.show_spinner=!1,a.numberOfBlocks=0,a.lastBlockchainFeederHeight=0,a.version=0,a.blockheight=0,a.$on("$destroy",function(){m.requestHandler.removeObserver(p),b.removeListener(n,"exit",i),b.removeListener(n,"start",j),d.cancel(q)});var p={start:function(b,c){a.$evalAsync(function(){a.requests.unshift({font_awsome:"fa fa-circle-o-notch fa-spin",methodName:b,url:g(c.url),use_cors:c.require_cors_proxy}),a.requests=a.requests.slice(0,6)})},success:function(b,c,d,e){a.$evalAsync(function(){var d=g(c.url);d&&(h(a.requests,b,d),a.requests.unshift({glyph_icon:"glyphicon glyphicon-ok",methodName:b,url:d,use_cors:c.require_cors_proxy,tries_left:e}),a.requests=a.requests.slice(0,6))})},failed:function(b,c,d,e){c&&a.$evalAsync(function(){var d=g(c.url);d&&(h(a.requests,b,d),a.requests.unshift({clazz:"danger",glyph_icon:"glyphicon glyphicon-remove",methodName:b,url:d,use_cors:c.require_cors_proxy,tries_left:e}),a.requests=a.requests.slice(0,6))})}};m.requestHandler.addObserver(p),b.addListener(n,"exit",i),b.addListener(n,"start",j);var q=d(function(){a.server_running?e({method:"GET",dataType:"json",url:m.engine.localhost+":"+m.engine.port+"/nxt?requestType=getState&random="+Math.random()}).success(function(b){a.$evalAsync(function(){a.numberOfBlocks=b.numberOfBlocks,a.lastBlockchainFeederHeight=b.lastBlockchainFeederHeight,a.version=b.version,a.downloading=a.lastBlockchainFeederHeight-a.numberOfBlocks>l})}).error(function(a){console.log("Could not getState from localhost",a),m.engine.can_use_localhost=!1}):m.engine.can_use_localhost=!1,f[o].orderBy("height").last().then(function(b){b&&a.$evalAsync(function(){a.blockheight=b.height})})},k)})}(),function(){"use strict";var a=angular.module("fim.base");a.config(function(a){a.state("authenticate",{url:"/authenticate/:id_rs/:name/{url:.*}",templateUrl:"plugins/authenticate/partials/authenticate.html",controller:"AuthenticatePlugin"})})}(),function(){"use strict";var a=angular.module("fim.base");a.controller("AuthenticatePlugin",function(a,b,c,d,e,f){function g(){return JSON.stringify({name:"Alice",sn:"1234567890"})}function h(a,b){var c=d.defer();return e.fim().getNamespacedAlias({account:authenticator_rs,aliasName:"STORED:"+b}).then(function(b){c.resolve(g(a,b.aliasURI))}),c.promise}a.lender={},a.lender.name=b.name,a.lender.url=decodeURIComponent(b.url),a.confirmed=!1,a.login=function(){var b=customer_rs,c=customer_pass;h(c,b).then(function(b){f.get("alerts").confirm({title:"Confirm this is your account",message:b}).then(function(b){b&&a.$evalAsync(function(){a.confirmed=!0})})})},a.send=function(){f.get("alerts").confirm({title:"Are you sure",message:"Are you sure you want to do this?"}).then(function(a){})}})}();