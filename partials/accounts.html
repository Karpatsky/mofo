<div ng-init="offCanvas=false" class="row row-offcanvas row-offcanvas-left" ng-class="{active: offCanvas}">
  <div class="col-xs-6 col-sm-2 sidebar-offcanvas" id="sidebar">
    <ul class="nav navbar-stacked">
      <li role="presentation">
        <a href="#/accounts/{{id_rs}}/pulse/{{paramPeriod}}" class="font-bold">
          <i class="fa fa-heartbeat fa-fw"></i>&nbsp;&nbsp;<span translate="translate.pulse"/>
        </a>
      </li>
      <li>
        <a href ng-click="toggleMenuCollapse('account')" class="font-bold">
          <i class="fa fa-book fa-fw"></i>&nbsp;&nbsp;<span translate="translate.account"></span>&nbsp;<span class="caret"></span>
        </a>
        <ul class="nav navbar-stacked" collapse="!collapse['account']">
          <li role="presentation">
            <a href="#/accounts/{{id_rs}}/activity/{{paramPeriod}}">
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.activity"></span>
            </a>
          </li>
          <li role="presentation">
            <a href="#/accounts/{{id_rs}}/payments/{{paramPeriod}}">
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.payments"></span>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('sendMoney')" class="font-bold">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.send_money" translate-values="{symbol:symbol}"></span>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('setAccountInfo')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.set_account_info"></span>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)" ng-if="privateEnabled">
            <a href ng-click="executeTransaction('setAccountIdentifier')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.set_identifier"></span>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)" ng-if="privateEnabled">
            <a href ng-click="executeTransaction('requestFreeAccountIdentifier')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.request_identifier"></span>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)" ng-if="privateEnabled">
            <a href ng-click="executeTransaction('setVerificationAuthority')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.set_authority"></span>
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href ng-click="toggleMenuCollapse('messages')" class="font-bold">
          <i class="fa fa-comments-o fa-fw"></i>&nbsp;&nbsp;<span translate="translate.messages"></span>&nbsp;<span class="caret"></span>
        </a>
        <ul class="nav navbar-stacked" collapse="!collapse['messages']">
          <li role="presentation">
            <a href="#/accounts/{{id_rs}}/messages/{{paramPeriod}}">
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.messages"/>
            </a>
          </li>
          <li role="presentation">
            <a href>
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.contacts"/>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('sendMessage')" class="font-bold">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.send_message"></span>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('accountPost')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.write_post"></span>
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href ng-click="toggleMenuCollapse('ae')" class="font-bold">
          <i class="fa fa-line-chart fa-fw"></i>&nbsp;&nbsp;<span translate="translate.assets"></span>&nbsp;<span class="caret"></span>
        </a>
        <ul class="nav navbar-stacked" collapse="!collapse['ae']">
          <li role="presentation">
            <a href="#/accounts/{{id_rs}}/assets/{{paramPeriod}}">
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.assets"/>
            </a>
          </li>
          <li role="presentation">
            <a href="#/accounts/{{id_rs}}/buy_orders/{{paramPeriod}}">
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.buy_orders"/>
            </a>
          </li>
          <li role="presentation">
            <a href="#/accounts/{{id_rs}}/sell_orders/{{paramPeriod}}">
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.sell_orders"/>
            </a>
          </li>
          <li role="presentation">
            <a href>
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.trades"/>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('issueAsset')" class="font-bold">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.issue_asset"/>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('transferAsset')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.transfer_asset"/>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('buyAsset')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.place_buy_order"/>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('sellAsset')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.place_sell_order"/>
            </a>
          </li>
          <li role="presentation" ng-show="privateEnabled && isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('addPrivateAssetAccount')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.add_private"/>
            </a>
          </li>
          <li role="presentation" ng-show="privateEnabled && isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('removePrivateAssetAccount')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.remove_private"/>
            </a>
          </li>
          <li role="presentation" ng-show="privateEnabled && isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('setPrivateAssetFee')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.private_fee"/>
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href ng-click="toggleMenuCollapse('goods')" class="font-bold">
          <i class="fa fa-shopping-cart fa-fw"></i>&nbsp;&nbsp;<span translate="translate.marketplace"></span>&nbsp;<span class="caret"></span>
        </a>
        <ul class="nav navbar-stacked" collapse="!collapse['goods']">
          <li role="presentation">
            <a href="#/accounts/{{id_rs}}/listing/{{paramPeriod}}">
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.view_listing"/>
            </a>
          </li>
          <li role="presentation">
            <a href="#/accounts/{{id_rs}}/pastorders/{{paramPeriod}}">
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.past_orders"/>
            </a>
          </li>
          <li role="presentation">
            <a href="#/accounts/{{id_rs}}/solditems/{{paramPeriod}}">
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.sold_items"/>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('dgsListing')" class="font-bold">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.add_item"/>
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href ng-click="toggleMenuCollapse('alias')" class="font-bold">
          <i class="fa fa-shopping-cart fa-fw"></i>&nbsp;&nbsp;<span translate="translate.aliases"></span>&nbsp;<span class="caret"></span>
        </a>
        <ul class="nav navbar-stacked" collapse="!collapse['alias']">
          <li role="presentation">
            <a href="#/accounts/{{id_rs}}/aliases/{{paramPeriod}}">
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.aliases"/>
            </a>
          </li>
          <li role="presentation">
            <a href="#/accounts/{{id_rs}}/fim_aliases/{{paramPeriod}}">
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.namespaced_aliases"/>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('setAlias')" class="font-bold">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.set_alias"/>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('setNamespacedAlias')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.namespaced_alias"/>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('dgsListing')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.delete_alias"/>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('sellAlias')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.sell_alias"/>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('buyAlias')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.buy_alias_a"/>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('transferAlias')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.transfer_alias"/>
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href ng-click="toggleMenuCollapse('forging')" class="font-bold">
          <i class="fa fa-cubes fa-fw"></i>&nbsp;&nbsp;<span>Forging</span>&nbsp;<span class="caret"></span>
        </a>
        <ul class="nav navbar-stacked" collapse="!collapse['forging']">
          <li role="presentation">
            <a href="#/accounts/{{id_rs}}/leasing/{{paramPeriod}}">
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.balance_leasing"/><span>
            </a>
          </li>
          <li role="presentation">
            <a href="#/accounts/{{id_rs}}/blocks/{{paramPeriod}}">
              <i class="fa fa-angle-double-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.blocks_forged"/><span>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('startForging')" class="font-bold">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.start_forging"/><span>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('stopForging')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.stop_forging"/><span>
            </a>
          </li>
          <li role="presentation" ng-show="isCurrentAccount(id_rs)">
            <a href ng-click="executeTransaction('leaseBalance')">
              <i class="fa fa-angle-right fa-fw"></i>&nbsp;&nbsp;<span translate="translate.lease_balance"/><span>
            </a>
          </li>
        </ul>
      </li>
      <li ng-show="showFilter">
        <hr class="stacked-divider">
      </li>
      <li ng-show="showFilter">
        <a href ng-init="filterCollapse=true" ng-click="filterCollapse=!filterCollapse">
          <span class="glyphicon glyphicon-wrench"></span>
          &nbsp;&nbsp;<span translate="translate.filter"/>&nbsp;<span class="caret"></span>
        </a>
        <ul class="nav navbar-stacked" collapse="filterCollapse">
          <li>
            <form class="navbar-form" role="search">
              <div class="form-group">
                <span class="form-control-static">
                  <label class="control-label" translate="translate.period"></label>
                  <div class="input-group">
                    <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="dt" is-open="opened" 
                        min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" ng-required="true" 
                        translate-cloak 
                        close-text="{{ 'translate.close' | translate }}" placeholder="{{'translate.period' | translate}}"/>
                    <span class="input-group-btn">
                      <button type="button" class="btn btn-default" ng-click="openDatePicker($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                    </span>
                  </div>
                </span>
              </div>
            </form>
          </li>
          <li ng-show="showTransactionFilter">
            <form class="navbar-form" role="search">
              <div class="form-group" style="width:100%">
                <label class="control-label" translate="translate.transaction_type"></label>
                <span class="form-control-static">
                  <div class="panel panel-default">
                    <div class="panel-body">
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.all" ng-change="filterAllChanged()">
                          <span translate="filter.all"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.payments" ng-change="filterChanged()">
                          <span translate="filter.payments"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.messages" ng-change="filterChanged()">
                          <span translate="filter.messages"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.aliases" ng-change="filterChanged()">
                          <span translate="filter.aliases"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.namespacedAliases" ng-change="filterChanged()">FIMKrypto</label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.accountInfo" ng-change="filterChanged()">
                          <span translate="filter.account_info"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.announceHub" ng-change="filterChanged()">
                          <span translate="filter.announce_hub"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.polls" ng-change="filterChanged()">
                          <span translate="filter.polls"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.goodsStore" ng-change="filterChanged()">
                          <span translate="filter.goods_store"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.balanceLeasing" ng-change="filterChanged()">
                          <span translate="filter.balanace_leasing"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.trades" ng-change="filterChanged()">
                          <span translate="filter.trades"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.assetIssued" ng-change="filterChanged()">
                          <span translate="filter.asset_issued"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.assetTransfer" ng-change="filterChanged()">
                          <span translate="filter.asset_transfer"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.assetOrder" ng-change="filterChanged()">
                          <span translate="filter.asset_order"/></label>
                      </div>
                      <!-- Currency -->
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.currencyIssued" ng-change="filterChanged()">
                          <span translate="filter.currency_issued"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.currencyTransfer" ng-change="filterChanged()">
                          <span translate="filter.currency_transfer"/></label>
                      </div>
                      <div class="checkbox">
                        <label><input type="checkbox" ng-model="filter.currencyOther" ng-change="filterChanged()">
                          <span translate="filter.currency_other"/></label>
                      </div>    
                    </div>
                  </div>
                </span>
              </div>
            </form>
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="col-xs-12 col-sm-10">
    <p class="visible-xs">
      <button type="button" class="btn btn-xs" ng-class="{'btn-default':offCanvas, 'btn-primary':!offCanvas}" 
            ng-click="offCanvas=!offCanvas">
        <i class="fa fa-angle-double-{{offCanvas?'left':'right'}}"></i>
        <i class="fa fa-angle-double-{{offCanvas?'left':'right'}}"></i>
        <i class="fa fa-angle-double-{{offCanvas?'left':'right'}}"></i>
      </button>
    </p>

    <div class="row">
      <div class="col-md-6">
        <div class="media">
          <span class="pull-left">
            <a style="width: 100px">
              <i class="fa fa-user fa-5x text-muted"></i>
            </a>
          </span>
          <div class="media-body" style="min-height: 120px">
            <h4 class="media-heading">{{account.name||id_rs}}<small ng-if="account.name"><br>{{id_rs}}</small></h4>
            <p>{{account.description}}<span ng-if="!account.description">no description</span></p>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="btn-group" style="margin-bottom: 8px" ng-if="!currentAccount">
          <a href ng-click="loginTo()" class="btn btn-primary"><b translate="translate.sign_in"></b></a>          
        </div>
        <div class="table-responsive">
          <table class="table table-condensed">
            <tr><td>Balance</td><td><b>{{account.balanceNXT}}</b></td><td colspan="2"><a ng-href="#/accounts/{{id_rs}}/activity/latest">{{id_rs}}</a></td></tr>
            <tr><td>Forged</td><td>{{account.forgedBalanceNXT}}</td><td>Effective</td><td>{{account.effectiveBalanceNXT}}</td></tr>
            <tr><td>Guaranteed</td><td>{{account.guaranteedBalanceNXT}}</td><td>Unconfirmed</td><td>{{account.unconfirmedBalanceNXT}}</td></tr>
            <tr ng-if="account.lesseeIdRS">
              <td>Lease</td>
              <td>{{account.leaseRemaining}} remain</td>
              <td colspan="2">
                <a href="#/accounts/{{account.lesseeIdRS}}/leasing/latest">{{account.lesseeIdRS}}</a>
              </td>
            </tr>
            <tr ng-if="forger.isForging">
              <td>Forging</td>
              <td><i class="fa fa-circle-o-notch fa-spin text-success"></i></td>
              <td colspan="2">Expected to forge block in {{forger.remaining}}&nbsp;|&nbsp;<a ng-href="#/accounts/{{id_rs}}/blocks/latest">history</a></td>
            </tr>            
          </table>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">

        <!-- Pulse -->

        <div ng-if="paramSection=='pulse'">
          <div class="row">
            <div class="col-md-12">
              <div ng-if="provider.entities.length == 0">
                <p>{{account.name||id_rs}} did not write any posts</p>
                <button class="btn btn-primary" 
                  ng-click="executeTransaction('accountPost')">Write first post</button>
              </div>
              <div ng-if="provider.entities.length > 0">
                <!-- <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false"> -->
                <div>
                  
                  <!-- List all posts -->
                  <ul class="media-list">
                    <li class="media" ng-repeat="p in provider.entities">
                      <a class="pull-left" style="width: 100px">
                        <i class="fa fa-pencil-square-o fa-5x text-muted"></i>
                        <div class="pull-right">
                          <span ng-if="p.confirmations < 0"><i class="fa fa-spinner fa-spin text-muted"></i></span>
                          <span ng-if="p.confirmations >= 0 && p.confirmations <= 10" class="text-danger"><b>{{p.confirmations}}</b></span>
                          <span ng-if="p.confirmations > 10" tooltip="{{p.confirmations}} confirmations">
                            <i class="fa fa-check text-success"></i>
                          </span>
                        </div>
                      </a>
                      <div class="media-body">
                        <h4 class="media-heading"><small>{{p.date}}&nbsp;&nbsp;
                          <a href><i class="fa fa-twitter text-muted"></i></a>&nbsp;&nbsp;
                          <a href><i class="fa fa-facebook text-muted"></i></a>&nbsp;&nbsp;
                          <a href><i class="fa fa-linkedin text-muted"></i></a>&nbsp;&nbsp;
                          <a href><i class="fa fa-google-plus text-muted"></i></a></small>
                        </h4>
                        <p>{{p.message}}</p>
                        <p>
                          <button class="btn btn-sm btn-primary" 
                            ng-click="executeTransaction('writeComment', { recipient: id_rs, post_transaction_id: p.transaction })">
                            <i class="fa fa-comment-o"></i>&nbsp;&nbsp;{{p.comment_count}}&nbsp;&nbsp;<span translate="translate.leave_comment"/>
                          </button>
                          &nbsp;
                          <a href ng-click="p.commentProvider.reload()" 
                              ng-if="p.comment_count > 0 && p.commentProvider.entities.length == 0">
                            <span ng-show="p.commentProvider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
                            <span translate="translate.load_comments" />
                          </a>
                          <a href ng-click="p.commentProvider.clear()" 
                              ng-if="p.comment_count > 0 && p.commentProvider.entities.length > 0">
                            <span translate="translate.hide_comments" />
                          </a>
                        </p>
                        <br>

                        <!-- comments -->
                        <div ng-if="p.commentProvider.entities.length > 0">
                          <div class="media" ng-repeat="c in p.commentProvider.entities">
                            <a class="pull-left">
                              <i class="fa fa-user fa-5x text-muted"></i>
                              <div class="pull-right">
                                <span ng-if="c.confirmations < 0"><i class="fa fa-spinner fa-spin text-muted"></i></span>
                                <span ng-if="c.confirmations >= 0 && c.confirmations <= 10" class="text-danger"><b>{{c.confirmations}}</b></span>
                                <span ng-if="c.confirmations > 10" tooltip="{{c.confirmations}} confirmations">
                                  <i class="fa fa-check text-success"></i>
                                </span>
                              </div>
                            </a>
                            <div class="media-body">
                              <h4 class="media-heading"><small><a ng-href="#/accounts/{{c.senderRS}}/pulse/latest">{{c.senderName||c.senderRS}}</a>&nbsp;&nbsp;{{c.date}}&nbsp;&nbsp;
                                <a href><i class="fa fa-twitter text-muted"></i></a>&nbsp;&nbsp;
                                <a href><i class="fa fa-facebook text-muted"></i></a>&nbsp;&nbsp;
                                <a href><i class="fa fa-linkedin text-muted"></i></a>&nbsp;&nbsp;
                                <a href><i class="fa fa-google-plus text-muted"></i></a></small>
                              </h4>
                              <p>{{c.text}}</p>
                            </div>
                          </div>  
                          <div class="load-more-button" ng-show="p.commentProvider.hasMore">
                            <a href ng-click="p.commentProvider.loadMore()" class="text-lowercase text-muted">
                              <span ng-show="p.commentProvider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
                              <span translate="translate.load_more_comments"></span>
                            </a>
                          </div>
                        </div>
                      </div>
                    </li>
                  </ul>
                </div>
                <div class="load-more-button" ng-show="provider.hasMore">
                  <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
                    <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
                    <span translate="translate.load_more_posts"></span>
                  </a>
                </div>
              </div>
            </div>
          </div>          
        </div>

        <!-- Activity -->

        <div ng-if="paramSection=='activity'">
          <div ng-if="!provider.entities.length">
            <div ng-if="provider.isLoading">
              Loading please wait&nbsp;&nbsp;<i class="fa fa-refresh fa-spin"></i>
            </div>
            <div ng-if="!provider.isLoading">
              <span translate="translate.no_activities" translate-values="{user: (account.name||id_rs)}"/>
            </div>
          </div>
          <div ng-if="provider.entities.length > 0">
            <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
              <div class="table-responsive">
                <table class="table table-striped">
                  <tbody>
                    <tr ng-repeat="a in provider.entities">
                      <td>
                        <span ng-if="a.transient" tooltip="Transient (will disapear)">
                          <i class="fa fa-clock-o text-muted"></i>
                        </span>
                        <span ng-if="!a.transient">
                          <span ng-if="a.confirmations <= 0">
                            <i class="fa fa-spinner fa-spin text-muted"></i>
                          </span>
                          <span ng-if="a.confirmations > 0 && a.confirmations <= 10" class="text-danger">
                            <b>{{a.confirmations}}</b>
                          </span>
                          <span ng-if="a.confirmations > 10" tooltip="{{a.confirmations}} confirmations">
                            <i class="fa fa-check text-success"></i>
                          </span>
                        </span>
                      </td>
                      <td nowrap style="padding-left: 0px" class="hidden-xs text-muted">{{a.date}}</td>
                      <td style="word-wrap: break-word; word-break: break-all; white-space: normal; width: 100%;" 
                        ng-if="!IS_SMALL_DEVICE" ng-bind-html="a.renderedHTML"></td>
                      <td style="word-wrap: break-word; word-break: break-all; white-space: normal; width: 100%;" 
                        ng-if="IS_SMALL_DEVICE">
                        <div>
                          <span ng-bind-html="a.renderedHTML"></span>
                          <small class="pull-right">{{a.date}}</small>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="load-more-button" ng-show="provider.hasMore">
              <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
                <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
                <span translate="translate.load_more_activities"></span>
              </a>
            </div>
          </div>
        </div>

        <!-- Messages -->

        <div ng-if="paramSection=='messages'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <tbody>
                  <tr ng-repeat="m in provider.entities">
                    <td nowrap style="padding-left: 0px" class="hidden-xs text-muted">{{m.date}}</td>
                    <td style="word-wrap: break-word; word-break: break-all; white-space: normal; width: 100%;" 
                      ng-if="!IS_SMALL_DEVICE" ng-bind-html="m.renderedHTML"></td>
                    <td style="word-wrap: break-word; word-break: break-all; white-space: normal; width: 100%;" 
                      ng-if="IS_SMALL_DEVICE">
                      <div>
                        <span ng-bind-html="m.renderedHTML"></span>
                        <small class="pull-right">{{m.date}}</small>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more_messages"></span>
            </a>
          </div>
        </div>

        <!-- Assets -->

        <div ng-if="paramSection=='assets'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th translate="translate.name"></th>
                    <th translate="translate.identifier"></th>
                    <th translate="translate.amount"></th>
                    <th translate="translate.total_supply"></th>
                    <th translate="translate.issuer"></th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="a in provider.entities">
                    <td><a ng-href="#/assets/{{symbol_lower}}/{{a.asset}}/trade">{{a.name}}</a></td>
                    <td><a ng-href="#/assets/{{symbol_lower}}/{{a.asset}}/trade">{{a.asset}}</a></td>
                    <td>{{a.quantity}}</td>
                    <td>{{a.totalQuantity}}</td>
                    <td><a ng-href="#/accounts/{{a.issuer}}/activity/latest">{{a.issuer}}</a></td>
                    <td>
                      <a href ng-show="id_rs == a.issuerRS && isCurrentAccount(id_rs)"
                        ng-click="executeTransaction('sellAsset',{asset:a.asset,quantity:0})" 
                        translate="translate.sell"></a>&nbsp;&nbsp;
                      <a href ng-show="id_rs == a.issuerRS && isCurrentAccount(id_rs)"
                        ng-click="executeTransaction('transferAsset',{asset:a.asset,quantity:0})" 
                        translate="translate.transfer"></a>&nbsp;&nbsp;
                      <a href="#/assets/{{symbol_lower}}/{{a.asset}}/trade"
                        translate="translate.trade"></a>&nbsp;&nbsp;
                      <a ng-show="a.type==1" href="#/assets/{{symbol_lower}}/{{a.asset}}/private"
                        translate="translate.private"></a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more_assets"></span>
            </a>
          </div>
        </div>

        <!-- Currency -->

        <div ng-if="paramSection=='currency'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr translate-cloak>
                    <th>{{ 'translate.name' | translate }}</th>
                    <th>{{ 'translate.amount' | translate }}</th>
                    <th>{{ 'translate.total_supply' | translate }}</th>
                    <th>{{ 'translate.issuer' | translate }}</th>
                    <th></th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="a in provider.entities">
                    <td><a ng-href="#/currencies/{{symbol_lower}}/{{a.name}}">{{a.name}}</a></td>
                    <td>{{a.units}}</td>
                    <td>{{a.totalUnits}}</td>
                    <td><a ng-href="#/accounts/{{a.issuerAccountRS}}/activity/latest">{{a.issuerAccountRS}}</a></td>
                    <td><a href ng-click="sellCurrency(a)">Sell</a></td>
                    <td><a href ng-click="transferCurrency(a)">Transfer</a></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more_currencies"></span>
            </a>
          </div>
        </div>

        <!-- Blocks -->

        <div ng-if="paramSection=='blocks'">
          <div class="well" translate="translate.blocks_explained"></div>
          <div ng-if="provider.entities.length > 0">
            <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
              <div class="table-responsive">
                <table class="table table-striped">
                  <thead>
                    <tr translate-cloak>
                      <th>{{ 'translate.height' | translate }}</th>
                      <th>{{ 'translate.date' | translate }}</th>
                      <th>{{ 'translate.generator' | translate }}</th>
                      <th>{{ 'translate.transactions' | translate }}</th>
                      <th>{{ 'translate.amount' | translate }}</th>
                      <th>{{ 'translate.fee' | translate }}</th>
                      <th>{{ 'translate.block_reward' | translate }}</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-repeat="b in provider.entities">
                      <td>{{b.height}}</td>
                      <td>{{b.date}}</td>
                      <td><a ng-href="#/accounts/{{b.generator}}/activity/latest">{{b.generator}}</a></td>
                      <td>{{b.numberOfTransactions}}</td>
                      <td>{{b.totalAmountNXT}}</td>
                      <td>{{b.totalFeeNXT}}</td>
                      <td>{{b.totalPOSRewardNXT}}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="load-more-button" ng-show="provider.hasMore">
              <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
                <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
                <span translate="translate.load_more_blocks"></span>
              </a>
            </div>
          </div>
        </div>

        <!-- Aliases -->

        <div ng-if="paramSection=='aliases'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr translate-cloak>
                    <th style="padding-left: 0px" translate="translate.last_update"></th>
                    <th translate="translate.name"></th>
                    <th colspan="5" translate="translate.uri"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="a in provider.entities">
                    <td nowrap style="padding-left: 0px" class="text-muted">{{a.date}}</td>
                    <td>{{a.aliasName}}</td>
                    <td style="width: 100%">{{a.aliasURI}}</td>
                    <td><a href 
                      ng-click="executeTransaction('setAlias',{aliasName:a.aliasName,aliasURI:a.aliasURI})" 
                      translate="translate.edit"></a></td>
                    <td><a href 
                      ng-click="executeTransaction('transferAlias',{alias:a.alias,aliasName:a.aliasName})" 
                      translate="translate.transfer"></a></td>
                    <!-- <td><a href translate="translate.delete"></a></td> -->
                    <td><a href ng-show="!a.priceNXT" 
                        ng-click="executeTransaction('sellAlias',{alias:a.alias,aliasName:a.aliasName})" 
                        translate="translate.sell"></a>
                    <a href ng-show="a.priceNXT" 
                        ng-click="executeTransaction('cancelSellAlias',{alias:a.alias,aliasName:a.aliasName})" 
                        translate="translate.cancel"></a></td>
                    <td nowrap>
                      <a ng-show="a.priceNXT" href 
                        ng-click="executeTransaction('buyAlias',{alias:a.alias,aliasName:a.aliasName})"
                        translate="translate.buy_alias" translate-values="{symbol: symbol, price: a.priceNXT}">
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more_aliases"></span>
            </a>
          </div>
        </div>

        <!-- Namespaced Alias -->

        <div ng-if="paramSection=='fim_aliases'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <form class="form-inline">
              <div class="form-group">
                <input type="text" ng-model="provider.filter" ng-change="provider.reload()" class="form-control" placeholder="Filter">
              </div>
            </form>
            <div class="table-responsive">
              <table class="table table-striped" style="width: 100%">
                <thead>
                  <tr translate-cloak>
                    <th style="padding-left: 0px" translate="translate.last_update"></th>
                    <th translate="translate.name"></th>
                    <th colspan="2" translate="translate.uri"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="a in provider.entities">
                    <td nowrap style="padding-left: 0px" class="text-muted">{{a.date}}</td>
                    <td>{{a.aliasName}}</td>
                    <td style="word-wrap: break-word; word-break: break-all; white-space: normal; width: 100%;">{{a.aliasURI}}</td>
                    <td><a href 
                      ng-click="executeTransaction('setNamespacedAlias',{aliasName:a.aliasName,aliasURI:a.aliasURI})" 
                      translate="translate.edit"></a></td>
                    <!-- <td><a href ng-click="deleteNSAlias(a)" translate="translate.delete"></a></td> -->
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more_aliases"></span>
            </a>
          </div>
        </div>

        <!-- Digital Goods -->

        <div ng-if="paramSection=='goods'">
        </div>

        <!-- Balance Leasing -->

        <div ng-if="paramSection=='leasing'">
          <div class="well" translate="translate.leasing_explained"></div>          
          <div ng-if="provider.entities.length > 0">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th translate="translate.name"></th>
                    <th translate="translate.account"></th>
                    <th translate="translate.guaranteed_balance"></th>
                    <th translate="translate.from"></th>
                    <th translate="translate.to"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="a in provider.entities">
                    <td><a ng-href="#/accounts/{{a.lessorRS}}/activity/latest">{{a.lessorName}}</a></td>
                    <td><a ng-href="#/accounts/{{a.lessorRS}}/activity/latest">{{a.lessorRS}}</a></td>
                    <td>{{a.guaranteedBalanceNXT}} {{symbol}}</a></td>
                    <td>{{a.currentLeasingHeightFrom}}</a></td>
                    <td>{{a.currentLeasingHeightTo}}</a></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Buy orders -->

        <div ng-if="paramSection=='buy_orders'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th translate="translate.name"></th>
                    <th translate="translate.identifier"></th>
                    <th translate="translate.order"></th>
                    <th translate="translate.quantity"></th>
                    <th translate="translate.price"></th>
                    <!-- <th translate="translate.total"></th> -->
                    <th ng-if="isCurrentAccount(id_rs)"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="a in provider.entities">
                    <td><a ng-href="#/assets/{{symbol_lower}}/{{a.asset}}/trade">{{a.name}}</a></td>
                    <td><a ng-href="#/assets/{{symbol_lower}}/{{a.asset}}/trade">{{a.asset}}</a></td>
                    <td>{{a.order}}</td>
                    <td>{{a.quantity}}</td>
                    <td>{{a.price}}</td>
                    <!-- <td>{{a.total}}</td> -->
                    <td><a href 
                      ng-click="executeTransaction('cancelBidOrder',{order:a.order})"
                      translate="translate.cancel"></a></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>              
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more_orders"></span>
            </a>
          </div>
        </div>

        <!-- Sell orders -->

        <div ng-if="paramSection=='sell_orders'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th translate="translate.name"></th>
                    <th translate="translate.identifier"></th>
                    <th translate="translate.order"></th>
                    <th translate="translate.quantity"></th>
                    <th translate="translate.price"></th>
                    <!-- <th translate="translate.total"></th> -->
                    <th ng-if="isCurrentAccount(id_rs)"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="a in provider.entities">
                    <td><a ng-href="#/assets/{{symbol_lower}}/{{a.asset}}/trade">{{a.name}}</a></td>
                    <td><a ng-href="#/assets/{{symbol_lower}}/{{a.asset}}/trade">{{a.asset}}</a></td>
                    <td>{{a.order}}</td>
                    <td>{{a.quantity}}</td>
                    <td>{{a.price}}</td>
                    <!-- <td>{{a.total}}</td> -->
                    <td ng-if="isCurrentAccount(id_rs)"><a href 
                      ng-click="executeTransaction('cancelAskOrder',{order:a.order})"
                      translate="translate.cancel"></a></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>              
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more_orders"></span>
            </a>
          </div>
        </div>

        <!-- Payments (sends multiple payments) -->
        <div ng-if="paramSection=='payments'">
          <tabset>
            <tab active="provider.PREPARE">
              <tab-heading>
                <!-- <i class="glyphicon glyphicon-bell"></i>&nbsp;&nbsp; --><span translate="translate.prepare" />
              </tab-heading>
              <div>
                <br>
                <div class="well well-sm">
                  <p>Type or paste your payments in this field.<br>
                    Payments must be in the following format:<br>
                    <pre>RECIPIENT,AMOUNT,MESSAGE_IS_PUBLIC,MESSAGE</pre>
                    Examples:<br>
                    <pre>{{symbol}}-CMAS-K37J-8J22-77H9X,500.01,true,Basic income payment for march<br>{{symbol}}-CMAS-K37J-8J22-77H9X,100.02<br>{{symbol}}-CMAS-K37J-8J22-77H9X,3,false,This message is encrypted</pre>
                    When done entering payments <a href ng-click="provider.load()">click here</a> to load them into the staging area.
                  </p>
                </div>
                <textarea class="form-control monospace" rows="4" ng-model="provider.text_input"></textarea>
              </div>
            </tab>
            <tab active="provider.STAGE">
              <tab-heading>
                <!-- <i class="glyphicon glyphicon-bell"></i>&nbsp;&nbsp; --><span translate="translate.staging" />
              </tab-heading>
              <div>
                <br>
                <div class="well well-sm">
                  <p>Please evaluate the payments as they are shown in the table below.<br>
                    If you consider the details to be correct <span ng-if="!provider.locked"><a href ng-click="provider.execute()">click here</a></span><span ng-if="provider.locked" class="text-primary"><s>click here</s></span> to execute them.<br><br>
                    There are <b>{{provider.payments.length}}</b> valid payments totalling <big><b>{{provider.totalNXT||'0'}} {{symbol}}</b></big>
                  </p>
                </div>                
                <table class="table">
                  <tr>
                    <th><i tooltip="confirmations" class="fa fa-cubes"></i></th>
                    <th translate="translate.status"></th>
                    <th translate="translate.recipient"></th>
                    <th translate="translate.amount"></th>
                    <th translate="translate.message"></th>
                    <th translate="translate.is_public"></th>
                  </tr>
                  <tr ng-repeat="p in provider.payments" ng-class="{danger: p.error}">
                    <td>
                      <span ng-show="p.confirmations !== undefined">
                        <span ng-if="p.confirmations <= 0"><i class="fa fa-spinner fa-spin text-muted"></i></span>
                        <span ng-if="p.confirmations > 0 && p.confirmations <= 10" class="text-danger"><b>{{p.confirmations}}</b></span>
                        <span ng-if="p.confirmations > 10" tooltip="{{p.confirmations}} confirmations">
                          <i class="fa fa-check text-success"></i>
                        </span>
                      </span>
                    </td>
                    <td>{{p.status}}</td>
                    <td nowrap><a href="#/accounts/{{p.recipientRS}}/activity/latest">{{p.recipientRS}}</a></td>
                    <td>{{p.amountNXT}} {{symbol}}</td>
                    <td>{{p.message}}</td>
                    <td ng-class="{'text-success': p.ispublic, 'text-danger': !p.ispublic}">{{p.ispublic}}</td>
                  </tr>
                </table>
              </div>
            </tab>
          </tabset>
        </div>

        <!-- Listing (goods) -->

        <div ng-if="paramSection=='listing'">
          <form class="form-inline" style="margin-bottom: 15px;">
            <div class="form-group">
              <span translate="translate.filter_item_label"></span>&nbsp;&nbsp;
              <input type="text" ng-model="provider.filter" ng-change="provider.reload()" class="form-control" 
                placeholder="{{'translate.filter_placeholder' | translate}}">
            </div>
          </form>
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th translate="translate.goods_name"></th>
                    <th translate="translate.goods_seller"></th>
                    <th translate="translate.goods_tags"></th>
                    <th translate="translate.goods_quantity"></th>
                    <th translate="translate.goods_price" translate-values="{symbol:symbol}"></th>
                    <th ng-if="currentAccount && currentAccount.id_rs == id_rs"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="item in provider.entities" style="cursor: pointer;" ng-class="{ 'delisted-good': item.delisted }">
                    <td><a href="#/goods/{{paramEngine}}/{{item.goods}}">{{item.name}}</a></td>
                    <td><a href="#/goods/{{paramEngine}}/listing/{{item.sellerRS}}">{{item.sellerRS}}</a></td>
                    <td ng-bind-html="item.tagsHTML"></td>
                    <td>{{item.quantity}}</td>
                    <td>{{item.priceNXT}}</td>
                    <td ng-if="currentAccount && currentAccount.id_rs == id_rs" 
                      ng-click="executeTransaction('dgsDelisting',{goods: item.goods})"
                      class="text-danger" translate="translate.delete_good" ng-disabled="item.delisted"></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more"></span>
            </a>
          </div>
        </div>

        <!-- Past orders (goods) -->

        <div ng-if="paramSection=='pastorders'">
          <div infinite-scroll="provider.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th translate="translate.purchase_id"></th>
                    <th translate="translate.goods_name"></th>
                    <th translate="translate.goods_seller"></th>
                    <th translate="translate.goods_quantity"></th>
                    <th translate="translate.goods_price" translate-values="{symbol:symbol}"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="orders in provider.entities">
                    <td>
                      <a class="past-order-tooltip">
                        {{orders.purchase}}
                        <span>
                          <p>
                            <b translate="translate.buyer_fimk_account" translate-values="{symbol:symbol}"></b><h5>{{orders.buyerRS}}</h5>
                          </p>
                          <p ng-show="orders.buyerName">
                            <b>{{'translate.buyer_name' | translate}}: </b><h5>{{orders.buyerName}}</h5>
                          </p>
                          <p>
                            <b translate="translate.seller_fimk_account" translate-values="{symbol:symbol}"></b>
                            <h5><a href="#/goods/{{paramEngine}}/listing/{{orders.sellerRS}}">{{orders.sellerRS}}</a></h5>
                          </p>
                          <p ng-show="orders.sellerName">
                            <b>{{'translate.seller_name' | translate}}: </b><h5>{{orders.sellerName}}</h5>
                          </p>
                          <p ng-show="orders.pending == false">
                            <b>{{'translate.order_is_delivered' | translate}}</b>
                          </p>
                          <p ng-show="orders.pending == true">
                            <b>{{'translate.order_is_pending' | translate}}</b>
                          </p>
                        </span>
                      </a>
                    </td>
                    <td>{{orders.name}}</td>
                    <td ng-show="!orders.sellerName">({{orders.sellerRS}})&nbsp;
                      <a href 
                        ng-click="executeTransaction('sendMessage',{recipient: orders.sellerRS, editRecipient: false})" 
                        ng-show="currentAccount" translate="translate.message_to_seller"></a></td>
                    <td ng-show="orders.sellerName">{{orders.sellerName}}&nbsp;
                      <a href 
                        ng-click="executeTransaction('sendMessage',{recipient: orders.sellerRS, editRecipient: false})"
                        ng-show="currentAccount" translate="translate.message_to_seller"></a></td>
                    <td>{{orders.quantity}}</td>
                    <td>{{orders.priceNXT}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="load-more-button" ng-show="provider.hasMore">
            <a href ng-click="provider.loadMore()" class="text-lowercase text-muted">
              <span ng-show="provider.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more"></span>
            </a>
          </div>
        </div>

        <!-- Sold Items (goods) -->
        <div ng-if="paramSection=='solditems'">
          <h3 translate="translate.pending_items"></h3>
          <div infinite-scroll="soldGoods.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th translate="translate.purchase_time"></th>
                    <th translate="translate.purchase_id"></th>
                    <th translate="translate.goods_name"></th>
                    <th translate="translate.goods_quantity"></th>
                    <th translate="translate.goods_price" translate-values="{symbol:symbol}"></th>
                    <th translate="translate.delivery_deadline"></th>
                    <th ng-if="currentAccount"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="orders in soldGoods.entities">
                    <td>{{orders.timestamp}}</td>
                    <td>{{orders.purchase}}</td>
                    <td>{{orders.name}}</td>
                    <td>{{orders.quantity}}</td>
                    <td>{{orders.priceNXT}}</td>
                    <td>{{orders.totalDeliveryDeadlineTimestamp}} hours</td>
                    <td ng-if="currentAccount"><button class="btn btn-primary" 
                      ng-click="executeTransaction('dgsDelivery',{purchase: orders.purchase})" 
                      translate="translate.confirm_delivery"></button></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="load-more-button" ng-show="deliveryConfirmedGoods.hasMore">
            <a href ng-click="soldGoods.loadMore()" class="text-lowercase text-muted">
              <span ng-show="soldGoods.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more"></span>
            </a>
          </div>

          <h3 translate="translate.completed_orders"></h3>
          <div infinite-scroll="deliveryConfirmedGoods.loadMore()" infinite-scroll-distance="0" infinite-scroll-immediate-check="false">
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th translate="translate.purchase_time"></th>
                    <th translate="translate.purchase_id"></th>
                    <th translate="translate.goods_name"></th>
                    <!-- <th>Seller</th> -->
                    <th translate="translate.goods_quantity"></th>
                    <th translate="translate.goods_price" translate-values="{symbol:symbol}"></th>
                    <th ng-if="currentAccount"></th>
                    <!-- <th ng-if="currentAccount"></th>
                    <th ng-if="decryptedMessage && currentAccount">{{'translate.message_from_buyer' | translate}}</th> -->
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="orders in deliveryConfirmedGoods.entities">
                    <td>{{orders.timestamp}}</td>
                    <td>{{orders.purchase}}</td>
                    <td>{{orders.name}}</td>
                    <td>{{orders.quantity}}</td>
                    <td>{{orders.priceNXT}}</td>
                    <td ng-if="currentAccount">
                      <button class="btn btn-primary" 
                        ng-click="executeTransaction('dgsRefund', {purchase: orders.purchase,refundNQT: orders.priceNQT})"
                        transacte="translate.refund"></button>
                    </td>
                    <!-- <td ng-if="currentAccount">
                      <button class="btn btn-primary" ng-if="orders.note" ng-click="decrypt(orders.note, $index)">{{'translate.decrypt_message' | translate}}</button>
                      <label ng-if="!orders.note">{{'translate.no_messages' | translate}}</label>
                    </td>
                    <td ng-if="decryptedMessage && currentAccount"><span class="hide-message" ng-class="{'show-message': $index == textMessage}">{{decryptedMessage}}</span></td> -->
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="load-more-button" ng-show="deliveryConfirmedGoods.hasMore">
            <a href ng-click="deliveryConfirmedGoods.loadMore()" class="text-lowercase text-muted">
              <span ng-show="deliveryConfirmedGoods.isLoading"><i class="fa fa-refresh fa-spin"></i></span>
              <span translate="translate.load_more"></span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>